2023-10-08 10:53:37.331 +08:00 [DBG] Connection id "0HMU72QN6JBEU" accepted.
2023-10-08 10:53:37.336 +08:00 [DBG] Connection id "0HMU72QN6JBEU" started.
2023-10-08 10:53:37.364 +08:00 [DBG] Connection 0HMU72QN6JBEU established using the following protocol: "Tls12"
2023-10-08 10:53:37.366 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - -
2023-10-08 10:53:37.367 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-08 10:53:37.367 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-08 10:53:37.367 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 10:53:37.368 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-08 10:53:37.368 +08:00 [INF] CORS policy execution successful.
2023-10-08 10:53:37.370 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-08 10:53:37.370 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 10:53:37.377 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-08 10:53:37.377 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-08 10:53:37.377 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-08 10:53:37.378 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-08 10:53:37.378 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-08 10:53:37.378 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-08 10:53:37.378 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-08 10:53:37.380 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-08 10:53:37.381 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-08 10:53:37.381 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-08 10:53:37.381 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-08 10:53:37.381 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 10:53:37.381 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 10:53:37.382 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-08 10:53:37.382 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-08 10:53:37.382 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-08 10:53:37.382 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-08 10:53:37.382 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-08 10:53:37.382 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 10:53:37.383 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 10:53:37.383 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-08 10:53:37.383 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-08 10:53:37.383 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 10:53:37.383 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-08 10:53:37.383 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 10:53:37.383 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 10:53:37.383 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 10:53:37.383 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 10:53:37.384 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 10:53:37.384 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-08 10:53:37.384 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 10:53:37.384 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 10:53:37.384 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 10:53:37.384 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-08 10:53:37.407 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-08 10:53:37.413 +08:00 [DBG] Compiling query expression: 
'DbSet<School>()
    .Include(s => s.Meters)
    .Include(s => s.SchoolType)
    .Count()'
2023-10-08 10:53:37.426 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM School AS s), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        Sustain.DbContexts.SustainContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-08 10:53:37.434 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 10:53:37.434 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 10:53:37.434 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:53:37.474 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:53:37.474 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-08 10:53:37.479 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-08 10:53:37.479 +08:00 [DBG] A data reader was disposed.
2023-10-08 10:53:37.479 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:53:37.480 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:53:37.480 +08:00 [DBG] Compiling query expression: 
'DbSet<School>()
    .Include(s => s.Meters)
    .Include(s => s.SchoolType)
    .OrderBy(s => s.SchoolName)
    .Skip(__p_0)
    .Take(__p_1)'
2023-10-08 10:53:37.482 +08:00 [DBG] Including navigation: 'School.Meters'.
2023-10-08 10:53:37.483 +08:00 [DBG] Including navigation: 'School.SchoolType'.
2023-10-08 10:53:37.531 +08:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<School>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: School.SchoolId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: School.SchoolLocation (string) MaxLength(100), 1], [Property: School.SchoolName (string) MaxLength(100), 2], [Property: School.SchoolTypeId (int?) FK Index, 3] }
            1 -> 0
            2 -> 4
            3 -> Dictionary<IProperty, int> { [Property: Meter.MeterId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Meter.MeterDescription (string) MaxLength(255), 6], [Property: Meter.MeterName (string) MaxLength(255), 7], [Property: Meter.MeterTypeId (int?) FK Index, 8], [Property: Meter.SchoolId (int?) FK Index, 9], [Property: Meter.UtilityAccountNumber (string), 10] }
            4 -> 5
            5 -> Dictionary<IProperty, int> { [Property: SchoolType.SchoolTypeId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: SchoolType.TypeLongDescription (string) MaxLength(50), 11], [Property: SchoolType.TypeShortDescription (string) Required MaxLength(255), 12] }
        SELECT t.SchoolId, t.SchoolLocation, t.SchoolName, t.SchoolTypeId, s0.SchoolTypeId, m.MeterId, m.MeterDescription, m.MeterName, m.MeterTypeId, m.SchoolId, m.UtilityAccountNumber, s0.TypeLongDescription, s0.TypeShortDescription
        FROM 
        (
            SELECT s.SchoolId, s.SchoolLocation, s.SchoolName, s.SchoolTypeId
            FROM School AS s
            ORDER BY s.SchoolName ASC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t
        LEFT JOIN SchoolType AS s0 ON t.SchoolTypeId == s0.SchoolTypeId
        LEFT JOIN Meter AS m ON t.SchoolId == m.SchoolId
        ORDER BY t.SchoolName ASC, t.SchoolId ASC, s0.SchoolTypeId ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, School>, 
    Sustain.DbContexts.SustainContext, 
    False, 
    False, 
    True
)'
2023-10-08 10:53:37.532 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 10:53:37.532 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 10:53:37.533 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:53:37.534 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:53:37.534 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-08 10:53:37.541 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-08 10:53:37.543 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:53:37.547 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:53:37.550 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:53:37.551 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:53:37.551 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:53:37.551 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:53:37.551 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:53:37.551 +08:00 [DBG] A data reader was disposed.
2023-10-08 10:53:37.551 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:53:37.551 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:53:37.557 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-08 10:53:37.557 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-08 10:53:37.558 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-08 10:53:37.558 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-08 10:53:37.563 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 184.6753ms
2023-10-08 10:53:37.563 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 10:53:37.563 +08:00 [DBG] Connection id "0HMU72QN6JBEU" completed keep alive response.
2023-10-08 10:53:37.563 +08:00 [DBG] 'SustainContext' disposed.
2023-10-08 10:53:37.563 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - - - 200 1127 text/json;+charset=utf-8 197.6310ms
2023-10-08 10:54:53.041 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - -
2023-10-08 10:54:53.041 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-08 10:54:53.041 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-08 10:54:53.041 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 10:54:53.041 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-08 10:54:53.041 +08:00 [INF] CORS policy execution successful.
2023-10-08 10:54:53.041 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-08 10:54:53.041 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 10:54:53.042 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-08 10:54:53.042 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-08 10:54:53.042 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-08 10:54:53.042 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-08 10:54:53.042 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-08 10:54:53.042 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-08 10:54:53.042 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-08 10:54:53.042 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-08 10:54:53.042 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-08 10:54:53.043 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-08 10:54:53.043 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-08 10:54:53.043 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 10:54:53.043 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 10:54:53.043 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-08 10:54:53.043 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-08 10:54:53.043 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-08 10:54:53.043 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-08 10:54:53.043 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-08 10:54:53.043 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 10:54:53.043 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 10:54:53.043 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-08 10:54:53.043 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-08 10:54:53.043 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 10:54:53.043 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-08 10:54:53.043 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 10:54:53.043 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 10:54:53.043 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 10:54:53.043 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 10:54:53.043 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 10:54:53.043 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-08 10:54:53.043 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 10:54:53.043 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 10:54:53.043 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 10:54:53.043 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-08 10:54:53.067 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-08 10:54:53.069 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 10:54:53.069 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 10:54:53.069 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:54:53.069 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:54:53.069 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-08 10:54:53.079 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-08 10:54:53.080 +08:00 [DBG] A data reader was disposed.
2023-10-08 10:54:53.080 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:54:53.080 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:54:53.080 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 10:54:53.080 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 10:54:53.080 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:54:53.080 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:54:53.080 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-08 10:54:53.085 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-08 10:54:53.087 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:54:53.087 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:54:53.087 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:54:53.088 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:54:53.088 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:54:53.089 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:54:53.091 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:54:53.091 +08:00 [DBG] A data reader was disposed.
2023-10-08 10:54:53.091 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:54:53.095 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:54:53.096 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-08 10:54:53.097 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-08 10:54:53.097 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-08 10:54:53.098 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-08 10:54:53.098 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 55.9962ms
2023-10-08 10:54:53.098 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 10:54:53.098 +08:00 [DBG] Connection id "0HMU72QN6JBEU" completed keep alive response.
2023-10-08 10:54:53.098 +08:00 [DBG] 'SustainContext' disposed.
2023-10-08 10:54:53.098 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - - - 200 1127 text/json;+charset=utf-8 57.6700ms
2023-10-08 10:55:09.448 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - -
2023-10-08 10:55:09.449 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-08 10:55:09.449 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-08 10:55:09.449 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 10:55:09.449 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-08 10:55:09.449 +08:00 [INF] CORS policy execution successful.
2023-10-08 10:55:09.449 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-08 10:55:09.449 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 10:55:09.449 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-08 10:55:09.449 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-08 10:55:09.450 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-08 10:55:09.450 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-08 10:55:09.450 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-08 10:55:09.450 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-08 10:55:09.450 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-08 10:55:09.452 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-08 10:55:09.452 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-08 10:55:09.453 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-08 10:55:09.453 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-08 10:55:09.453 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 10:55:09.453 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 10:55:09.453 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-08 10:55:09.453 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-08 10:55:09.453 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-08 10:55:09.454 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-08 10:55:09.455 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-08 10:55:09.456 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 10:55:09.456 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 10:55:09.457 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-08 10:55:09.457 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-08 10:55:09.457 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 10:55:09.457 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-08 10:55:09.457 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 10:55:09.457 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 10:55:09.458 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 10:55:09.458 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 10:55:09.458 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 10:55:09.458 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-08 10:55:09.458 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 10:55:09.458 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 10:55:09.458 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 10:55:09.458 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-08 10:55:09.459 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-08 10:55:09.460 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 10:55:09.460 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 10:55:09.460 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:55:09.460 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:55:09.460 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-08 10:55:09.463 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-08 10:55:09.464 +08:00 [DBG] A data reader was disposed.
2023-10-08 10:55:09.464 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:55:09.464 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:55:09.465 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 10:55:09.465 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 10:55:09.465 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:55:09.465 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:55:09.465 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-08 10:55:09.471 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-08 10:55:09.472 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:55:09.472 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:55:09.472 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:55:09.472 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:55:09.472 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:55:09.472 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:55:09.472 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:55:09.472 +08:00 [DBG] A data reader was disposed.
2023-10-08 10:55:09.472 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:55:09.473 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:55:09.473 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-08 10:55:09.473 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-08 10:55:09.473 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-08 10:55:09.473 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-08 10:55:09.473 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 23.2647ms
2023-10-08 10:55:09.473 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 10:55:09.473 +08:00 [DBG] Connection id "0HMU72QN6JBEU" completed keep alive response.
2023-10-08 10:55:09.473 +08:00 [DBG] 'SustainContext' disposed.
2023-10-08 10:55:09.474 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - - - 200 1127 text/json;+charset=utf-8 25.2120ms
2023-10-08 10:55:10.810 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - -
2023-10-08 10:55:10.810 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-08 10:55:10.810 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-08 10:55:10.810 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 10:55:10.810 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-08 10:55:10.811 +08:00 [INF] CORS policy execution successful.
2023-10-08 10:55:10.811 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-08 10:55:10.811 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 10:55:10.811 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-08 10:55:10.811 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-08 10:55:10.811 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-08 10:55:10.811 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-08 10:55:10.811 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-08 10:55:10.811 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-08 10:55:10.812 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-08 10:55:10.812 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-08 10:55:10.812 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-08 10:55:10.812 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-08 10:55:10.812 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-08 10:55:10.812 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 10:55:10.812 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 10:55:10.813 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-08 10:55:10.813 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-08 10:55:10.813 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-08 10:55:10.813 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-08 10:55:10.813 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-08 10:55:10.813 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 10:55:10.813 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 10:55:10.813 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-08 10:55:10.813 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-08 10:55:10.813 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 10:55:10.813 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-08 10:55:10.814 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 10:55:10.814 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 10:55:10.814 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 10:55:10.814 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 10:55:10.814 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 10:55:10.814 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-08 10:55:10.814 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 10:55:10.814 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 10:55:10.814 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 10:55:10.814 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-08 10:55:10.815 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-08 10:55:10.816 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 10:55:10.816 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 10:55:10.816 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:55:10.817 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:55:10.817 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-08 10:55:10.826 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-08 10:55:10.826 +08:00 [DBG] A data reader was disposed.
2023-10-08 10:55:10.826 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:55:10.827 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:55:10.827 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 10:55:10.827 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 10:55:10.827 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:55:10.827 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:55:10.828 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-08 10:55:10.831 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-08 10:55:10.831 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:55:10.832 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:55:10.832 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:55:10.832 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:55:10.832 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:55:10.833 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:55:10.833 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:55:10.833 +08:00 [DBG] A data reader was disposed.
2023-10-08 10:55:10.833 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:55:10.833 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:55:10.834 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-08 10:55:10.834 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-08 10:55:10.834 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-08 10:55:10.834 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-08 10:55:10.834 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 22.8866ms
2023-10-08 10:55:10.835 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 10:55:10.835 +08:00 [DBG] Connection id "0HMU72QN6JBEU" completed keep alive response.
2023-10-08 10:55:10.835 +08:00 [DBG] 'SustainContext' disposed.
2023-10-08 10:55:10.835 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - - - 200 1127 text/json;+charset=utf-8 24.9838ms
2023-10-08 10:57:18.949 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - -
2023-10-08 10:57:18.949 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-08 10:57:18.949 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-08 10:57:18.949 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 10:57:18.949 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-08 10:57:18.949 +08:00 [INF] CORS policy execution successful.
2023-10-08 10:57:18.949 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-08 10:57:18.949 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 10:57:18.949 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-08 10:57:18.949 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-08 10:57:18.949 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-08 10:57:18.949 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-08 10:57:18.949 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-08 10:57:18.949 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-08 10:57:18.950 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-08 10:57:18.950 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-08 10:57:18.950 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-08 10:57:18.950 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-08 10:57:18.950 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-08 10:57:18.950 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 10:57:18.950 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 10:57:18.950 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-08 10:57:18.950 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-08 10:57:18.950 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-08 10:57:18.950 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-08 10:57:18.950 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-08 10:57:18.950 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 10:57:18.950 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 10:57:18.950 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-08 10:57:18.950 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-08 10:57:18.950 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 10:57:18.950 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-08 10:57:18.951 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 10:57:18.951 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 10:57:18.951 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 10:57:18.951 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 10:57:18.951 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 10:57:18.951 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-08 10:57:18.951 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 10:57:18.951 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 10:57:18.951 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 10:57:18.951 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-08 10:57:18.951 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-08 10:57:18.952 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 10:57:18.952 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 10:57:18.952 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:57:18.952 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:57:18.952 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-08 10:57:18.959 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-08 10:57:18.959 +08:00 [DBG] A data reader was disposed.
2023-10-08 10:57:18.959 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:57:18.959 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:57:18.959 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 10:57:18.959 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 10:57:18.960 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:57:18.960 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:57:18.960 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-08 10:57:18.964 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-08 10:57:18.965 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:57:18.965 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:57:18.966 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:57:18.966 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:57:18.966 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:57:18.966 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:57:18.966 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:57:18.966 +08:00 [DBG] A data reader was disposed.
2023-10-08 10:57:18.967 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:57:18.967 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:57:18.967 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-08 10:57:18.967 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-08 10:57:18.967 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-08 10:57:18.967 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-08 10:57:18.967 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 17.9481ms
2023-10-08 10:57:18.968 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 10:57:18.968 +08:00 [DBG] Connection id "0HMU72QN6JBEU" completed keep alive response.
2023-10-08 10:57:18.968 +08:00 [DBG] 'SustainContext' disposed.
2023-10-08 10:57:18.968 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - - - 200 1127 text/json;+charset=utf-8 19.4213ms
2023-10-08 10:57:20.308 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - -
2023-10-08 10:57:20.308 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-08 10:57:20.308 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-08 10:57:20.309 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 10:57:20.309 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-08 10:57:20.309 +08:00 [INF] CORS policy execution successful.
2023-10-08 10:57:20.309 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-08 10:57:20.309 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 10:57:20.309 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-08 10:57:20.309 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-08 10:57:20.309 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-08 10:57:20.309 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-08 10:57:20.310 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-08 10:57:20.310 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-08 10:57:20.310 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-08 10:57:20.310 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-08 10:57:20.310 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-08 10:57:20.310 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-08 10:57:20.311 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-08 10:57:20.311 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 10:57:20.311 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 10:57:20.311 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-08 10:57:20.311 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-08 10:57:20.311 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-08 10:57:20.311 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-08 10:57:20.311 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-08 10:57:20.311 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 10:57:20.311 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 10:57:20.312 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-08 10:57:20.312 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-08 10:57:20.312 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 10:57:20.312 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-08 10:57:20.312 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 10:57:20.312 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 10:57:20.312 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 10:57:20.312 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 10:57:20.312 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 10:57:20.312 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-08 10:57:20.312 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 10:57:20.312 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 10:57:20.313 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 10:57:20.313 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-08 10:57:20.313 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-08 10:57:20.314 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 10:57:20.314 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 10:57:20.314 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:57:20.315 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:57:20.315 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-08 10:57:20.320 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-08 10:57:20.320 +08:00 [DBG] A data reader was disposed.
2023-10-08 10:57:20.320 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:57:20.321 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:57:20.323 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 10:57:20.323 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 10:57:20.323 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:57:20.323 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:57:20.323 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-08 10:57:20.330 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-08 10:57:20.330 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:57:20.331 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:57:20.331 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:57:20.331 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:57:20.331 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:57:20.331 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:57:20.331 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:57:20.331 +08:00 [DBG] A data reader was disposed.
2023-10-08 10:57:20.331 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:57:20.331 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:57:20.332 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-08 10:57:20.332 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-08 10:57:20.332 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-08 10:57:20.332 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-08 10:57:20.332 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 22.1431ms
2023-10-08 10:57:20.332 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 10:57:20.332 +08:00 [DBG] Connection id "0HMU72QN6JBEU" completed keep alive response.
2023-10-08 10:57:20.332 +08:00 [DBG] 'SustainContext' disposed.
2023-10-08 10:57:20.332 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - - - 200 1127 text/json;+charset=utf-8 23.9698ms
2023-10-08 10:57:21.258 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - -
2023-10-08 10:57:21.259 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-08 10:57:21.259 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-08 10:57:21.259 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 10:57:21.259 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-08 10:57:21.259 +08:00 [INF] CORS policy execution successful.
2023-10-08 10:57:21.259 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-08 10:57:21.259 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 10:57:21.259 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-08 10:57:21.259 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-08 10:57:21.260 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-08 10:57:21.260 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-08 10:57:21.260 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-08 10:57:21.260 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-08 10:57:21.260 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-08 10:57:21.261 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-08 10:57:21.261 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-08 10:57:21.261 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-08 10:57:21.261 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-08 10:57:21.261 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 10:57:21.261 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 10:57:21.261 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-08 10:57:21.261 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-08 10:57:21.262 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-08 10:57:21.262 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-08 10:57:21.262 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-08 10:57:21.262 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 10:57:21.262 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 10:57:21.262 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-08 10:57:21.262 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-08 10:57:21.262 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 10:57:21.262 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-08 10:57:21.263 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 10:57:21.263 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 10:57:21.263 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 10:57:21.263 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 10:57:21.263 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 10:57:21.263 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-08 10:57:21.263 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 10:57:21.263 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 10:57:21.264 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 10:57:21.264 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-08 10:57:21.265 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-08 10:57:21.265 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 10:57:21.265 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 10:57:21.265 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:57:21.265 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:57:21.266 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-08 10:57:21.271 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-08 10:57:21.272 +08:00 [DBG] A data reader was disposed.
2023-10-08 10:57:21.272 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:57:21.272 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:57:21.274 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 10:57:21.274 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 10:57:21.274 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:57:21.274 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:57:21.275 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-08 10:57:21.279 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-08 10:57:21.280 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:57:21.280 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:57:21.280 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:57:21.280 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:57:21.280 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:57:21.280 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:57:21.281 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:57:21.281 +08:00 [DBG] A data reader was disposed.
2023-10-08 10:57:21.281 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:57:21.281 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:57:21.281 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-08 10:57:21.282 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-08 10:57:21.282 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-08 10:57:21.282 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-08 10:57:21.282 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 21.6105ms
2023-10-08 10:57:21.282 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 10:57:21.282 +08:00 [DBG] Connection id "0HMU72QN6JBEU" completed keep alive response.
2023-10-08 10:57:21.282 +08:00 [DBG] 'SustainContext' disposed.
2023-10-08 10:57:21.282 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - - - 200 1127 text/json;+charset=utf-8 23.6820ms
2023-10-08 10:57:22.128 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - -
2023-10-08 10:57:22.128 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-08 10:57:22.128 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-08 10:57:22.128 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 10:57:22.128 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-08 10:57:22.128 +08:00 [INF] CORS policy execution successful.
2023-10-08 10:57:22.128 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-08 10:57:22.129 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 10:57:22.129 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-08 10:57:22.129 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-08 10:57:22.129 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-08 10:57:22.129 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-08 10:57:22.129 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-08 10:57:22.129 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-08 10:57:22.129 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-08 10:57:22.130 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-08 10:57:22.130 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-08 10:57:22.130 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-08 10:57:22.130 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-08 10:57:22.130 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 10:57:22.130 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 10:57:22.130 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-08 10:57:22.131 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-08 10:57:22.131 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-08 10:57:22.131 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-08 10:57:22.131 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-08 10:57:22.131 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 10:57:22.131 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 10:57:22.131 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-08 10:57:22.131 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-08 10:57:22.131 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 10:57:22.131 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-08 10:57:22.132 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 10:57:22.132 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 10:57:22.132 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 10:57:22.132 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 10:57:22.132 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 10:57:22.132 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-08 10:57:22.132 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 10:57:22.132 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 10:57:22.132 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 10:57:22.132 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-08 10:57:22.133 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-08 10:57:22.133 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 10:57:22.134 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 10:57:22.134 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:57:22.135 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:57:22.136 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-08 10:57:22.145 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-08 10:57:22.145 +08:00 [DBG] A data reader was disposed.
2023-10-08 10:57:22.145 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:57:22.146 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:57:22.146 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 10:57:22.146 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 10:57:22.146 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:57:22.146 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:57:22.146 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-08 10:57:22.150 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-08 10:57:22.150 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:57:22.150 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:57:22.150 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:57:22.151 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:57:22.151 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:57:22.151 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:57:22.153 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:57:22.153 +08:00 [DBG] A data reader was disposed.
2023-10-08 10:57:22.153 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:57:22.153 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:57:22.154 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-08 10:57:22.154 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-08 10:57:22.154 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-08 10:57:22.154 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-08 10:57:22.154 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 24.6071ms
2023-10-08 10:57:22.154 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 10:57:22.154 +08:00 [DBG] Connection id "0HMU72QN6JBEU" completed keep alive response.
2023-10-08 10:57:22.154 +08:00 [DBG] 'SustainContext' disposed.
2023-10-08 10:57:22.154 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - - - 200 1127 text/json;+charset=utf-8 26.4849ms
2023-10-08 10:58:15.638 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - -
2023-10-08 10:58:15.638 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-08 10:58:15.638 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-08 10:58:15.638 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 10:58:15.638 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-08 10:58:15.638 +08:00 [INF] CORS policy execution successful.
2023-10-08 10:58:15.638 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-08 10:58:15.639 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 10:58:15.639 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-08 10:58:15.639 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-08 10:58:15.639 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-08 10:58:15.639 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-08 10:58:15.639 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-08 10:58:15.639 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-08 10:58:15.639 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-08 10:58:15.639 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-08 10:58:15.639 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-08 10:58:15.639 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-08 10:58:15.639 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-08 10:58:15.639 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 10:58:15.639 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 10:58:15.639 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-08 10:58:15.640 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-08 10:58:15.640 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-08 10:58:15.640 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-08 10:58:15.640 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-08 10:58:15.640 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 10:58:15.640 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 10:58:15.640 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-08 10:58:15.640 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-08 10:58:15.640 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 10:58:15.640 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-08 10:58:15.640 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 10:58:15.640 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 10:58:15.640 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 10:58:15.640 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 10:58:15.640 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 10:58:15.640 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-08 10:58:15.640 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 10:58:15.640 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 10:58:15.640 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 10:58:15.640 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-08 10:58:15.641 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-08 10:58:15.641 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 10:58:15.641 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 10:58:15.641 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:58:15.641 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:58:15.641 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-08 10:58:15.645 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-08 10:58:15.645 +08:00 [DBG] A data reader was disposed.
2023-10-08 10:58:15.645 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:58:15.645 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:58:15.646 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 10:58:15.646 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 10:58:15.646 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:58:15.646 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:58:15.646 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-08 10:58:15.652 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-08 10:58:15.653 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:58:15.654 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:58:15.654 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:58:15.655 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:58:15.655 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:58:15.655 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:58:15.655 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:58:15.655 +08:00 [DBG] A data reader was disposed.
2023-10-08 10:58:15.655 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:58:15.655 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:58:15.655 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-08 10:58:15.655 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-08 10:58:15.655 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-08 10:58:15.655 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-08 10:58:15.655 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 16.5901ms
2023-10-08 10:58:15.656 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 10:58:15.656 +08:00 [DBG] Connection id "0HMU72QN6JBEU" completed keep alive response.
2023-10-08 10:58:15.658 +08:00 [DBG] 'SustainContext' disposed.
2023-10-08 10:58:15.659 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - - - 200 1127 text/json;+charset=utf-8 20.8475ms
2023-10-08 10:59:27.940 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - -
2023-10-08 10:59:27.940 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-08 10:59:27.940 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-08 10:59:27.940 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 10:59:27.940 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-08 10:59:27.940 +08:00 [INF] CORS policy execution successful.
2023-10-08 10:59:27.940 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-08 10:59:27.940 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 10:59:27.940 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-08 10:59:27.940 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-08 10:59:27.940 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-08 10:59:27.940 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-08 10:59:27.940 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-08 10:59:27.941 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-08 10:59:27.941 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-08 10:59:27.941 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-08 10:59:27.941 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-08 10:59:27.941 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-08 10:59:27.941 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-08 10:59:27.941 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 10:59:27.941 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 10:59:27.941 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-08 10:59:27.941 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-08 10:59:27.941 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-08 10:59:27.941 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-08 10:59:27.941 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-08 10:59:27.941 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 10:59:27.941 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 10:59:27.941 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-08 10:59:27.941 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-08 10:59:27.941 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 10:59:27.941 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-08 10:59:27.941 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 10:59:27.941 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 10:59:27.941 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 10:59:27.941 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 10:59:27.942 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 10:59:27.942 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-08 10:59:27.942 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 10:59:27.942 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 10:59:27.942 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 10:59:27.942 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-08 10:59:27.942 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-08 10:59:27.942 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 10:59:27.942 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 10:59:27.942 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:59:27.942 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:59:27.942 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-08 10:59:27.945 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-08 10:59:27.945 +08:00 [DBG] A data reader was disposed.
2023-10-08 10:59:27.945 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:59:27.945 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:59:27.946 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 10:59:27.946 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 10:59:27.946 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:59:27.946 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:59:27.947 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-08 10:59:27.951 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-08 10:59:27.952 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:59:27.952 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:59:27.952 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:59:27.952 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:59:27.953 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:59:27.953 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:59:27.953 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:59:27.953 +08:00 [DBG] A data reader was disposed.
2023-10-08 10:59:27.953 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:59:27.953 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:59:27.953 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-08 10:59:27.953 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-08 10:59:27.953 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-08 10:59:27.953 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-08 10:59:27.954 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 13.0742ms
2023-10-08 10:59:27.954 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 10:59:27.954 +08:00 [DBG] Connection id "0HMU72QN6JBEU" completed keep alive response.
2023-10-08 10:59:27.954 +08:00 [DBG] 'SustainContext' disposed.
2023-10-08 10:59:27.954 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - - - 200 1127 text/json;+charset=utf-8 14.2104ms
2023-10-08 10:59:47.918 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - -
2023-10-08 10:59:47.918 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-08 10:59:47.918 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-08 10:59:47.918 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 10:59:47.919 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-08 10:59:47.919 +08:00 [INF] CORS policy execution successful.
2023-10-08 10:59:47.919 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-08 10:59:47.919 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 10:59:47.919 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-08 10:59:47.919 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-08 10:59:47.919 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-08 10:59:47.919 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-08 10:59:47.919 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-08 10:59:47.919 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-08 10:59:47.919 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-08 10:59:47.919 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-08 10:59:47.920 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-08 10:59:47.920 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-08 10:59:47.920 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-08 10:59:47.920 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 10:59:47.920 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 10:59:47.920 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-08 10:59:47.920 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-08 10:59:47.920 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-08 10:59:47.920 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-08 10:59:47.920 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-08 10:59:47.920 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 10:59:47.920 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 10:59:47.921 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-08 10:59:47.921 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-08 10:59:47.921 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 10:59:47.921 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-08 10:59:47.921 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 10:59:47.921 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 10:59:47.921 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 10:59:47.921 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 10:59:47.921 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 10:59:47.921 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-08 10:59:47.921 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 10:59:47.921 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 10:59:47.921 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 10:59:47.921 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-08 10:59:47.921 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-08 10:59:47.922 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 10:59:47.922 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 10:59:47.922 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:59:47.922 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:59:47.922 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-08 10:59:47.926 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-08 10:59:47.926 +08:00 [DBG] A data reader was disposed.
2023-10-08 10:59:47.926 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:59:47.926 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:59:47.927 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 10:59:47.927 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 10:59:47.927 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:59:47.927 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:59:47.927 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-08 10:59:47.931 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-08 10:59:47.931 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:59:47.931 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:59:47.931 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:59:47.934 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:59:47.934 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:59:47.934 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:59:47.935 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 10:59:47.935 +08:00 [DBG] A data reader was disposed.
2023-10-08 10:59:47.935 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:59:47.935 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 10:59:47.935 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-08 10:59:47.935 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-08 10:59:47.935 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-08 10:59:47.935 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-08 10:59:47.936 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 16.5007ms
2023-10-08 10:59:47.936 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 10:59:47.936 +08:00 [DBG] Connection id "0HMU72QN6JBEU" completed keep alive response.
2023-10-08 10:59:47.936 +08:00 [DBG] 'SustainContext' disposed.
2023-10-08 10:59:47.936 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - - - 200 1127 text/json;+charset=utf-8 18.1168ms
2023-10-08 11:01:53.713 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - -
2023-10-08 11:01:53.714 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-08 11:01:53.714 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-08 11:01:53.714 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 11:01:53.714 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-08 11:01:53.714 +08:00 [INF] CORS policy execution successful.
2023-10-08 11:01:53.714 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-08 11:01:53.714 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 11:01:53.715 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-08 11:01:53.715 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-08 11:01:53.715 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-08 11:01:53.715 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-08 11:01:53.715 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-08 11:01:53.715 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-08 11:01:53.715 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-08 11:01:53.716 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-08 11:01:53.716 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-08 11:01:53.716 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-08 11:01:53.716 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-08 11:01:53.716 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 11:01:53.716 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 11:01:53.716 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-08 11:01:53.716 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-08 11:01:53.716 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-08 11:01:53.716 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-08 11:01:53.716 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-08 11:01:53.716 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 11:01:53.716 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 11:01:53.716 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-08 11:01:53.716 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-08 11:01:53.716 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 11:01:53.716 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-08 11:01:53.717 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 11:01:53.717 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 11:01:53.717 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 11:01:53.717 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 11:01:53.717 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 11:01:53.717 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-08 11:01:53.717 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 11:01:53.717 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 11:01:53.717 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 11:01:53.717 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-08 11:01:53.719 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-08 11:01:53.720 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 11:01:53.720 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 11:01:53.720 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:01:53.720 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:01:53.720 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-08 11:01:53.725 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-08 11:01:53.726 +08:00 [DBG] A data reader was disposed.
2023-10-08 11:01:53.726 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:01:53.726 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:01:53.726 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 11:01:53.726 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 11:01:53.726 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:01:53.727 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:01:53.727 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-08 11:01:53.730 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-08 11:01:53.731 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:01:53.731 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:01:53.731 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:01:53.731 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:01:53.731 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:01:53.731 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:01:53.731 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:01:53.732 +08:00 [DBG] A data reader was disposed.
2023-10-08 11:01:53.732 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:01:53.732 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:01:53.732 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-08 11:01:53.732 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-08 11:01:53.732 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-08 11:01:53.732 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-08 11:01:53.732 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 17.3587ms
2023-10-08 11:01:53.733 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 11:01:53.733 +08:00 [DBG] Connection id "0HMU72QN6JBEU" completed keep alive response.
2023-10-08 11:01:53.733 +08:00 [DBG] 'SustainContext' disposed.
2023-10-08 11:01:53.733 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - - - 200 1127 text/json;+charset=utf-8 19.7765ms
2023-10-08 11:02:09.271 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - -
2023-10-08 11:02:09.271 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-08 11:02:09.271 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-08 11:02:09.271 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 11:02:09.271 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-08 11:02:09.271 +08:00 [INF] CORS policy execution successful.
2023-10-08 11:02:09.271 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-08 11:02:09.271 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 11:02:09.272 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-08 11:02:09.272 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-08 11:02:09.272 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-08 11:02:09.272 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-08 11:02:09.272 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-08 11:02:09.272 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-08 11:02:09.272 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-08 11:02:09.272 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-08 11:02:09.272 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-08 11:02:09.272 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-08 11:02:09.272 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-08 11:02:09.272 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 11:02:09.272 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 11:02:09.272 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-08 11:02:09.272 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-08 11:02:09.273 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-08 11:02:09.273 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-08 11:02:09.273 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-08 11:02:09.273 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 11:02:09.273 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 11:02:09.273 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-08 11:02:09.273 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-08 11:02:09.273 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 11:02:09.273 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-08 11:02:09.273 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 11:02:09.273 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 11:02:09.273 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 11:02:09.273 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 11:02:09.273 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 11:02:09.273 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-08 11:02:09.273 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 11:02:09.273 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 11:02:09.273 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 11:02:09.273 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-08 11:02:09.274 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-08 11:02:09.274 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 11:02:09.274 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 11:02:09.274 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:02:09.274 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:02:09.274 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-08 11:02:09.277 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-08 11:02:09.277 +08:00 [DBG] A data reader was disposed.
2023-10-08 11:02:09.277 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:02:09.277 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:02:09.278 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 11:02:09.278 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 11:02:09.278 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:02:09.278 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:02:09.278 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-08 11:02:09.282 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-08 11:02:09.283 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:02:09.285 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:02:09.285 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:02:09.285 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:02:09.285 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:02:09.285 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:02:09.285 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:02:09.285 +08:00 [DBG] A data reader was disposed.
2023-10-08 11:02:09.286 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:02:09.286 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:02:09.286 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-08 11:02:09.286 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-08 11:02:09.286 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-08 11:02:09.286 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-08 11:02:09.287 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 14.6554ms
2023-10-08 11:02:09.287 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 11:02:09.287 +08:00 [DBG] Connection id "0HMU72QN6JBEU" completed keep alive response.
2023-10-08 11:02:09.287 +08:00 [DBG] 'SustainContext' disposed.
2023-10-08 11:02:09.288 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - - - 200 1127 text/json;+charset=utf-8 17.0672ms
2023-10-08 11:02:23.762 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - -
2023-10-08 11:02:23.762 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-08 11:02:23.762 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-08 11:02:23.762 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 11:02:23.762 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-08 11:02:23.762 +08:00 [INF] CORS policy execution successful.
2023-10-08 11:02:23.763 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-08 11:02:23.763 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 11:02:23.763 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-08 11:02:23.763 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-08 11:02:23.763 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-08 11:02:23.763 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-08 11:02:23.763 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-08 11:02:23.763 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-08 11:02:23.763 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-08 11:02:23.763 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-08 11:02:23.763 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-08 11:02:23.763 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-08 11:02:23.763 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-08 11:02:23.763 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 11:02:23.763 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 11:02:23.763 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-08 11:02:23.763 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-08 11:02:23.763 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-08 11:02:23.764 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-08 11:02:23.764 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-08 11:02:23.764 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 11:02:23.764 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 11:02:23.764 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-08 11:02:23.764 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-08 11:02:23.764 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 11:02:23.764 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-08 11:02:23.764 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 11:02:23.764 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 11:02:23.764 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 11:02:23.764 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 11:02:23.764 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 11:02:23.764 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-08 11:02:23.764 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 11:02:23.764 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 11:02:23.764 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 11:02:23.764 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-08 11:02:23.765 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-08 11:02:23.765 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 11:02:23.765 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 11:02:23.765 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:02:23.765 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:02:23.765 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-08 11:02:23.768 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-08 11:02:23.769 +08:00 [DBG] A data reader was disposed.
2023-10-08 11:02:23.769 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:02:23.769 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:02:23.769 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 11:02:23.769 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 11:02:23.770 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:02:23.770 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:02:23.770 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-08 11:02:23.773 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-08 11:02:23.774 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:02:23.774 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:02:23.774 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:02:23.774 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:02:23.774 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:02:23.774 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:02:23.774 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:02:23.774 +08:00 [DBG] A data reader was disposed.
2023-10-08 11:02:23.774 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:02:23.774 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:02:23.774 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-08 11:02:23.774 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-08 11:02:23.774 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-08 11:02:23.774 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-08 11:02:23.774 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 11.5295ms
2023-10-08 11:02:23.775 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 11:02:23.775 +08:00 [DBG] Connection id "0HMU72QN6JBEU" completed keep alive response.
2023-10-08 11:02:23.775 +08:00 [DBG] 'SustainContext' disposed.
2023-10-08 11:02:23.775 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - - - 200 1127 text/json;+charset=utf-8 13.2337ms
2023-10-08 11:02:59.601 +08:00 [DBG] Connection id "0HMU72QN6JBEV" accepted.
2023-10-08 11:02:59.602 +08:00 [DBG] Connection id "0HMU72QN6JBEV" started.
2023-10-08 11:02:59.626 +08:00 [DBG] Connection 0HMU72QN6JBEV established using the following protocol: "Tls12"
2023-10-08 11:02:59.627 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/swagger/v1/swagger.json - -
2023-10-08 11:02:59.627 +08:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-10-08 11:02:59.627 +08:00 [DBG] Request did not match any endpoints
2023-10-08 11:02:59.644 +08:00 [DBG] Connection id "0HMU72QN6JBEV" completed keep alive response.
2023-10-08 11:02:59.644 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 17.3441ms
2023-10-08 11:02:59.729 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/favicon.ico - -
2023-10-08 11:02:59.729 +08:00 [DBG] No candidates found for the request path '/favicon.ico'
2023-10-08 11:02:59.729 +08:00 [DBG] Request did not match any endpoints
2023-10-08 11:02:59.729 +08:00 [DBG] The request path  does not match the path filter
2023-10-08 11:02:59.730 +08:00 [DBG] Connection id "0HMU72QN6JBEV" completed keep alive response.
2023-10-08 11:02:59.730 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/favicon.ico - - - 404 0 - 1.3292ms
2023-10-08 11:04:33.952 +08:00 [DBG] Connection id "0HMU72QN6JBEU" disconnecting.
2023-10-08 11:04:33.953 +08:00 [DBG] Connection id "0HMU72QN6JBEU" stopped.
2023-10-08 11:04:33.954 +08:00 [DBG] Connection id "0HMU72QN6JBEU" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-08 11:04:57.408 +08:00 [DBG] Connection id "0HMU72QN6JBF0" accepted.
2023-10-08 11:04:57.408 +08:00 [DBG] Connection id "0HMU72QN6JBF0" started.
2023-10-08 11:04:57.430 +08:00 [DBG] Connection 0HMU72QN6JBF0 established using the following protocol: "Tls12"
2023-10-08 11:04:57.431 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - -
2023-10-08 11:04:57.431 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-08 11:04:57.431 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-08 11:04:57.431 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 11:04:57.431 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-08 11:04:57.431 +08:00 [INF] CORS policy execution successful.
2023-10-08 11:04:57.431 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-08 11:04:57.432 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 11:04:57.432 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-08 11:04:57.432 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-08 11:04:57.432 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-08 11:04:57.432 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-08 11:04:57.432 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-08 11:04:57.432 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-08 11:04:57.432 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-08 11:04:57.433 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-08 11:04:57.433 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-08 11:04:57.434 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-08 11:04:57.434 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-08 11:04:57.434 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 11:04:57.434 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 11:04:57.434 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-08 11:04:57.434 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-08 11:04:57.435 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-08 11:04:57.435 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-08 11:04:57.435 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-08 11:04:57.435 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 11:04:57.435 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 11:04:57.435 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-08 11:04:57.435 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-08 11:04:57.435 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 11:04:57.435 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-08 11:04:57.435 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 11:04:57.435 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 11:04:57.435 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 11:04:57.435 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 11:04:57.436 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 11:04:57.436 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-08 11:04:57.436 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 11:04:57.436 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 11:04:57.437 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 11:04:57.437 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-08 11:04:57.438 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-08 11:04:57.439 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 11:04:57.439 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 11:04:57.439 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:04:57.440 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:04:57.440 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-08 11:04:57.444 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-08 11:04:57.444 +08:00 [DBG] A data reader was disposed.
2023-10-08 11:04:57.444 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:04:57.444 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:04:57.445 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 11:04:57.445 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 11:04:57.445 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:04:57.445 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:04:57.445 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-08 11:04:57.451 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-08 11:04:57.452 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:04:57.453 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:04:57.453 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:04:57.453 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:04:57.453 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:04:57.453 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:04:57.453 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:04:57.453 +08:00 [DBG] A data reader was disposed.
2023-10-08 11:04:57.453 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:04:57.453 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:04:57.453 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-08 11:04:57.454 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-08 11:04:57.454 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-08 11:04:57.454 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-08 11:04:57.455 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 22.2352ms
2023-10-08 11:04:57.455 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 11:04:57.455 +08:00 [DBG] Connection id "0HMU72QN6JBF0" completed keep alive response.
2023-10-08 11:04:57.455 +08:00 [DBG] 'SustainContext' disposed.
2023-10-08 11:04:57.458 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - - - 200 1127 text/json;+charset=utf-8 27.1245ms
2023-10-08 11:05:09.987 +08:00 [DBG] Connection id "0HMU72QN6JBEV" disconnecting.
2023-10-08 11:05:09.989 +08:00 [DBG] Connection id "0HMU72QN6JBEV" stopped.
2023-10-08 11:05:09.989 +08:00 [DBG] Connection id "0HMU72QN6JBEV" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-08 11:05:11.983 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - -
2023-10-08 11:05:11.984 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-08 11:05:11.984 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-08 11:05:11.984 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 11:05:11.984 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-08 11:05:11.984 +08:00 [INF] CORS policy execution successful.
2023-10-08 11:05:11.985 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-08 11:05:11.985 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 11:05:11.985 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-08 11:05:11.985 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-08 11:05:11.985 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-08 11:05:11.985 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-08 11:05:11.985 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-08 11:05:11.985 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-08 11:05:11.986 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-08 11:05:11.986 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-08 11:05:11.986 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-08 11:05:11.986 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-08 11:05:11.986 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-08 11:05:11.986 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 11:05:11.986 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 11:05:11.987 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-08 11:05:11.987 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-08 11:05:11.987 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-08 11:05:11.987 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-08 11:05:11.987 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-08 11:05:11.987 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 11:05:11.987 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 11:05:11.987 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-08 11:05:11.987 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-08 11:05:11.988 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 11:05:11.988 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-08 11:05:11.988 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 11:05:11.988 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 11:05:11.988 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 11:05:11.988 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 11:05:11.989 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 11:05:11.989 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-08 11:05:11.989 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 11:05:11.991 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 11:05:11.991 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 11:05:11.991 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-08 11:05:11.992 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-08 11:05:11.993 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 11:05:11.993 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 11:05:11.993 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:05:11.994 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:05:11.994 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-08 11:05:11.997 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-08 11:05:11.998 +08:00 [DBG] A data reader was disposed.
2023-10-08 11:05:11.998 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:05:11.998 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:05:12.000 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 11:05:12.001 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-10-08 11:05:12.004 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:05:12.005 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:05:12.006 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-08 11:05:12.010 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-08 11:05:12.011 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:05:12.011 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:05:12.011 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:05:12.011 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:05:12.011 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:05:12.011 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:05:12.011 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:05:12.011 +08:00 [DBG] A data reader was disposed.
2023-10-08 11:05:12.011 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:05:12.011 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:05:12.012 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-08 11:05:12.012 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-08 11:05:12.012 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-08 11:05:12.012 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-08 11:05:12.012 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 26.3422ms
2023-10-08 11:05:12.012 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 11:05:12.012 +08:00 [DBG] Connection id "0HMU72QN6JBF0" completed keep alive response.
2023-10-08 11:05:12.012 +08:00 [DBG] 'SustainContext' disposed.
2023-10-08 11:05:12.012 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - - - 200 1127 text/json;+charset=utf-8 28.8912ms
2023-10-08 11:05:17.977 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=2&pageSize=5 - -
2023-10-08 11:05:17.978 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-08 11:05:17.978 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-08 11:05:17.978 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 11:05:17.978 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-08 11:05:17.978 +08:00 [INF] CORS policy execution successful.
2023-10-08 11:05:17.978 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-08 11:05:17.978 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 11:05:17.978 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-08 11:05:17.979 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-08 11:05:17.979 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-08 11:05:17.979 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-08 11:05:17.979 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-08 11:05:17.979 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-08 11:05:17.979 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-08 11:05:17.980 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-08 11:05:17.980 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-08 11:05:17.980 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-08 11:05:17.980 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-08 11:05:17.980 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 11:05:17.980 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 11:05:17.980 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-08 11:05:17.980 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-08 11:05:17.980 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-08 11:05:17.980 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-08 11:05:17.981 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-08 11:05:17.981 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 11:05:17.981 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 11:05:17.981 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-08 11:05:17.981 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-08 11:05:17.981 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 11:05:17.981 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-08 11:05:17.981 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 11:05:17.981 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 11:05:17.981 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 11:05:17.981 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 11:05:17.982 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 11:05:17.982 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-08 11:05:17.982 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 11:05:17.982 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 11:05:17.982 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 11:05:17.982 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-08 11:05:17.984 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-08 11:05:17.984 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 11:05:17.985 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 11:05:17.985 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:05:17.985 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:05:17.985 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-08 11:05:17.988 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-08 11:05:17.988 +08:00 [DBG] A data reader was disposed.
2023-10-08 11:05:17.988 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:05:17.988 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:05:17.989 +08:00 [DBG] Compiling query expression: 
'DbSet<School>()
    .Include(s => s.Meters)
    .Include(s => s.SchoolType)
    .OrderBy(s => s.SchoolName)
    .Skip(__p_0)
    .Take(__p_0)'
2023-10-08 11:05:17.990 +08:00 [DBG] Including navigation: 'School.Meters'.
2023-10-08 11:05:17.991 +08:00 [DBG] Including navigation: 'School.SchoolType'.
2023-10-08 11:05:18.007 +08:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<School>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: School.SchoolId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: School.SchoolLocation (string) MaxLength(100), 1], [Property: School.SchoolName (string) MaxLength(100), 2], [Property: School.SchoolTypeId (int?) FK Index, 3] }
            1 -> 0
            2 -> 4
            3 -> Dictionary<IProperty, int> { [Property: Meter.MeterId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Meter.MeterDescription (string) MaxLength(255), 6], [Property: Meter.MeterName (string) MaxLength(255), 7], [Property: Meter.MeterTypeId (int?) FK Index, 8], [Property: Meter.SchoolId (int?) FK Index, 9], [Property: Meter.UtilityAccountNumber (string), 10] }
            4 -> 5
            5 -> Dictionary<IProperty, int> { [Property: SchoolType.SchoolTypeId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: SchoolType.TypeLongDescription (string) MaxLength(50), 11], [Property: SchoolType.TypeShortDescription (string) Required MaxLength(255), 12] }
        SELECT t.SchoolId, t.SchoolLocation, t.SchoolName, t.SchoolTypeId, s0.SchoolTypeId, m.MeterId, m.MeterDescription, m.MeterName, m.MeterTypeId, m.SchoolId, m.UtilityAccountNumber, s0.TypeLongDescription, s0.TypeShortDescription
        FROM 
        (
            SELECT s.SchoolId, s.SchoolLocation, s.SchoolName, s.SchoolTypeId
            FROM School AS s
            ORDER BY s.SchoolName ASC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
        ) AS t
        LEFT JOIN SchoolType AS s0 ON t.SchoolTypeId == s0.SchoolTypeId
        LEFT JOIN Meter AS m ON t.SchoolId == m.SchoolId
        ORDER BY t.SchoolName ASC, t.SchoolId ASC, s0.SchoolTypeId ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, School>, 
    Sustain.DbContexts.SustainContext, 
    False, 
    False, 
    True
)'
2023-10-08 11:05:18.007 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 11:05:18.007 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 11:05:18.008 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:05:18.008 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:05:18.008 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-08 11:05:18.011 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-08 11:05:18.011 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:05:18.011 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:05:18.011 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:05:18.011 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:05:18.011 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:05:18.012 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:05:18.012 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:05:18.012 +08:00 [DBG] Context 'SustainContext' started tracking 'Meter' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:05:18.014 +08:00 [DBG] A data reader was disposed.
2023-10-08 11:05:18.015 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:05:18.015 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:05:18.015 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-08 11:05:18.015 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-08 11:05:18.015 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-08 11:05:18.015 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-08 11:05:18.017 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 37.5352ms
2023-10-08 11:05:18.017 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 11:05:18.017 +08:00 [DBG] Connection id "0HMU72QN6JBF0" completed keep alive response.
2023-10-08 11:05:18.017 +08:00 [DBG] 'SustainContext' disposed.
2023-10-08 11:05:18.017 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=2&pageSize=5 - - - 200 1247 text/json;+charset=utf-8 39.6400ms
2023-10-08 11:06:14.576 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - -
2023-10-08 11:06:14.576 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-08 11:06:14.576 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-08 11:06:14.576 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 11:06:14.576 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-08 11:06:14.576 +08:00 [INF] CORS policy execution successful.
2023-10-08 11:06:14.577 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-08 11:06:14.577 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 11:06:14.577 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-08 11:06:14.577 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-08 11:06:14.577 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-08 11:06:14.577 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-08 11:06:14.577 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-08 11:06:14.577 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-08 11:06:14.577 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-08 11:06:14.577 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-08 11:06:14.578 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-08 11:06:14.578 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-08 11:06:14.578 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-08 11:06:14.578 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 11:06:14.578 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 11:06:14.578 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-08 11:06:14.578 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-08 11:06:14.578 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-08 11:06:14.578 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-08 11:06:14.578 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-08 11:06:14.578 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 11:06:14.578 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 11:06:14.578 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-08 11:06:14.578 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-08 11:06:14.578 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 11:06:14.578 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-08 11:06:14.578 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 11:06:14.578 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 11:06:14.578 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 11:06:14.578 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 11:06:14.578 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 11:06:14.578 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-08 11:06:14.578 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 11:06:14.579 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 11:06:14.579 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 11:06:14.579 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-08 11:06:14.579 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-08 11:06:14.579 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 11:06:14.579 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 11:06:14.579 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:06:14.580 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:06:14.580 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-08 11:06:14.586 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-08 11:06:14.587 +08:00 [DBG] A data reader was disposed.
2023-10-08 11:06:14.587 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:06:14.587 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:06:14.587 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 11:06:14.587 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 11:06:14.587 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:06:14.587 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:06:14.587 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-08 11:06:14.592 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-08 11:06:14.592 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:06:14.592 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:06:14.592 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:06:14.592 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:06:14.592 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:06:14.592 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:06:14.592 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:06:14.592 +08:00 [DBG] A data reader was disposed.
2023-10-08 11:06:14.593 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:06:14.593 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:06:14.593 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-08 11:06:14.593 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-08 11:06:14.593 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-08 11:06:14.593 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-08 11:06:14.593 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 15.9862ms
2023-10-08 11:06:14.593 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 11:06:14.594 +08:00 [DBG] Connection id "0HMU72QN6JBF0" completed keep alive response.
2023-10-08 11:06:14.594 +08:00 [DBG] 'SustainContext' disposed.
2023-10-08 11:06:14.594 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - - - 200 1127 text/json;+charset=utf-8 17.9315ms
2023-10-08 11:08:12.285 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - -
2023-10-08 11:08:12.285 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-08 11:08:12.285 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-08 11:08:12.285 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 11:08:12.285 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-08 11:08:12.285 +08:00 [INF] CORS policy execution successful.
2023-10-08 11:08:12.286 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-08 11:08:12.286 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 11:08:12.286 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-08 11:08:12.286 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-08 11:08:12.286 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-08 11:08:12.286 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-08 11:08:12.286 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-08 11:08:12.286 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-08 11:08:12.286 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-08 11:08:12.286 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-08 11:08:12.286 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-08 11:08:12.286 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-08 11:08:12.286 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-08 11:08:12.286 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 11:08:12.287 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 11:08:12.287 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-08 11:08:12.287 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-08 11:08:12.287 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-08 11:08:12.287 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-08 11:08:12.287 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-08 11:08:12.287 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 11:08:12.287 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 11:08:12.287 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-08 11:08:12.287 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-08 11:08:12.287 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 11:08:12.287 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-08 11:08:12.287 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 11:08:12.287 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 11:08:12.287 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 11:08:12.287 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 11:08:12.287 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 11:08:12.287 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-08 11:08:12.287 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 11:08:12.287 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 11:08:12.287 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 11:08:12.287 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-08 11:08:12.288 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-08 11:08:12.289 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 11:08:12.289 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 11:08:12.289 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:08:12.289 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:08:12.289 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-08 11:08:12.295 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-08 11:08:12.295 +08:00 [DBG] A data reader was disposed.
2023-10-08 11:08:12.295 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:08:12.295 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:08:12.295 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 11:08:12.295 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 11:08:12.295 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:08:12.295 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:08:12.295 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-08 11:08:12.300 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-08 11:08:12.300 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:08:12.300 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:08:12.300 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:08:12.300 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:08:12.300 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:08:12.300 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:08:12.300 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:08:12.300 +08:00 [DBG] A data reader was disposed.
2023-10-08 11:08:12.300 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:08:12.300 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:08:12.301 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-08 11:08:12.301 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-08 11:08:12.301 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-08 11:08:12.301 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-08 11:08:12.301 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 15.003ms
2023-10-08 11:08:12.301 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 11:08:12.301 +08:00 [DBG] Connection id "0HMU72QN6JBF0" completed keep alive response.
2023-10-08 11:08:12.301 +08:00 [DBG] 'SustainContext' disposed.
2023-10-08 11:08:12.301 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - - - 200 1127 text/json;+charset=utf-8 16.5155ms
2023-10-08 11:10:23.356 +08:00 [DBG] Connection id "0HMU72QN6JBF0" disconnecting.
2023-10-08 11:10:23.359 +08:00 [DBG] Connection id "0HMU72QN6JBF0" stopped.
2023-10-08 11:10:23.360 +08:00 [DBG] Connection id "0HMU72QN6JBF0" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-08 11:26:17.415 +08:00 [INF] Application is shutting down...
2023-10-08 11:26:17.417 +08:00 [DBG] Hosting stopping
2023-10-08 11:26:17.426 +08:00 [DBG] Hosting stopped
2023-10-08 11:36:41.563 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-08 11:36:41.610 +08:00 [DBG] Hosting starting
2023-10-08 11:36:41.686 +08:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 94E46C593C0BE06B61505D939614C7B944816EDD)
2023-10-08 11:36:41.695 +08:00 [INF] Now listening on: https://localhost:7195
2023-10-08 11:36:41.695 +08:00 [INF] Now listening on: http://localhost:5108
2023-10-08 11:36:41.695 +08:00 [DBG] Loaded hosting startup assembly contactsapp
2023-10-08 11:36:41.695 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-08 11:36:41.695 +08:00 [INF] Hosting environment: Development
2023-10-08 11:36:41.695 +08:00 [INF] Content root path: /Users/philipwebb/Development/dotnetangular/contactsapp/
2023-10-08 11:36:41.695 +08:00 [DBG] Hosting started
2023-10-08 11:36:54.143 +08:00 [DBG] Connection id "0HMU7LV8EODAT" accepted.
2023-10-08 11:36:54.145 +08:00 [DBG] Connection id "0HMU7LV8EODAT" started.
2023-10-08 11:36:54.194 +08:00 [DBG] Connection 0HMU7LV8EODAT established using the following protocol: "Tls12"
2023-10-08 11:36:54.214 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/swagger/index.html - -
2023-10-08 11:36:54.216 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-10-08 11:36:54.232 +08:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-10-08 11:36:54.232 +08:00 [DBG] Request did not match any endpoints
2023-10-08 11:36:54.280 +08:00 [DBG] Connection id "0HMU7LV8EODAT" completed keep alive response.
2023-10-08 11:36:54.281 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/swagger/index.html - - - 200 - text/html;charset=utf-8 69.0327ms
2023-10-08 11:36:54.384 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/swagger/v1/swagger.json - -
2023-10-08 11:36:54.385 +08:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-10-08 11:36:54.385 +08:00 [DBG] Request did not match any endpoints
2023-10-08 11:36:54.438 +08:00 [DBG] Connection id "0HMU7LV8EODAT" completed keep alive response.
2023-10-08 11:36:54.438 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 53.4972ms
2023-10-08 11:37:03.851 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/Meters?schoolid=5&pageNumber=1&pageSize=5 - -
2023-10-08 11:37:03.858 +08:00 [DBG] 1 candidate(s) found for the request path '/api/Meters'
2023-10-08 11:37:03.862 +08:00 [DBG] Endpoint 'Sustain.Controllers.MetersController.GetMetersForSchool (contactsapp)' with route pattern 'api/Meters' is valid for the request path '/api/Meters'
2023-10-08 11:37:03.863 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.MetersController.GetMetersForSchool (contactsapp)'
2023-10-08 11:37:03.867 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-08 11:37:03.871 +08:00 [INF] Executing endpoint 'Sustain.Controllers.MetersController.GetMetersForSchool (contactsapp)'
2023-10-08 11:37:03.896 +08:00 [INF] Route matched with {action = "GetMetersForSchool", controller = "Meters"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.MeterDto]]] GetMetersForSchool(Int32, System.String, System.String, Int32, Int32) on controller Sustain.Controllers.MetersController (contactsapp).
2023-10-08 11:37:03.896 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-08 11:37:03.896 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-08 11:37:03.896 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-08 11:37:03.896 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-08 11:37:03.897 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-08 11:37:03.897 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.MetersController (contactsapp)
2023-10-08 11:37:03.967 +08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-08 11:37:04.035 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.MetersController (contactsapp)
2023-10-08 11:37:04.038 +08:00 [DBG] Attempting to bind parameter 'schoolid' of type 'System.Int32' ...
2023-10-08 11:37:04.039 +08:00 [DBG] Attempting to bind parameter 'schoolid' of type 'System.Int32' using the name 'schoolid' in request data ...
2023-10-08 11:37:04.039 +08:00 [DBG] Done attempting to bind parameter 'schoolid' of type 'System.Int32'.
2023-10-08 11:37:04.039 +08:00 [DBG] Done attempting to bind parameter 'schoolid' of type 'System.Int32'.
2023-10-08 11:37:04.039 +08:00 [DBG] Attempting to validate the bound parameter 'schoolid' of type 'System.Int32' ...
2023-10-08 11:37:04.040 +08:00 [DBG] Done attempting to validate the bound parameter 'schoolid' of type 'System.Int32'.
2023-10-08 11:37:04.040 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-08 11:37:04.040 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-08 11:37:04.040 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-08 11:37:04.040 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 11:37:04.040 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 11:37:04.040 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-08 11:37:04.041 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-08 11:37:04.041 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-08 11:37:04.041 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-08 11:37:04.041 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-08 11:37:04.041 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 11:37:04.041 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 11:37:04.041 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-08 11:37:04.041 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-08 11:37:04.041 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 11:37:04.041 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-08 11:37:04.041 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 11:37:04.041 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 11:37:04.041 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 11:37:04.041 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 11:37:04.041 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 11:37:04.042 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-08 11:37:04.042 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 11:37:04.042 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 11:37:04.042 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 11:37:04.042 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-08 11:37:04.360 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-08 11:37:04.395 +08:00 [DBG] Compiling query expression: 
'DbSet<Meter>()
    .Include(m => m.MeterType)
    .Where(meter => meter.SchoolId == __schoolId_0)
    .Count()'
2023-10-08 11:37:04.467 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Meter AS m
            WHERE m.SchoolId == @__schoolId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        Sustain.DbContexts.SustainContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-08 11:37:04.491 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 11:37:04.506 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (15ms).
2023-10-08 11:37:04.533 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:37:04.664 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:37:04.670 +08:00 [DBG] Executing DbCommand [Parameters=[@__schoolId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Meter] AS [m]
WHERE [m].[SchoolId] = @__schoolId_0
2023-10-08 11:37:04.713 +08:00 [INF] Executed DbCommand (45ms) [Parameters=[@__schoolId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Meter] AS [m]
WHERE [m].[SchoolId] = @__schoolId_0
2023-10-08 11:37:04.721 +08:00 [DBG] A data reader was disposed.
2023-10-08 11:37:04.723 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:37:04.725 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:37:04.727 +08:00 [DBG] Compiling query expression: 
'DbSet<Meter>()
    .Include(m => m.MeterType)
    .Where(meter => meter.SchoolId == __schoolId_0)
    .OrderBy(m => m.MeterName)
    .Skip(__p_1)
    .Take(__p_2)'
2023-10-08 11:37:04.736 +08:00 [DBG] Including navigation: 'Meter.MeterType'.
2023-10-08 11:37:04.767 +08:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Meter>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Meter.MeterId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Meter.MeterDescription (string) MaxLength(255), 1], [Property: Meter.MeterName (string) MaxLength(255), 2], [Property: Meter.MeterTypeId (int?) FK Index, 3], [Property: Meter.SchoolId (int?) FK Index, 4], [Property: Meter.UtilityAccountNumber (string), 5] }
            1 -> Dictionary<IProperty, int> { [Property: MeterType.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: MeterType.CreatedAt (DateTime) Required, 7], [Property: MeterType.CreatedBy (string) MaxLength(50), 8], [Property: MeterType.LastModifiedAt (DateTime) Required, 9], [Property: MeterType.LastModifiedBy (string) MaxLength(50), 10], [Property: MeterType.TypeUnitOfMeasure (string) MaxLength(150), 11], [Property: MeterType.active (bool) Required, 12], [Property: MeterType.effFrom (DateTime) Required, 13], [Property: MeterType.effTo (DateTime) Required, 14], [Property: MeterType.typeCode (string), 15], [Property: MeterType.typeLongDescription (string) MaxLength(150), 16], [Property: MeterType.typeShortDescription (string) MaxLength(50), 17] }
        SELECT t.MeterId, t.MeterDescription, t.MeterName, t.MeterTypeId, t.SchoolId, t.UtilityAccountNumber, m0.Id, m0.CreatedAt, m0.CreatedBy, m0.LastModifiedAt, m0.LastModifiedBy, m0.TypeUnitOfMeasure, m0.active, m0.effFrom, m0.effTo, m0.typeCode, m0.typeLongDescription, m0.typeShortDescription
        FROM 
        (
            SELECT m.MeterId, m.MeterDescription, m.MeterName, m.MeterTypeId, m.SchoolId, m.UtilityAccountNumber
            FROM Meter AS m
            WHERE m.SchoolId == @__schoolId_0
            ORDER BY m.MeterName ASC
            OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
        ) AS t
        LEFT JOIN MeterType AS m0 ON t.MeterTypeId == m0.Id
        ORDER BY t.MeterName ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Meter>, 
    Sustain.DbContexts.SustainContext, 
    False, 
    False, 
    True
)'
2023-10-08 11:37:04.771 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 11:37:04.771 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 11:37:04.771 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:37:04.771 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:37:04.771 +08:00 [DBG] Executing DbCommand [Parameters=[@__schoolId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MeterId], [t].[MeterDescription], [t].[MeterName], [t].[MeterTypeId], [t].[SchoolId], [t].[UtilityAccountNumber], [m0].[Id], [m0].[CreatedAt], [m0].[CreatedBy], [m0].[LastModifiedAt], [m0].[LastModifiedBy], [m0].[TypeUnitOfMeasure], [m0].[active], [m0].[effFrom], [m0].[effTo], [m0].[typeCode], [m0].[typeLongDescription], [m0].[typeShortDescription]
FROM (
    SELECT [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber]
    FROM [Meter] AS [m]
    WHERE [m].[SchoolId] = @__schoolId_0
    ORDER BY [m].[MeterName]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
LEFT JOIN [MeterType] AS [m0] ON [t].[MeterTypeId] = [m0].[Id]
ORDER BY [t].[MeterName]
2023-10-08 11:37:04.792 +08:00 [INF] Executed DbCommand (21ms) [Parameters=[@__schoolId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MeterId], [t].[MeterDescription], [t].[MeterName], [t].[MeterTypeId], [t].[SchoolId], [t].[UtilityAccountNumber], [m0].[Id], [m0].[CreatedAt], [m0].[CreatedBy], [m0].[LastModifiedAt], [m0].[LastModifiedBy], [m0].[TypeUnitOfMeasure], [m0].[active], [m0].[effFrom], [m0].[effTo], [m0].[typeCode], [m0].[typeLongDescription], [m0].[typeShortDescription]
FROM (
    SELECT [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber]
    FROM [Meter] AS [m]
    WHERE [m].[SchoolId] = @__schoolId_0
    ORDER BY [m].[MeterName]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
LEFT JOIN [MeterType] AS [m0] ON [t].[MeterTypeId] = [m0].[Id]
ORDER BY [t].[MeterName]
2023-10-08 11:37:04.805 +08:00 [DBG] Context 'SustainContext' started tracking 'Meter' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:37:04.818 +08:00 [DBG] Context 'SustainContext' started tracking 'MeterType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:37:04.829 +08:00 [DBG] A data reader was disposed.
2023-10-08 11:37:04.830 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:37:04.830 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:37:04.839 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-08 11:37:04.840 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-10-08 11:37:04.840 +08:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-10-08 11:37:04.840 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-08 11:37:04.840 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-08 11:37:04.840 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-08 11:37:04.841 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.MeterDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-08 11:37:04.894 +08:00 [INF] Executed action Sustain.Controllers.MetersController.GetMetersForSchool (contactsapp) in 995.2277ms
2023-10-08 11:37:04.894 +08:00 [INF] Executed endpoint 'Sustain.Controllers.MetersController.GetMetersForSchool (contactsapp)'
2023-10-08 11:37:04.895 +08:00 [DBG] Connection id "0HMU7LV8EODAT" completed keep alive response.
2023-10-08 11:37:04.895 +08:00 [DBG] 'SustainContext' disposed.
2023-10-08 11:37:04.896 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/Meters?schoolid=5&pageNumber=1&pageSize=5 - - - 200 500 application/json;+charset=utf-8 1045.5382ms
2023-10-08 11:37:15.889 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/swagger/v1/swagger.json - -
2023-10-08 11:37:15.890 +08:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-10-08 11:37:15.890 +08:00 [DBG] Request did not match any endpoints
2023-10-08 11:37:15.900 +08:00 [DBG] Connection id "0HMU7LV8EODAT" completed keep alive response.
2023-10-08 11:37:15.900 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 10.6936ms
2023-10-08 11:38:15.497 +08:00 [DBG] Connection id "0HMU7LV8EODAU" accepted.
2023-10-08 11:38:15.498 +08:00 [DBG] Connection id "0HMU7LV8EODAU" started.
2023-10-08 11:38:15.522 +08:00 [DBG] Connection 0HMU7LV8EODAU established using the following protocol: "Tls12"
2023-10-08 11:38:15.522 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - -
2023-10-08 11:38:15.524 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-08 11:38:15.524 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-08 11:38:15.524 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 11:38:15.525 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-08 11:38:15.525 +08:00 [INF] CORS policy execution successful.
2023-10-08 11:38:15.525 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-08 11:38:15.525 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 11:38:15.532 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-08 11:38:15.532 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-08 11:38:15.532 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-08 11:38:15.532 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-08 11:38:15.532 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-08 11:38:15.532 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-08 11:38:15.532 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-08 11:38:15.534 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-08 11:38:15.534 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-08 11:38:15.534 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-08 11:38:15.534 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-08 11:38:15.535 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 11:38:15.535 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 11:38:15.535 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-08 11:38:15.535 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-08 11:38:15.535 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-08 11:38:15.535 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-08 11:38:15.535 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-08 11:38:15.535 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 11:38:15.535 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 11:38:15.536 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-08 11:38:15.536 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-08 11:38:15.536 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 11:38:15.536 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-08 11:38:15.536 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 11:38:15.536 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 11:38:15.536 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 11:38:15.537 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 11:38:15.537 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 11:38:15.538 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-08 11:38:15.540 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 11:38:15.540 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 11:38:15.540 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 11:38:15.540 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-08 11:38:15.544 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-08 11:38:15.544 +08:00 [DBG] Compiling query expression: 
'DbSet<School>()
    .Include(s => s.Meters)
    .Include(s => s.SchoolType)
    .Count()'
2023-10-08 11:38:15.545 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM School AS s), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        Sustain.DbContexts.SustainContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-08 11:38:15.546 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 11:38:15.546 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 11:38:15.546 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:38:15.546 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:38:15.546 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-08 11:38:15.553 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-08 11:38:15.553 +08:00 [DBG] A data reader was disposed.
2023-10-08 11:38:15.553 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:38:15.553 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:38:15.553 +08:00 [DBG] Compiling query expression: 
'DbSet<School>()
    .Include(s => s.Meters)
    .Include(s => s.SchoolType)
    .OrderBy(s => s.SchoolName)
    .Skip(__p_0)
    .Take(__p_1)'
2023-10-08 11:38:15.554 +08:00 [DBG] Including navigation: 'School.Meters'.
2023-10-08 11:38:15.554 +08:00 [DBG] Including navigation: 'School.SchoolType'.
2023-10-08 11:38:15.591 +08:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<School>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: School.SchoolId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: School.SchoolLocation (string) MaxLength(100), 1], [Property: School.SchoolName (string) MaxLength(100), 2], [Property: School.SchoolTypeId (int?) FK Index, 3] }
            1 -> 0
            2 -> 4
            3 -> Dictionary<IProperty, int> { [Property: Meter.MeterId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Meter.MeterDescription (string) MaxLength(255), 6], [Property: Meter.MeterName (string) MaxLength(255), 7], [Property: Meter.MeterTypeId (int?) FK Index, 8], [Property: Meter.SchoolId (int?) FK Index, 9], [Property: Meter.UtilityAccountNumber (string), 10] }
            4 -> 5
            5 -> Dictionary<IProperty, int> { [Property: SchoolType.SchoolTypeId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: SchoolType.TypeLongDescription (string) MaxLength(50), 11], [Property: SchoolType.TypeShortDescription (string) Required MaxLength(255), 12] }
        SELECT t.SchoolId, t.SchoolLocation, t.SchoolName, t.SchoolTypeId, s0.SchoolTypeId, m.MeterId, m.MeterDescription, m.MeterName, m.MeterTypeId, m.SchoolId, m.UtilityAccountNumber, s0.TypeLongDescription, s0.TypeShortDescription
        FROM 
        (
            SELECT s.SchoolId, s.SchoolLocation, s.SchoolName, s.SchoolTypeId
            FROM School AS s
            ORDER BY s.SchoolName ASC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t
        LEFT JOIN SchoolType AS s0 ON t.SchoolTypeId == s0.SchoolTypeId
        LEFT JOIN Meter AS m ON t.SchoolId == m.SchoolId
        ORDER BY t.SchoolName ASC, t.SchoolId ASC, s0.SchoolTypeId ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, School>, 
    Sustain.DbContexts.SustainContext, 
    False, 
    False, 
    True
)'
2023-10-08 11:38:15.592 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 11:38:15.592 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 11:38:15.592 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:38:15.592 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:38:15.592 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-08 11:38:15.597 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-08 11:38:15.600 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:38:15.604 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:38:15.607 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:38:15.607 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:38:15.608 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:38:15.608 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:38:15.608 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:38:15.608 +08:00 [DBG] A data reader was disposed.
2023-10-08 11:38:15.608 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:38:15.608 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:38:15.611 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-08 11:38:15.612 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-08 11:38:15.612 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-08 11:38:15.612 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-08 11:38:15.616 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 83.6654ms
2023-10-08 11:38:15.616 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 11:38:15.616 +08:00 [DBG] Connection id "0HMU7LV8EODAU" completed keep alive response.
2023-10-08 11:38:15.616 +08:00 [DBG] 'SustainContext' disposed.
2023-10-08 11:38:15.617 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - - - 200 1127 text/json;+charset=utf-8 94.0634ms
2023-10-08 11:38:21.571 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=2&pageSize=5 - -
2023-10-08 11:38:21.572 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-08 11:38:21.572 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-08 11:38:21.572 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 11:38:21.572 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-08 11:38:21.572 +08:00 [INF] CORS policy execution successful.
2023-10-08 11:38:21.572 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-08 11:38:21.572 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 11:38:21.572 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-08 11:38:21.572 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-08 11:38:21.572 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-08 11:38:21.572 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-08 11:38:21.573 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-08 11:38:21.573 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-08 11:38:21.573 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-08 11:38:21.573 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-08 11:38:21.573 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-08 11:38:21.573 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-08 11:38:21.573 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-08 11:38:21.573 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 11:38:21.573 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 11:38:21.573 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-08 11:38:21.573 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-08 11:38:21.573 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-08 11:38:21.574 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-08 11:38:21.574 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-08 11:38:21.574 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 11:38:21.574 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 11:38:21.574 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-08 11:38:21.574 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-08 11:38:21.574 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 11:38:21.574 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-08 11:38:21.574 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 11:38:21.574 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 11:38:21.574 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 11:38:21.574 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 11:38:21.574 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 11:38:21.574 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-08 11:38:21.574 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 11:38:21.574 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 11:38:21.574 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 11:38:21.574 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-08 11:38:21.596 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-08 11:38:21.597 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 11:38:21.597 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 11:38:21.597 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:38:21.597 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:38:21.597 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-08 11:38:21.600 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-08 11:38:21.600 +08:00 [DBG] A data reader was disposed.
2023-10-08 11:38:21.600 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:38:21.600 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:38:21.601 +08:00 [DBG] Compiling query expression: 
'DbSet<School>()
    .Include(s => s.Meters)
    .Include(s => s.SchoolType)
    .OrderBy(s => s.SchoolName)
    .Skip(__p_0)
    .Take(__p_0)'
2023-10-08 11:38:21.601 +08:00 [DBG] Including navigation: 'School.Meters'.
2023-10-08 11:38:21.601 +08:00 [DBG] Including navigation: 'School.SchoolType'.
2023-10-08 11:38:21.606 +08:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<School>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: School.SchoolId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: School.SchoolLocation (string) MaxLength(100), 1], [Property: School.SchoolName (string) MaxLength(100), 2], [Property: School.SchoolTypeId (int?) FK Index, 3] }
            1 -> 0
            2 -> 4
            3 -> Dictionary<IProperty, int> { [Property: Meter.MeterId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Meter.MeterDescription (string) MaxLength(255), 6], [Property: Meter.MeterName (string) MaxLength(255), 7], [Property: Meter.MeterTypeId (int?) FK Index, 8], [Property: Meter.SchoolId (int?) FK Index, 9], [Property: Meter.UtilityAccountNumber (string), 10] }
            4 -> 5
            5 -> Dictionary<IProperty, int> { [Property: SchoolType.SchoolTypeId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: SchoolType.TypeLongDescription (string) MaxLength(50), 11], [Property: SchoolType.TypeShortDescription (string) Required MaxLength(255), 12] }
        SELECT t.SchoolId, t.SchoolLocation, t.SchoolName, t.SchoolTypeId, s0.SchoolTypeId, m.MeterId, m.MeterDescription, m.MeterName, m.MeterTypeId, m.SchoolId, m.UtilityAccountNumber, s0.TypeLongDescription, s0.TypeShortDescription
        FROM 
        (
            SELECT s.SchoolId, s.SchoolLocation, s.SchoolName, s.SchoolTypeId
            FROM School AS s
            ORDER BY s.SchoolName ASC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
        ) AS t
        LEFT JOIN SchoolType AS s0 ON t.SchoolTypeId == s0.SchoolTypeId
        LEFT JOIN Meter AS m ON t.SchoolId == m.SchoolId
        ORDER BY t.SchoolName ASC, t.SchoolId ASC, s0.SchoolTypeId ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, School>, 
    Sustain.DbContexts.SustainContext, 
    False, 
    False, 
    True
)'
2023-10-08 11:38:21.606 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 11:38:21.606 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 11:38:21.606 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:38:21.607 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:38:21.607 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-08 11:38:21.610 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-08 11:38:21.610 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:38:21.610 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:38:21.610 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:38:21.610 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:38:21.610 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:38:21.610 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:38:21.610 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:38:21.611 +08:00 [DBG] Context 'SustainContext' started tracking 'Meter' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 11:38:21.612 +08:00 [DBG] A data reader was disposed.
2023-10-08 11:38:21.612 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:38:21.612 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 11:38:21.612 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-08 11:38:21.613 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-08 11:38:21.613 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-08 11:38:21.613 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-08 11:38:21.614 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 41.2231ms
2023-10-08 11:38:21.614 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 11:38:21.614 +08:00 [DBG] Connection id "0HMU7LV8EODAU" completed keep alive response.
2023-10-08 11:38:21.614 +08:00 [DBG] 'SustainContext' disposed.
2023-10-08 11:38:21.614 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=2&pageSize=5 - - - 200 1247 text/json;+charset=utf-8 42.7670ms
2023-10-08 11:39:26.795 +08:00 [DBG] Connection id "0HMU7LV8EODAT" disconnecting.
2023-10-08 11:39:26.801 +08:00 [DBG] Connection id "0HMU7LV8EODAT" stopped.
2023-10-08 11:39:26.802 +08:00 [DBG] Connection id "0HMU7LV8EODAT" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-08 11:40:31.857 +08:00 [DBG] Connection id "0HMU7LV8EODAU" disconnecting.
2023-10-08 11:40:31.859 +08:00 [DBG] Connection id "0HMU7LV8EODAU" stopped.
2023-10-08 11:40:31.859 +08:00 [DBG] Connection id "0HMU7LV8EODAU" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-08 14:54:40.757 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-08 14:54:40.814 +08:00 [DBG] Hosting starting
2023-10-08 14:54:40.883 +08:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 94E46C593C0BE06B61505D939614C7B944816EDD)
2023-10-08 14:54:40.892 +08:00 [INF] Now listening on: https://localhost:7195
2023-10-08 14:54:40.892 +08:00 [INF] Now listening on: http://localhost:5108
2023-10-08 14:54:40.892 +08:00 [DBG] Loaded hosting startup assembly contactsapp
2023-10-08 14:54:40.892 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-08 14:54:40.892 +08:00 [INF] Hosting environment: Development
2023-10-08 14:54:40.892 +08:00 [INF] Content root path: /Users/philipwebb/Development/dotnetangular/contactsapp/
2023-10-08 14:54:40.893 +08:00 [DBG] Hosting started
2023-10-08 14:54:57.189 +08:00 [DBG] Connection id "0HMU7PDTSA8A5" accepted.
2023-10-08 14:54:57.191 +08:00 [DBG] Connection id "0HMU7PDTSA8A6" accepted.
2023-10-08 14:54:57.192 +08:00 [DBG] Connection id "0HMU7PDTSA8A5" started.
2023-10-08 14:54:57.198 +08:00 [DBG] Connection id "0HMU7PDTSA8A6" started.
2023-10-08 14:54:57.251 +08:00 [DBG] Connection 0HMU7PDTSA8A5 established using the following protocol: "Tls12"
2023-10-08 14:54:57.257 +08:00 [DBG] Connection 0HMU7PDTSA8A6 established using the following protocol: "Tls12"
2023-10-08 14:54:57.282 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/Meters?pageNumber=1&pageSize=5 - -
2023-10-08 14:54:57.282 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - -
2023-10-08 14:54:57.285 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-10-08 14:54:57.285 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-10-08 14:54:57.305 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-08 14:54:57.305 +08:00 [DBG] 1 candidate(s) found for the request path '/api/Meters'
2023-10-08 14:54:57.307 +08:00 [DBG] Endpoint 'Sustain.Controllers.MetersController.GetMetersForSchool (contactsapp)' with route pattern 'api/Meters' is valid for the request path '/api/Meters'
2023-10-08 14:54:57.307 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-08 14:54:57.308 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.MetersController.GetMetersForSchool (contactsapp)'
2023-10-08 14:54:57.308 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 14:54:57.309 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-08 14:54:57.309 +08:00 [INF] CORS policy execution successful.
2023-10-08 14:54:57.309 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-08 14:54:57.310 +08:00 [INF] CORS policy execution successful.
2023-10-08 14:54:57.340 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-08 14:54:57.340 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-08 14:54:57.341 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 14:54:57.341 +08:00 [INF] Executing endpoint 'Sustain.Controllers.MetersController.GetMetersForSchool (contactsapp)'
2023-10-08 14:54:57.372 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-08 14:54:57.372 +08:00 [INF] Route matched with {action = "GetMetersForSchool", controller = "Meters"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.MeterDto]]] GetMetersForSchool(Int32, System.String, System.String, Int32, Int32) on controller Sustain.Controllers.MetersController (contactsapp).
2023-10-08 14:54:57.373 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-08 14:54:57.373 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-08 14:54:57.373 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-08 14:54:57.373 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-08 14:54:57.373 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-08 14:54:57.373 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-08 14:54:57.373 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-08 14:54:57.373 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-08 14:54:57.374 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-08 14:54:57.373 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-08 14:54:57.375 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.MetersController (contactsapp)
2023-10-08 14:54:57.375 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-08 14:54:57.459 +08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-08 14:54:57.459 +08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-08 14:54:57.538 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.MetersController (contactsapp)
2023-10-08 14:54:57.538 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-08 14:54:57.541 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-08 14:54:57.541 +08:00 [DBG] Attempting to bind parameter 'schoolid' of type 'System.Int32' ...
2023-10-08 14:54:57.542 +08:00 [DBG] Attempting to bind parameter 'schoolid' of type 'System.Int32' using the name '' in request data ...
2023-10-08 14:54:57.542 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-08 14:54:57.542 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'schoolid' of type 'System.Int32'.
2023-10-08 14:54:57.542 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-08 14:54:57.542 +08:00 [DBG] Done attempting to bind parameter 'schoolid' of type 'System.Int32'.
2023-10-08 14:54:57.542 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 14:54:57.542 +08:00 [DBG] Done attempting to bind parameter 'schoolid' of type 'System.Int32'.
2023-10-08 14:54:57.542 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 14:54:57.542 +08:00 [DBG] Attempting to validate the bound parameter 'schoolid' of type 'System.Int32' ...
2023-10-08 14:54:57.542 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-08 14:54:57.544 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-08 14:54:57.544 +08:00 [DBG] Done attempting to validate the bound parameter 'schoolid' of type 'System.Int32'.
2023-10-08 14:54:57.544 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-08 14:54:57.544 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-08 14:54:57.544 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-08 14:54:57.544 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-08 14:54:57.544 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-08 14:54:57.544 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-08 14:54:57.545 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 14:54:57.545 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 14:54:57.545 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 14:54:57.545 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 14:54:57.545 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-08 14:54:57.545 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-08 14:54:57.545 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-08 14:54:57.545 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-08 14:54:57.545 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-08 14:54:57.545 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 14:54:57.545 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-08 14:54:57.545 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-08 14:54:57.545 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-08 14:54:57.545 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 14:54:57.545 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 14:54:57.546 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-08 14:54:57.546 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 14:54:57.546 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-08 14:54:57.546 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 14:54:57.546 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 14:54:57.546 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 14:54:57.546 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-08 14:54:57.546 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 14:54:57.546 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 14:54:57.546 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 14:54:57.546 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 14:54:57.546 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 14:54:57.546 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-08 14:54:57.546 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 14:54:57.546 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 14:54:57.546 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 14:54:57.546 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 14:54:57.546 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-08 14:54:57.546 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 14:54:57.546 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 14:54:57.546 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-08 14:54:57.546 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 14:54:57.547 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 14:54:57.547 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-08 14:54:57.956 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-08 14:54:57.956 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-08 14:54:57.998 +08:00 [DBG] Compiling query expression: 
'DbSet<School>()
    .Include(s => s.Meters)
    .Include(s => s.SchoolType)
    .Count()'
2023-10-08 14:54:57.999 +08:00 [DBG] Compiling query expression: 
'DbSet<Meter>()
    .Include(m => m.MeterType)
    .Where(meter => meter.SchoolId == __schoolId_0)
    .Count()'
2023-10-08 14:54:58.077 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM School AS s), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        Sustain.DbContexts.SustainContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-08 14:54:58.077 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Meter AS m
            WHERE m.SchoolId == @__schoolId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        Sustain.DbContexts.SustainContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-08 14:54:58.101 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 14:54:58.101 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 14:54:58.122 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (19ms).
2023-10-08 14:54:58.122 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (19ms).
2023-10-08 14:54:58.124 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 14:54:58.131 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 14:54:58.316 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 14:54:58.320 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-08 14:54:58.338 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 14:54:58.343 +08:00 [DBG] Executing DbCommand [Parameters=[@__schoolId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Meter] AS [m]
WHERE [m].[SchoolId] = @__schoolId_0
2023-10-08 14:54:58.405 +08:00 [INF] Executed DbCommand (63ms) [Parameters=[@__schoolId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Meter] AS [m]
WHERE [m].[SchoolId] = @__schoolId_0
2023-10-08 14:54:58.405 +08:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-08 14:54:58.420 +08:00 [DBG] A data reader was disposed.
2023-10-08 14:54:58.420 +08:00 [DBG] A data reader was disposed.
2023-10-08 14:54:58.423 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 14:54:58.423 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 14:54:58.428 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 14:54:58.428 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 14:54:58.434 +08:00 [DBG] Compiling query expression: 
'DbSet<School>()
    .Include(s => s.Meters)
    .Include(s => s.SchoolType)
    .OrderBy(s => s.SchoolName)
    .Skip(__p_0)
    .Take(__p_1)'
2023-10-08 14:54:58.434 +08:00 [DBG] Compiling query expression: 
'DbSet<Meter>()
    .Include(m => m.MeterType)
    .Where(meter => meter.SchoolId == __schoolId_0)
    .OrderBy(m => m.MeterName)
    .Skip(__p_1)
    .Take(__p_2)'
2023-10-08 14:54:58.443 +08:00 [DBG] Including navigation: 'School.Meters'.
2023-10-08 14:54:58.447 +08:00 [DBG] Including navigation: 'School.SchoolType'.
2023-10-08 14:54:58.447 +08:00 [DBG] Including navigation: 'Meter.MeterType'.
2023-10-08 14:54:58.494 +08:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Meter>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Meter.MeterId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Meter.MeterDescription (string) MaxLength(255), 1], [Property: Meter.MeterName (string) MaxLength(255), 2], [Property: Meter.MeterTypeId (int?) FK Index, 3], [Property: Meter.SchoolId (int?) FK Index, 4], [Property: Meter.UtilityAccountNumber (string), 5] }
            1 -> Dictionary<IProperty, int> { [Property: MeterType.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: MeterType.CreatedAt (DateTime) Required, 7], [Property: MeterType.CreatedBy (string) MaxLength(50), 8], [Property: MeterType.LastModifiedAt (DateTime) Required, 9], [Property: MeterType.LastModifiedBy (string) MaxLength(50), 10], [Property: MeterType.TypeUnitOfMeasure (string) MaxLength(150), 11], [Property: MeterType.active (bool) Required, 12], [Property: MeterType.effFrom (DateTime) Required, 13], [Property: MeterType.effTo (DateTime) Required, 14], [Property: MeterType.typeCode (string), 15], [Property: MeterType.typeLongDescription (string) MaxLength(150), 16], [Property: MeterType.typeShortDescription (string) MaxLength(50), 17] }
        SELECT t.MeterId, t.MeterDescription, t.MeterName, t.MeterTypeId, t.SchoolId, t.UtilityAccountNumber, m0.Id, m0.CreatedAt, m0.CreatedBy, m0.LastModifiedAt, m0.LastModifiedBy, m0.TypeUnitOfMeasure, m0.active, m0.effFrom, m0.effTo, m0.typeCode, m0.typeLongDescription, m0.typeShortDescription
        FROM 
        (
            SELECT m.MeterId, m.MeterDescription, m.MeterName, m.MeterTypeId, m.SchoolId, m.UtilityAccountNumber
            FROM Meter AS m
            WHERE m.SchoolId == @__schoolId_0
            ORDER BY m.MeterName ASC
            OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
        ) AS t
        LEFT JOIN MeterType AS m0 ON t.MeterTypeId == m0.Id
        ORDER BY t.MeterName ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Meter>, 
    Sustain.DbContexts.SustainContext, 
    False, 
    False, 
    True
)'
2023-10-08 14:54:58.500 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 14:54:58.500 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 14:54:58.500 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 14:54:58.501 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 14:54:58.501 +08:00 [DBG] Executing DbCommand [Parameters=[@__schoolId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MeterId], [t].[MeterDescription], [t].[MeterName], [t].[MeterTypeId], [t].[SchoolId], [t].[UtilityAccountNumber], [m0].[Id], [m0].[CreatedAt], [m0].[CreatedBy], [m0].[LastModifiedAt], [m0].[LastModifiedBy], [m0].[TypeUnitOfMeasure], [m0].[active], [m0].[effFrom], [m0].[effTo], [m0].[typeCode], [m0].[typeLongDescription], [m0].[typeShortDescription]
FROM (
    SELECT [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber]
    FROM [Meter] AS [m]
    WHERE [m].[SchoolId] = @__schoolId_0
    ORDER BY [m].[MeterName]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
LEFT JOIN [MeterType] AS [m0] ON [t].[MeterTypeId] = [m0].[Id]
ORDER BY [t].[MeterName]
2023-10-08 14:54:58.520 +08:00 [INF] Executed DbCommand (19ms) [Parameters=[@__schoolId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MeterId], [t].[MeterDescription], [t].[MeterName], [t].[MeterTypeId], [t].[SchoolId], [t].[UtilityAccountNumber], [m0].[Id], [m0].[CreatedAt], [m0].[CreatedBy], [m0].[LastModifiedAt], [m0].[LastModifiedBy], [m0].[TypeUnitOfMeasure], [m0].[active], [m0].[effFrom], [m0].[effTo], [m0].[typeCode], [m0].[typeLongDescription], [m0].[typeShortDescription]
FROM (
    SELECT [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber]
    FROM [Meter] AS [m]
    WHERE [m].[SchoolId] = @__schoolId_0
    ORDER BY [m].[MeterName]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
LEFT JOIN [MeterType] AS [m0] ON [t].[MeterTypeId] = [m0].[Id]
ORDER BY [t].[MeterName]
2023-10-08 14:54:58.522 +08:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<School>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: School.SchoolId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: School.SchoolLocation (string) MaxLength(100), 1], [Property: School.SchoolName (string) MaxLength(100), 2], [Property: School.SchoolTypeId (int?) FK Index, 3] }
            1 -> 0
            2 -> 4
            3 -> Dictionary<IProperty, int> { [Property: Meter.MeterId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Meter.MeterDescription (string) MaxLength(255), 6], [Property: Meter.MeterName (string) MaxLength(255), 7], [Property: Meter.MeterTypeId (int?) FK Index, 8], [Property: Meter.SchoolId (int?) FK Index, 9], [Property: Meter.UtilityAccountNumber (string), 10] }
            4 -> 5
            5 -> Dictionary<IProperty, int> { [Property: SchoolType.SchoolTypeId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: SchoolType.TypeLongDescription (string) MaxLength(50), 11], [Property: SchoolType.TypeShortDescription (string) Required MaxLength(255), 12] }
        SELECT t.SchoolId, t.SchoolLocation, t.SchoolName, t.SchoolTypeId, s0.SchoolTypeId, m.MeterId, m.MeterDescription, m.MeterName, m.MeterTypeId, m.SchoolId, m.UtilityAccountNumber, s0.TypeLongDescription, s0.TypeShortDescription
        FROM 
        (
            SELECT s.SchoolId, s.SchoolLocation, s.SchoolName, s.SchoolTypeId
            FROM School AS s
            ORDER BY s.SchoolName ASC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t
        LEFT JOIN SchoolType AS s0 ON t.SchoolTypeId == s0.SchoolTypeId
        LEFT JOIN Meter AS m ON t.SchoolId == m.SchoolId
        ORDER BY t.SchoolName ASC, t.SchoolId ASC, s0.SchoolTypeId ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, School>, 
    Sustain.DbContexts.SustainContext, 
    False, 
    False, 
    True
)'
2023-10-08 14:54:58.522 +08:00 [DBG] A data reader was disposed.
2023-10-08 14:54:58.522 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 14:54:58.522 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 14:54:58.522 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 14:54:58.522 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 14:54:58.522 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 14:54:58.522 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 14:54:58.523 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-08 14:54:58.544 +08:00 [INF] Executed DbCommand (21ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-08 14:54:58.548 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-08 14:54:58.549 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-08 14:54:58.550 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-08 14:54:58.550 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.MeterDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-08 14:54:58.563 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 14:54:58.588 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 14:54:58.601 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 14:54:58.601 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 14:54:58.602 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 14:54:58.602 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 14:54:58.602 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 14:54:58.602 +08:00 [DBG] A data reader was disposed.
2023-10-08 14:54:58.602 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 14:54:58.602 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 14:54:58.605 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-08 14:54:58.606 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-08 14:54:58.606 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-08 14:54:58.606 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-08 14:54:58.628 +08:00 [INF] Executed action Sustain.Controllers.MetersController.GetMetersForSchool (contactsapp) in 1248.0215ms
2023-10-08 14:54:58.629 +08:00 [INF] Executed endpoint 'Sustain.Controllers.MetersController.GetMetersForSchool (contactsapp)'
2023-10-08 14:54:58.630 +08:00 [DBG] Connection id "0HMU7PDTSA8A5" completed keep alive response.
2023-10-08 14:54:58.631 +08:00 [DBG] 'SustainContext' disposed.
2023-10-08 14:54:58.634 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/Meters?pageNumber=1&pageSize=5 - - - 200 2 text/json;+charset=utf-8 1356.5657ms
2023-10-08 14:54:58.638 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 1262.9271ms
2023-10-08 14:54:58.638 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 14:54:58.638 +08:00 [DBG] Connection id "0HMU7PDTSA8A6" completed keep alive response.
2023-10-08 14:54:58.638 +08:00 [DBG] 'SustainContext' disposed.
2023-10-08 14:54:58.639 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - - - 200 1127 text/json;+charset=utf-8 1361.7578ms
2023-10-08 14:54:58.779 +08:00 [DBG] Connection id "0HMU7PDTSA8A5" received FIN.
2023-10-08 14:54:58.779 +08:00 [DBG] Connection id "0HMU7PDTSA8A6" received FIN.
2023-10-08 14:54:58.780 +08:00 [DBG] Connection id "0HMU7PDTSA8A5" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-08 14:54:58.780 +08:00 [DBG] Connection id "0HMU7PDTSA8A6" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-08 14:54:58.784 +08:00 [DBG] Connection id "0HMU7PDTSA8A5" disconnecting.
2023-10-08 14:54:58.784 +08:00 [DBG] Connection id "0HMU7PDTSA8A6" disconnecting.
2023-10-08 14:54:58.786 +08:00 [DBG] Connection id "0HMU7PDTSA8A5" stopped.
2023-10-08 14:54:58.786 +08:00 [DBG] Connection id "0HMU7PDTSA8A6" stopped.
2023-10-08 14:54:59.548 +08:00 [DBG] Connection id "0HMU7PDTSA8A7" accepted.
2023-10-08 14:54:59.548 +08:00 [DBG] Connection id "0HMU7PDTSA8A7" started.
2023-10-08 14:54:59.575 +08:00 [DBG] Connection 0HMU7PDTSA8A7 established using the following protocol: "Tls12"
2023-10-08 14:54:59.590 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/favicon.ico - -
2023-10-08 14:54:59.591 +08:00 [DBG] No candidates found for the request path '/favicon.ico'
2023-10-08 14:54:59.591 +08:00 [DBG] Request did not match any endpoints
2023-10-08 14:54:59.592 +08:00 [DBG] The request path  does not match the path filter
2023-10-08 14:54:59.593 +08:00 [DBG] Connection id "0HMU7PDTSA8A7" completed keep alive response.
2023-10-08 14:54:59.593 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/favicon.ico - - - 404 0 - 2.3860ms
2023-10-08 14:55:03.346 +08:00 [DBG] Connection id "0HMU7PDTSA8A8" accepted.
2023-10-08 14:55:03.347 +08:00 [DBG] Connection id "0HMU7PDTSA8A8" started.
2023-10-08 14:55:03.371 +08:00 [DBG] Connection 0HMU7PDTSA8A8 established using the following protocol: "Tls12"
2023-10-08 14:55:03.373 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/Meters?pageNumber=1&pageSize=5 - -
2023-10-08 14:55:03.374 +08:00 [DBG] 1 candidate(s) found for the request path '/api/Meters'
2023-10-08 14:55:03.375 +08:00 [DBG] Endpoint 'Sustain.Controllers.MetersController.GetMetersForSchool (contactsapp)' with route pattern 'api/Meters' is valid for the request path '/api/Meters'
2023-10-08 14:55:03.375 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.MetersController.GetMetersForSchool (contactsapp)'
2023-10-08 14:55:03.375 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-08 14:55:03.375 +08:00 [INF] CORS policy execution successful.
2023-10-08 14:55:03.375 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-08 14:55:03.376 +08:00 [INF] Executing endpoint 'Sustain.Controllers.MetersController.GetMetersForSchool (contactsapp)'
2023-10-08 14:55:03.376 +08:00 [INF] Route matched with {action = "GetMetersForSchool", controller = "Meters"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.MeterDto]]] GetMetersForSchool(Int32, System.String, System.String, Int32, Int32) on controller Sustain.Controllers.MetersController (contactsapp).
2023-10-08 14:55:03.377 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-08 14:55:03.377 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-08 14:55:03.377 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-08 14:55:03.377 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-08 14:55:03.377 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-08 14:55:03.377 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.MetersController (contactsapp)
2023-10-08 14:55:03.379 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.MetersController (contactsapp)
2023-10-08 14:55:03.380 +08:00 [DBG] Attempting to bind parameter 'schoolid' of type 'System.Int32' ...
2023-10-08 14:55:03.380 +08:00 [DBG] Attempting to bind parameter 'schoolid' of type 'System.Int32' using the name '' in request data ...
2023-10-08 14:55:03.380 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'schoolid' of type 'System.Int32'.
2023-10-08 14:55:03.380 +08:00 [DBG] Done attempting to bind parameter 'schoolid' of type 'System.Int32'.
2023-10-08 14:55:03.380 +08:00 [DBG] Done attempting to bind parameter 'schoolid' of type 'System.Int32'.
2023-10-08 14:55:03.380 +08:00 [DBG] Attempting to validate the bound parameter 'schoolid' of type 'System.Int32' ...
2023-10-08 14:55:03.380 +08:00 [DBG] Done attempting to validate the bound parameter 'schoolid' of type 'System.Int32'.
2023-10-08 14:55:03.380 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-08 14:55:03.380 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-08 14:55:03.380 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-08 14:55:03.380 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 14:55:03.380 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 14:55:03.380 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-08 14:55:03.380 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-08 14:55:03.380 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-08 14:55:03.381 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-08 14:55:03.381 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-08 14:55:03.381 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 14:55:03.381 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 14:55:03.381 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-08 14:55:03.382 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-08 14:55:03.382 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 14:55:03.382 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-08 14:55:03.382 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 14:55:03.382 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 14:55:03.382 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 14:55:03.382 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 14:55:03.383 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 14:55:03.383 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-08 14:55:03.383 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 14:55:03.383 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 14:55:03.383 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 14:55:03.383 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-08 14:55:03.406 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-08 14:55:03.407 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 14:55:03.407 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 14:55:03.407 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 14:55:03.407 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 14:55:03.407 +08:00 [DBG] Executing DbCommand [Parameters=[@__schoolId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Meter] AS [m]
WHERE [m].[SchoolId] = @__schoolId_0
2023-10-08 14:55:03.411 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__schoolId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Meter] AS [m]
WHERE [m].[SchoolId] = @__schoolId_0
2023-10-08 14:55:03.412 +08:00 [DBG] A data reader was disposed.
2023-10-08 14:55:03.412 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 14:55:03.412 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 14:55:03.413 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 14:55:03.413 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 14:55:03.413 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 14:55:03.413 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 14:55:03.413 +08:00 [DBG] Executing DbCommand [Parameters=[@__schoolId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MeterId], [t].[MeterDescription], [t].[MeterName], [t].[MeterTypeId], [t].[SchoolId], [t].[UtilityAccountNumber], [m0].[Id], [m0].[CreatedAt], [m0].[CreatedBy], [m0].[LastModifiedAt], [m0].[LastModifiedBy], [m0].[TypeUnitOfMeasure], [m0].[active], [m0].[effFrom], [m0].[effTo], [m0].[typeCode], [m0].[typeLongDescription], [m0].[typeShortDescription]
FROM (
    SELECT [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber]
    FROM [Meter] AS [m]
    WHERE [m].[SchoolId] = @__schoolId_0
    ORDER BY [m].[MeterName]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
LEFT JOIN [MeterType] AS [m0] ON [t].[MeterTypeId] = [m0].[Id]
ORDER BY [t].[MeterName]
2023-10-08 14:55:03.417 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__schoolId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MeterId], [t].[MeterDescription], [t].[MeterName], [t].[MeterTypeId], [t].[SchoolId], [t].[UtilityAccountNumber], [m0].[Id], [m0].[CreatedAt], [m0].[CreatedBy], [m0].[LastModifiedAt], [m0].[LastModifiedBy], [m0].[TypeUnitOfMeasure], [m0].[active], [m0].[effFrom], [m0].[effTo], [m0].[typeCode], [m0].[typeLongDescription], [m0].[typeShortDescription]
FROM (
    SELECT [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber]
    FROM [Meter] AS [m]
    WHERE [m].[SchoolId] = @__schoolId_0
    ORDER BY [m].[MeterName]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
LEFT JOIN [MeterType] AS [m0] ON [t].[MeterTypeId] = [m0].[Id]
ORDER BY [t].[MeterName]
2023-10-08 14:55:03.418 +08:00 [DBG] A data reader was disposed.
2023-10-08 14:55:03.418 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 14:55:03.418 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 14:55:03.418 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-08 14:55:03.418 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-08 14:55:03.418 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-08 14:55:03.418 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.MeterDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-08 14:55:03.419 +08:00 [INF] Executed action Sustain.Controllers.MetersController.GetMetersForSchool (contactsapp) in 41.266ms
2023-10-08 14:55:03.419 +08:00 [INF] Executed endpoint 'Sustain.Controllers.MetersController.GetMetersForSchool (contactsapp)'
2023-10-08 14:55:03.419 +08:00 [DBG] Connection id "0HMU7PDTSA8A8" completed keep alive response.
2023-10-08 14:55:03.419 +08:00 [DBG] 'SustainContext' disposed.
2023-10-08 14:55:03.419 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/Meters?pageNumber=1&pageSize=5 - - - 200 2 text/json;+charset=utf-8 45.9887ms
2023-10-08 14:55:56.495 +08:00 [DBG] Connection id "0HMU7PDTSA8A7" received FIN.
2023-10-08 14:55:56.495 +08:00 [DBG] Connection id "0HMU7PDTSA8A8" received FIN.
2023-10-08 14:55:56.496 +08:00 [DBG] Connection id "0HMU7PDTSA8A8" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-08 14:55:56.496 +08:00 [DBG] Connection id "0HMU7PDTSA8A8" disconnecting.
2023-10-08 14:55:56.496 +08:00 [DBG] Connection id "0HMU7PDTSA8A7" disconnecting.
2023-10-08 14:55:56.496 +08:00 [DBG] Connection id "0HMU7PDTSA8A7" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-08 14:55:56.496 +08:00 [DBG] Connection id "0HMU7PDTSA8A8" stopped.
2023-10-08 14:55:56.496 +08:00 [DBG] Connection id "0HMU7PDTSA8A7" stopped.
2023-10-08 14:56:17.750 +08:00 [DBG] Connection id "0HMU7PDTSA8A9" accepted.
2023-10-08 14:56:17.750 +08:00 [DBG] Connection id "0HMU7PDTSA8A9" started.
2023-10-08 14:56:17.772 +08:00 [DBG] Connection 0HMU7PDTSA8A9 established using the following protocol: "Tls12"
2023-10-08 14:56:17.773 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/swagger/v1/swagger.json - -
2023-10-08 14:56:17.773 +08:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-10-08 14:56:17.774 +08:00 [DBG] Request did not match any endpoints
2023-10-08 14:56:17.830 +08:00 [DBG] Connection id "0HMU7PDTSA8A9" received FIN.
2023-10-08 14:56:17.834 +08:00 [DBG] Connection id "0HMU7PDTSA8A9" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-08 14:56:17.835 +08:00 [DBG] Connection id "0HMU7PDTSA8A9" disconnecting.
2023-10-08 14:56:17.858 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 85.1155ms
2023-10-08 14:56:17.859 +08:00 [DBG] Connection id "0HMU7PDTSA8A9" stopped.
2023-10-08 14:56:19.052 +08:00 [DBG] Connection id "0HMU7PDTSA8AA" accepted.
2023-10-08 14:56:19.052 +08:00 [DBG] Connection id "0HMU7PDTSA8AA" started.
2023-10-08 14:56:19.075 +08:00 [DBG] Connection 0HMU7PDTSA8AA established using the following protocol: "Tls12"
2023-10-08 14:56:19.076 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/swagger/v1/swagger.json - -
2023-10-08 14:56:19.076 +08:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-10-08 14:56:19.076 +08:00 [DBG] Request did not match any endpoints
2023-10-08 14:56:19.086 +08:00 [DBG] Connection id "0HMU7PDTSA8AA" completed keep alive response.
2023-10-08 14:56:19.086 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 10.3388ms
2023-10-08 14:56:33.880 +08:00 [DBG] Connection id "0HMU7PDTSA8AB" accepted.
2023-10-08 14:56:33.880 +08:00 [DBG] Connection id "0HMU7PDTSA8AB" started.
2023-10-08 14:56:33.903 +08:00 [DBG] Connection 0HMU7PDTSA8AB established using the following protocol: "Tls12"
2023-10-08 14:56:33.904 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - -
2023-10-08 14:56:33.904 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-08 14:56:33.904 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-08 14:56:33.904 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 14:56:33.905 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-08 14:56:33.905 +08:00 [INF] CORS policy execution successful.
2023-10-08 14:56:33.905 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-08 14:56:33.905 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 14:56:33.905 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-08 14:56:33.905 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-08 14:56:33.905 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-08 14:56:33.905 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-08 14:56:33.906 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-08 14:56:33.906 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-08 14:56:33.906 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-08 14:56:33.906 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-08 14:56:33.906 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-08 14:56:33.907 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-08 14:56:33.907 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-08 14:56:33.907 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 14:56:33.907 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 14:56:33.907 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-08 14:56:33.907 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-08 14:56:33.907 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-08 14:56:33.907 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-08 14:56:33.907 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-08 14:56:33.908 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 14:56:33.908 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 14:56:33.908 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-08 14:56:33.908 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-08 14:56:33.908 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 14:56:33.908 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-08 14:56:33.908 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 14:56:33.908 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 14:56:33.909 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 14:56:33.912 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 14:56:33.912 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 14:56:33.912 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-08 14:56:33.915 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 14:56:33.915 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 14:56:33.915 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 14:56:33.915 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-08 14:56:33.916 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-08 14:56:33.916 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 14:56:33.916 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 14:56:33.916 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 14:56:33.916 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 14:56:33.917 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-08 14:56:33.920 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-08 14:56:33.920 +08:00 [DBG] A data reader was disposed.
2023-10-08 14:56:33.920 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 14:56:33.920 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 14:56:33.921 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 14:56:33.921 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 14:56:33.921 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 14:56:33.921 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 14:56:33.921 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-08 14:56:33.924 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-08 14:56:33.924 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 14:56:33.924 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 14:56:33.925 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 14:56:33.925 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 14:56:33.925 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 14:56:33.925 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 14:56:33.925 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 14:56:33.925 +08:00 [DBG] A data reader was disposed.
2023-10-08 14:56:33.925 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 14:56:33.925 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 14:56:33.926 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-08 14:56:33.926 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-08 14:56:33.926 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-08 14:56:33.926 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-08 14:56:33.926 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 20.439ms
2023-10-08 14:56:33.926 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-08 14:56:33.926 +08:00 [DBG] Connection id "0HMU7PDTSA8AB" completed keep alive response.
2023-10-08 14:56:33.926 +08:00 [DBG] 'SustainContext' disposed.
2023-10-08 14:56:33.926 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - - - 200 1127 text/json;+charset=utf-8 22.4589ms
2023-10-08 14:56:36.307 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/Meters?pageNumber=1&pageSize=5 - -
2023-10-08 14:56:36.307 +08:00 [DBG] 1 candidate(s) found for the request path '/api/Meters'
2023-10-08 14:56:36.307 +08:00 [DBG] Endpoint 'Sustain.Controllers.MetersController.GetMetersForSchool (contactsapp)' with route pattern 'api/Meters' is valid for the request path '/api/Meters'
2023-10-08 14:56:36.308 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.MetersController.GetMetersForSchool (contactsapp)'
2023-10-08 14:56:36.308 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-08 14:56:36.308 +08:00 [INF] CORS policy execution successful.
2023-10-08 14:56:36.308 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-08 14:56:36.308 +08:00 [INF] Executing endpoint 'Sustain.Controllers.MetersController.GetMetersForSchool (contactsapp)'
2023-10-08 14:56:36.308 +08:00 [INF] Route matched with {action = "GetMetersForSchool", controller = "Meters"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.MeterDto]]] GetMetersForSchool(Int32, System.String, System.String, Int32, Int32) on controller Sustain.Controllers.MetersController (contactsapp).
2023-10-08 14:56:36.308 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-08 14:56:36.308 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-08 14:56:36.308 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-08 14:56:36.309 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-08 14:56:36.309 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-08 14:56:36.309 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.MetersController (contactsapp)
2023-10-08 14:56:36.312 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.MetersController (contactsapp)
2023-10-08 14:56:36.312 +08:00 [DBG] Attempting to bind parameter 'schoolid' of type 'System.Int32' ...
2023-10-08 14:56:36.313 +08:00 [DBG] Attempting to bind parameter 'schoolid' of type 'System.Int32' using the name '' in request data ...
2023-10-08 14:56:36.313 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'schoolid' of type 'System.Int32'.
2023-10-08 14:56:36.313 +08:00 [DBG] Done attempting to bind parameter 'schoolid' of type 'System.Int32'.
2023-10-08 14:56:36.314 +08:00 [DBG] Done attempting to bind parameter 'schoolid' of type 'System.Int32'.
2023-10-08 14:56:36.314 +08:00 [DBG] Attempting to validate the bound parameter 'schoolid' of type 'System.Int32' ...
2023-10-08 14:56:36.315 +08:00 [DBG] Done attempting to validate the bound parameter 'schoolid' of type 'System.Int32'.
2023-10-08 14:56:36.315 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-08 14:56:36.316 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-08 14:56:36.316 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-08 14:56:36.316 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 14:56:36.316 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 14:56:36.316 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-08 14:56:36.316 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-08 14:56:36.316 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-08 14:56:36.316 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-08 14:56:36.317 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-08 14:56:36.317 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 14:56:36.319 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 14:56:36.319 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-08 14:56:36.319 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-08 14:56:36.319 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 14:56:36.320 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-08 14:56:36.320 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 14:56:36.320 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 14:56:36.320 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 14:56:36.320 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 14:56:36.321 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 14:56:36.321 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-08 14:56:36.321 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 14:56:36.321 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 14:56:36.321 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 14:56:36.321 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-08 14:56:36.322 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-08 14:56:36.322 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 14:56:36.323 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 14:56:36.323 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 14:56:36.323 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 14:56:36.323 +08:00 [DBG] Executing DbCommand [Parameters=[@__schoolId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Meter] AS [m]
WHERE [m].[SchoolId] = @__schoolId_0
2023-10-08 14:56:36.327 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__schoolId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Meter] AS [m]
WHERE [m].[SchoolId] = @__schoolId_0
2023-10-08 14:56:36.327 +08:00 [DBG] A data reader was disposed.
2023-10-08 14:56:36.327 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 14:56:36.327 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 14:56:36.328 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 14:56:36.329 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 14:56:36.329 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 14:56:36.329 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 14:56:36.329 +08:00 [DBG] Executing DbCommand [Parameters=[@__schoolId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MeterId], [t].[MeterDescription], [t].[MeterName], [t].[MeterTypeId], [t].[SchoolId], [t].[UtilityAccountNumber], [m0].[Id], [m0].[CreatedAt], [m0].[CreatedBy], [m0].[LastModifiedAt], [m0].[LastModifiedBy], [m0].[TypeUnitOfMeasure], [m0].[active], [m0].[effFrom], [m0].[effTo], [m0].[typeCode], [m0].[typeLongDescription], [m0].[typeShortDescription]
FROM (
    SELECT [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber]
    FROM [Meter] AS [m]
    WHERE [m].[SchoolId] = @__schoolId_0
    ORDER BY [m].[MeterName]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
LEFT JOIN [MeterType] AS [m0] ON [t].[MeterTypeId] = [m0].[Id]
ORDER BY [t].[MeterName]
2023-10-08 14:56:36.332 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__schoolId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MeterId], [t].[MeterDescription], [t].[MeterName], [t].[MeterTypeId], [t].[SchoolId], [t].[UtilityAccountNumber], [m0].[Id], [m0].[CreatedAt], [m0].[CreatedBy], [m0].[LastModifiedAt], [m0].[LastModifiedBy], [m0].[TypeUnitOfMeasure], [m0].[active], [m0].[effFrom], [m0].[effTo], [m0].[typeCode], [m0].[typeLongDescription], [m0].[typeShortDescription]
FROM (
    SELECT [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber]
    FROM [Meter] AS [m]
    WHERE [m].[SchoolId] = @__schoolId_0
    ORDER BY [m].[MeterName]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
LEFT JOIN [MeterType] AS [m0] ON [t].[MeterTypeId] = [m0].[Id]
ORDER BY [t].[MeterName]
2023-10-08 14:56:36.332 +08:00 [DBG] A data reader was disposed.
2023-10-08 14:56:36.332 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 14:56:36.332 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 14:56:36.333 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-08 14:56:36.333 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-08 14:56:36.333 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-08 14:56:36.333 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.MeterDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-08 14:56:36.333 +08:00 [INF] Executed action Sustain.Controllers.MetersController.GetMetersForSchool (contactsapp) in 24.3189ms
2023-10-08 14:56:36.333 +08:00 [INF] Executed endpoint 'Sustain.Controllers.MetersController.GetMetersForSchool (contactsapp)'
2023-10-08 14:56:36.333 +08:00 [DBG] Connection id "0HMU7PDTSA8AB" completed keep alive response.
2023-10-08 14:56:36.333 +08:00 [DBG] 'SustainContext' disposed.
2023-10-08 14:56:36.333 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/Meters?pageNumber=1&pageSize=5 - - - 200 2 text/json;+charset=utf-8 26.2753ms
2023-10-08 14:56:55.020 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/swagger/v1/swagger.json - -
2023-10-08 14:56:55.020 +08:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-10-08 14:56:55.020 +08:00 [DBG] Request did not match any endpoints
2023-10-08 14:56:55.028 +08:00 [DBG] Connection id "0HMU7PDTSA8AA" completed keep alive response.
2023-10-08 14:56:55.028 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 8.2430ms
2023-10-08 14:58:47.076 +08:00 [DBG] Connection id "0HMU7PDTSA8AB" disconnecting.
2023-10-08 14:58:47.077 +08:00 [DBG] Connection id "0HMU7PDTSA8AB" stopped.
2023-10-08 14:58:47.078 +08:00 [DBG] Connection id "0HMU7PDTSA8AB" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-08 14:59:06.093 +08:00 [DBG] Connection id "0HMU7PDTSA8AA" disconnecting.
2023-10-08 14:59:06.094 +08:00 [DBG] Connection id "0HMU7PDTSA8AA" stopped.
2023-10-08 14:59:06.094 +08:00 [DBG] Connection id "0HMU7PDTSA8AA" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-08 15:04:57.740 +08:00 [INF] Application is shutting down...
2023-10-08 15:04:57.742 +08:00 [DBG] Hosting stopping
2023-10-08 15:04:57.751 +08:00 [DBG] Hosting stopped
2023-10-08 15:05:02.740 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-08 15:05:02.786 +08:00 [DBG] Hosting starting
2023-10-08 15:05:02.859 +08:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 94E46C593C0BE06B61505D939614C7B944816EDD)
2023-10-08 15:05:02.868 +08:00 [INF] Now listening on: https://localhost:7195
2023-10-08 15:05:02.868 +08:00 [INF] Now listening on: http://localhost:5108
2023-10-08 15:05:02.868 +08:00 [DBG] Loaded hosting startup assembly contactsapp
2023-10-08 15:05:02.868 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-08 15:05:02.868 +08:00 [INF] Hosting environment: Development
2023-10-08 15:05:02.868 +08:00 [INF] Content root path: /Users/philipwebb/Development/dotnetangular/contactsapp/
2023-10-08 15:05:02.868 +08:00 [DBG] Hosting started
2023-10-08 15:05:44.557 +08:00 [DBG] Connection id "0HMU7PJUQ38H3" accepted.
2023-10-08 15:05:44.559 +08:00 [DBG] Connection id "0HMU7PJUQ38H3" started.
2023-10-08 15:05:44.601 +08:00 [DBG] Connection 0HMU7PJUQ38H3 established using the following protocol: "Tls12"
2023-10-08 15:05:44.617 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/Meters?schoolid=5&pageNumber=1&pageSize=5 - -
2023-10-08 15:05:44.618 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-10-08 15:05:44.633 +08:00 [DBG] 1 candidate(s) found for the request path '/api/Meters'
2023-10-08 15:05:44.635 +08:00 [DBG] Endpoint 'Sustain.Controllers.MetersController.GetMetersForSchool (contactsapp)' with route pattern 'api/Meters' is valid for the request path '/api/Meters'
2023-10-08 15:05:44.635 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.MetersController.GetMetersForSchool (contactsapp)'
2023-10-08 15:05:44.654 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-08 15:05:44.654 +08:00 [INF] Executing endpoint 'Sustain.Controllers.MetersController.GetMetersForSchool (contactsapp)'
2023-10-08 15:05:44.668 +08:00 [INF] Route matched with {action = "GetMetersForSchool", controller = "Meters"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.MeterDto]]] GetMetersForSchool(Int32, System.String, System.String, Int32, Int32) on controller Sustain.Controllers.MetersController (contactsapp).
2023-10-08 15:05:44.669 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-08 15:05:44.669 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-08 15:05:44.669 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-08 15:05:44.669 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-08 15:05:44.669 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-08 15:05:44.669 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.MetersController (contactsapp)
2023-10-08 15:05:44.721 +08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-08 15:05:44.790 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.MetersController (contactsapp)
2023-10-08 15:05:44.793 +08:00 [DBG] Attempting to bind parameter 'schoolid' of type 'System.Int32' ...
2023-10-08 15:05:44.793 +08:00 [DBG] Attempting to bind parameter 'schoolid' of type 'System.Int32' using the name 'schoolid' in request data ...
2023-10-08 15:05:44.794 +08:00 [DBG] Done attempting to bind parameter 'schoolid' of type 'System.Int32'.
2023-10-08 15:05:44.794 +08:00 [DBG] Done attempting to bind parameter 'schoolid' of type 'System.Int32'.
2023-10-08 15:05:44.794 +08:00 [DBG] Attempting to validate the bound parameter 'schoolid' of type 'System.Int32' ...
2023-10-08 15:05:44.794 +08:00 [DBG] Done attempting to validate the bound parameter 'schoolid' of type 'System.Int32'.
2023-10-08 15:05:44.794 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-08 15:05:44.795 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-08 15:05:44.795 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-08 15:05:44.795 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 15:05:44.795 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 15:05:44.795 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-08 15:05:44.795 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-08 15:05:44.795 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-08 15:05:44.795 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-08 15:05:44.795 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-08 15:05:44.795 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 15:05:44.795 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 15:05:44.795 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-08 15:05:44.795 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-08 15:05:44.796 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 15:05:44.796 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-08 15:05:44.796 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 15:05:44.796 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 15:05:44.796 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 15:05:44.796 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 15:05:44.796 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 15:05:44.796 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-08 15:05:44.796 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 15:05:44.796 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 15:05:44.796 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 15:05:44.796 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-08 15:05:45.128 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-08 15:05:45.167 +08:00 [DBG] Compiling query expression: 
'DbSet<Meter>()
    .Include(m => m.MeterType)
    .Include(m => m.MeterReadings)
    .Where(meter => meter.SchoolId == __schoolId_0)
    .Count()'
2023-10-08 15:05:45.242 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Meter AS m
            WHERE m.SchoolId == @__schoolId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        Sustain.DbContexts.SustainContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-08 15:05:45.265 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 15:05:45.282 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (14ms).
2023-10-08 15:05:45.292 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:05:45.417 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:05:45.423 +08:00 [DBG] Executing DbCommand [Parameters=[@__schoolId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Meter] AS [m]
WHERE [m].[SchoolId] = @__schoolId_0
2023-10-08 15:05:45.451 +08:00 [INF] Executed DbCommand (30ms) [Parameters=[@__schoolId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Meter] AS [m]
WHERE [m].[SchoolId] = @__schoolId_0
2023-10-08 15:05:45.460 +08:00 [DBG] A data reader was disposed.
2023-10-08 15:05:45.461 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:05:45.463 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:05:45.466 +08:00 [DBG] Compiling query expression: 
'DbSet<Meter>()
    .Include(m => m.MeterType)
    .Include(m => m.MeterReadings)
    .Where(meter => meter.SchoolId == __schoolId_0)
    .OrderBy(m => m.MeterName)
    .Skip(__p_1)
    .Take(__p_2)'
2023-10-08 15:05:45.476 +08:00 [DBG] Including navigation: 'Meter.MeterType'.
2023-10-08 15:05:45.477 +08:00 [DBG] Including navigation: 'Meter.MeterReadings'.
2023-10-08 15:05:45.534 +08:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Meter>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Meter.MeterId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Meter.MeterDescription (string) MaxLength(255), 1], [Property: Meter.MeterName (string) MaxLength(255), 2], [Property: Meter.MeterTypeId (int?) FK Index, 3], [Property: Meter.SchoolId (int?) FK Index, 4], [Property: Meter.UtilityAccountNumber (string), 5] }
            1 -> Dictionary<IProperty, int> { [Property: MeterType.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: MeterType.CreatedAt (DateTime) Required, 7], [Property: MeterType.CreatedBy (string) MaxLength(50), 8], [Property: MeterType.LastModifiedAt (DateTime) Required, 9], [Property: MeterType.LastModifiedBy (string) MaxLength(50), 10], [Property: MeterType.TypeUnitOfMeasure (string) MaxLength(150), 11], [Property: MeterType.active (bool) Required, 12], [Property: MeterType.effFrom (DateTime) Required, 13], [Property: MeterType.effTo (DateTime) Required, 14], [Property: MeterType.typeCode (string), 15], [Property: MeterType.typeLongDescription (string) MaxLength(150), 16], [Property: MeterType.typeShortDescription (string) MaxLength(50), 17] }
            2 -> 0
            3 -> 6
            4 -> Dictionary<IProperty, int> { [Property: MeterReading.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 18], [Property: MeterReading.CreatedAt (DateTime) Required, 19], [Property: MeterReading.CreatedBy (string) MaxLength(50), 20], [Property: MeterReading.LastModifiedAt (DateTime) Required, 21], [Property: MeterReading.LastModifiedBy (string) MaxLength(50), 22], [Property: MeterReading.MeterId (int) Required FK Index, 23], [Property: MeterReading.ReadingDatetime (DateTime) Required, 24], [Property: MeterReading.ReadingValue (double) Required, 25], [Property: MeterReading.active (bool) Required, 26] }
            5 -> 18
        SELECT t.MeterId, t.MeterDescription, t.MeterName, t.MeterTypeId, t.SchoolId, t.UtilityAccountNumber, m0.Id, m0.CreatedAt, m0.CreatedBy, m0.LastModifiedAt, m0.LastModifiedBy, m0.TypeUnitOfMeasure, m0.active, m0.effFrom, m0.effTo, m0.typeCode, m0.typeLongDescription, m0.typeShortDescription, m1.Id, m1.CreatedAt, m1.CreatedBy, m1.LastModifiedAt, m1.LastModifiedBy, m1.MeterId, m1.ReadingDatetime, m1.ReadingValue, m1.active
        FROM 
        (
            SELECT m.MeterId, m.MeterDescription, m.MeterName, m.MeterTypeId, m.SchoolId, m.UtilityAccountNumber
            FROM Meter AS m
            WHERE m.SchoolId == @__schoolId_0
            ORDER BY m.MeterName ASC
            OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
        ) AS t
        LEFT JOIN MeterType AS m0 ON t.MeterTypeId == m0.Id
        LEFT JOIN MeterReading AS m1 ON t.MeterId == m1.MeterId
        ORDER BY t.MeterName ASC, t.MeterId ASC, m0.Id ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Meter>, 
    Sustain.DbContexts.SustainContext, 
    False, 
    False, 
    True
)'
2023-10-08 15:05:45.537 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 15:05:45.537 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 15:05:45.537 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:05:45.538 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:05:45.538 +08:00 [DBG] Executing DbCommand [Parameters=[@__schoolId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MeterId], [t].[MeterDescription], [t].[MeterName], [t].[MeterTypeId], [t].[SchoolId], [t].[UtilityAccountNumber], [m0].[Id], [m0].[CreatedAt], [m0].[CreatedBy], [m0].[LastModifiedAt], [m0].[LastModifiedBy], [m0].[TypeUnitOfMeasure], [m0].[active], [m0].[effFrom], [m0].[effTo], [m0].[typeCode], [m0].[typeLongDescription], [m0].[typeShortDescription], [m1].[Id], [m1].[CreatedAt], [m1].[CreatedBy], [m1].[LastModifiedAt], [m1].[LastModifiedBy], [m1].[MeterId], [m1].[ReadingDatetime], [m1].[ReadingValue], [m1].[active]
FROM (
    SELECT [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber]
    FROM [Meter] AS [m]
    WHERE [m].[SchoolId] = @__schoolId_0
    ORDER BY [m].[MeterName]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
LEFT JOIN [MeterType] AS [m0] ON [t].[MeterTypeId] = [m0].[Id]
LEFT JOIN [MeterReading] AS [m1] ON [t].[MeterId] = [m1].[MeterId]
ORDER BY [t].[MeterName], [t].[MeterId], [m0].[Id]
2023-10-08 15:05:45.564 +08:00 [ERR] Failed executing DbCommand (27ms) [Parameters=[@__schoolId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MeterId], [t].[MeterDescription], [t].[MeterName], [t].[MeterTypeId], [t].[SchoolId], [t].[UtilityAccountNumber], [m0].[Id], [m0].[CreatedAt], [m0].[CreatedBy], [m0].[LastModifiedAt], [m0].[LastModifiedBy], [m0].[TypeUnitOfMeasure], [m0].[active], [m0].[effFrom], [m0].[effTo], [m0].[typeCode], [m0].[typeLongDescription], [m0].[typeShortDescription], [m1].[Id], [m1].[CreatedAt], [m1].[CreatedBy], [m1].[LastModifiedAt], [m1].[LastModifiedBy], [m1].[MeterId], [m1].[ReadingDatetime], [m1].[ReadingValue], [m1].[active]
FROM (
    SELECT [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber]
    FROM [Meter] AS [m]
    WHERE [m].[SchoolId] = @__schoolId_0
    ORDER BY [m].[MeterName]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
LEFT JOIN [MeterType] AS [m0] ON [t].[MeterTypeId] = [m0].[Id]
LEFT JOIN [MeterReading] AS [m1] ON [t].[MeterId] = [m1].[MeterId]
ORDER BY [t].[MeterName], [t].[MeterId], [m0].[Id]
2023-10-08 15:05:45.565 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:05:45.565 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:05:45.577 +08:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Sustain.DbContexts.SustainContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Id'.
Invalid column name 'CreatedAt'.
Invalid column name 'CreatedBy'.
Invalid column name 'LastModifiedAt'.
Invalid column name 'LastModifiedBy'.
Invalid column name 'active'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:dc6b5c88-55aa-48c6-b178-a3324b4f4f68
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Id'.
Invalid column name 'CreatedAt'.
Invalid column name 'CreatedBy'.
Invalid column name 'LastModifiedAt'.
Invalid column name 'LastModifiedBy'.
Invalid column name 'active'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:dc6b5c88-55aa-48c6-b178-a3324b4f4f68
Error Number:207,State:1,Class:16
2023-10-08 15:05:45.584 +08:00 [INF] Executed action Sustain.Controllers.MetersController.GetMetersForSchool (contactsapp) in 912.0107ms
2023-10-08 15:05:45.584 +08:00 [INF] Executed endpoint 'Sustain.Controllers.MetersController.GetMetersForSchool (contactsapp)'
2023-10-08 15:05:45.585 +08:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Id'.
Invalid column name 'CreatedAt'.
Invalid column name 'CreatedBy'.
Invalid column name 'LastModifiedAt'.
Invalid column name 'LastModifiedBy'.
Invalid column name 'active'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Sustain.Services.MeterRepository.GetMetersForSchoolAsync(Int32 schoolId, String name, String searchQuery, Int32 pageNumber, Int32 pageSize) in /Users/philipwebb/Development/dotnetangular/contactsapp/Services/MeterRepository.cs:line 41
   at Sustain.Controllers.MetersController.GetMetersForSchool(Int32 schoolid, String name, String searchQuery, Int32 pageNumber, Int32 pageSize) in /Users/philipwebb/Development/dotnetangular/contactsapp/Controllers/MeterController.cs:line 52
   at lambda_method6(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
ClientConnectionId:dc6b5c88-55aa-48c6-b178-a3324b4f4f68
Error Number:207,State:1,Class:16
2023-10-08 15:05:45.596 +08:00 [DBG] Connection id "0HMU7PJUQ38H3" completed keep alive response.
2023-10-08 15:05:45.597 +08:00 [DBG] 'SustainContext' disposed.
2023-10-08 15:05:45.599 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/Meters?schoolid=5&pageNumber=1&pageSize=5 - - - 500 - text/plain;+charset=utf-8 983.3637ms
2023-10-08 15:06:04.812 +08:00 [INF] Application is shutting down...
2023-10-08 15:06:04.814 +08:00 [DBG] Hosting stopping
2023-10-08 15:06:04.828 +08:00 [DBG] Connection id "0HMU7PJUQ38H3" disconnecting.
2023-10-08 15:06:04.831 +08:00 [DBG] Connection id "0HMU7PJUQ38H3" stopped.
2023-10-08 15:06:04.831 +08:00 [DBG] Connection id "0HMU7PJUQ38H3" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-08 15:06:04.835 +08:00 [DBG] Hosting stopped
2023-10-08 15:06:32.485 +08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-08 15:06:32.828 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-08 15:06:32.890 +08:00 [DBG] DetectChanges starting for 'SustainContext'.
2023-10-08 15:06:32.891 +08:00 [DBG] DetectChanges completed for 'SustainContext'.
2023-10-08 15:06:32.892 +08:00 [DBG] DetectChanges starting for 'SustainContext'.
2023-10-08 15:06:32.892 +08:00 [DBG] DetectChanges completed for 'SustainContext'.
2023-10-08 15:06:32.896 +08:00 [DBG] DetectChanges starting for 'SustainContext'.
2023-10-08 15:06:32.896 +08:00 [DBG] DetectChanges completed for 'SustainContext'.
2023-10-08 15:06:32.896 +08:00 [DBG] DetectChanges starting for 'SustainContext'.
2023-10-08 15:06:32.896 +08:00 [DBG] DetectChanges completed for 'SustainContext'.
2023-10-08 15:06:32.933 +08:00 [DBG] 'SustainContext' disposed.
2023-10-08 15:06:49.921 +08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-08 15:06:50.282 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-08 15:06:50.309 +08:00 [DBG] Migrating using database 'sustainable' on server 'localhost'.
2023-10-08 15:06:50.312 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:06:50.448 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:06:50.451 +08:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-08 15:06:50.455 +08:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2023-10-08 15:06:50.459 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-10-08 15:06:50.473 +08:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-10-08 15:06:50.474 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:06:50.476 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:06:50.479 +08:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-10-08 15:06:50.479 +08:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-10-08 15:06:50.479 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:06:50.479 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:06:50.480 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-10-08 15:06:50.491 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-10-08 15:06:50.491 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:06:50.491 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:06:50.492 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:06:50.492 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:06:50.492 +08:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-08 15:06:50.492 +08:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-08 15:06:50.493 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-10-08 15:06:50.496 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-10-08 15:06:50.496 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:06:50.496 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:06:50.496 +08:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-10-08 15:06:50.496 +08:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-10-08 15:06:50.496 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:06:50.496 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:06:50.496 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-10-08 15:06:50.499 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-10-08 15:06:50.499 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:06:50.499 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:06:50.509 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 15:06:50.509 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 15:06:50.509 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:06:50.509 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:06:50.509 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-10-08 15:06:50.520 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-10-08 15:06:50.521 +08:00 [DBG] A data reader was disposed.
2023-10-08 15:06:50.521 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:06:50.521 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:06:50.528 +08:00 [INF] Applying migration '20231008070632_metermig11'.
2023-10-08 15:06:50.547 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:06:50.547 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:06:50.548 +08:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-10-08 15:06:50.552 +08:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-10-08 15:06:50.552 +08:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-08 15:06:50.552 +08:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-08 15:06:50.553 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[MeterReading].[MeterReadingId]', N'Id', N'COLUMN';
2023-10-08 15:06:50.755 +08:00 [INF] Executed DbCommand (202ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[MeterReading].[MeterReadingId]', N'Id', N'COLUMN';
2023-10-08 15:06:50.755 +08:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-08 15:06:50.755 +08:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-08 15:06:50.755 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [MeterReading] ADD [CreatedAt] datetime2 NOT NULL DEFAULT '0001-01-01T00:00:00.0000000';
2023-10-08 15:06:50.766 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [MeterReading] ADD [CreatedAt] datetime2 NOT NULL DEFAULT '0001-01-01T00:00:00.0000000';
2023-10-08 15:06:50.766 +08:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-08 15:06:50.766 +08:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-08 15:06:50.766 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [MeterReading] ADD [CreatedBy] nvarchar(50) NULL;
2023-10-08 15:06:50.768 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [MeterReading] ADD [CreatedBy] nvarchar(50) NULL;
2023-10-08 15:06:50.768 +08:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-08 15:06:50.768 +08:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-08 15:06:50.768 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [MeterReading] ADD [LastModifiedAt] datetime2 NOT NULL DEFAULT '0001-01-01T00:00:00.0000000';
2023-10-08 15:06:50.773 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [MeterReading] ADD [LastModifiedAt] datetime2 NOT NULL DEFAULT '0001-01-01T00:00:00.0000000';
2023-10-08 15:06:50.773 +08:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-08 15:06:50.773 +08:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-08 15:06:50.773 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [MeterReading] ADD [LastModifiedBy] nvarchar(50) NULL;
2023-10-08 15:06:50.775 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [MeterReading] ADD [LastModifiedBy] nvarchar(50) NULL;
2023-10-08 15:06:50.775 +08:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-08 15:06:50.776 +08:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-08 15:06:50.776 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [MeterReading] ADD [active] bit NOT NULL DEFAULT CAST(0 AS bit);
2023-10-08 15:06:50.779 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [MeterReading] ADD [active] bit NOT NULL DEFAULT CAST(0 AS bit);
2023-10-08 15:06:50.779 +08:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-08 15:06:50.780 +08:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-08 15:06:50.780 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20231008070632_metermig11', N'6.0.8');
2023-10-08 15:06:50.782 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20231008070632_metermig11', N'6.0.8');
2023-10-08 15:06:50.783 +08:00 [DBG] Committing transaction.
2023-10-08 15:06:50.787 +08:00 [DBG] Committed transaction.
2023-10-08 15:06:50.788 +08:00 [DBG] Disposing transaction.
2023-10-08 15:06:50.788 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:06:50.788 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:06:50.789 +08:00 [DBG] 'SustainContext' disposed.
2023-10-08 15:06:57.747 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-08 15:06:57.797 +08:00 [DBG] Hosting starting
2023-10-08 15:06:57.858 +08:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 94E46C593C0BE06B61505D939614C7B944816EDD)
2023-10-08 15:06:57.867 +08:00 [INF] Now listening on: https://localhost:7195
2023-10-08 15:06:57.867 +08:00 [INF] Now listening on: http://localhost:5108
2023-10-08 15:06:57.867 +08:00 [DBG] Loaded hosting startup assembly contactsapp
2023-10-08 15:06:57.867 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-08 15:06:57.867 +08:00 [INF] Hosting environment: Development
2023-10-08 15:06:57.867 +08:00 [INF] Content root path: /Users/philipwebb/Development/dotnetangular/contactsapp/
2023-10-08 15:06:57.867 +08:00 [DBG] Hosting started
2023-10-08 15:07:00.584 +08:00 [DBG] Connection id "0HMU7PKLF5JET" accepted.
2023-10-08 15:07:00.585 +08:00 [DBG] Connection id "0HMU7PKLF5JET" started.
2023-10-08 15:07:00.654 +08:00 [DBG] Connection 0HMU7PKLF5JET established using the following protocol: "Tls12"
2023-10-08 15:07:00.682 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/swagger/index.html - -
2023-10-08 15:07:00.684 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-10-08 15:07:00.699 +08:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-10-08 15:07:00.699 +08:00 [DBG] Request did not match any endpoints
2023-10-08 15:07:00.764 +08:00 [DBG] Connection id "0HMU7PKLF5JET" completed keep alive response.
2023-10-08 15:07:00.765 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/swagger/index.html - - - 200 - text/html;charset=utf-8 86.6355ms
2023-10-08 15:07:00.883 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/swagger/v1/swagger.json - -
2023-10-08 15:07:00.883 +08:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-10-08 15:07:00.883 +08:00 [DBG] Request did not match any endpoints
2023-10-08 15:07:00.938 +08:00 [DBG] Connection id "0HMU7PKLF5JET" completed keep alive response.
2023-10-08 15:07:00.939 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 56.3795ms
2023-10-08 15:07:12.877 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/Meters?schoolid=5&pageNumber=1&pageSize=5 - -
2023-10-08 15:07:12.885 +08:00 [DBG] 1 candidate(s) found for the request path '/api/Meters'
2023-10-08 15:07:12.890 +08:00 [DBG] Endpoint 'Sustain.Controllers.MetersController.GetMetersForSchool (contactsapp)' with route pattern 'api/Meters' is valid for the request path '/api/Meters'
2023-10-08 15:07:12.891 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.MetersController.GetMetersForSchool (contactsapp)'
2023-10-08 15:07:12.894 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-08 15:07:12.897 +08:00 [INF] Executing endpoint 'Sustain.Controllers.MetersController.GetMetersForSchool (contactsapp)'
2023-10-08 15:07:12.915 +08:00 [INF] Route matched with {action = "GetMetersForSchool", controller = "Meters"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.MeterDto]]] GetMetersForSchool(Int32, System.String, System.String, Int32, Int32) on controller Sustain.Controllers.MetersController (contactsapp).
2023-10-08 15:07:12.916 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-08 15:07:12.916 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-08 15:07:12.916 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-08 15:07:12.916 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-08 15:07:12.916 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-08 15:07:12.916 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.MetersController (contactsapp)
2023-10-08 15:07:12.969 +08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-08 15:07:13.036 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.MetersController (contactsapp)
2023-10-08 15:07:13.038 +08:00 [DBG] Attempting to bind parameter 'schoolid' of type 'System.Int32' ...
2023-10-08 15:07:13.039 +08:00 [DBG] Attempting to bind parameter 'schoolid' of type 'System.Int32' using the name 'schoolid' in request data ...
2023-10-08 15:07:13.039 +08:00 [DBG] Done attempting to bind parameter 'schoolid' of type 'System.Int32'.
2023-10-08 15:07:13.039 +08:00 [DBG] Done attempting to bind parameter 'schoolid' of type 'System.Int32'.
2023-10-08 15:07:13.039 +08:00 [DBG] Attempting to validate the bound parameter 'schoolid' of type 'System.Int32' ...
2023-10-08 15:07:13.040 +08:00 [DBG] Done attempting to validate the bound parameter 'schoolid' of type 'System.Int32'.
2023-10-08 15:07:13.040 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-08 15:07:13.040 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-08 15:07:13.040 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-08 15:07:13.040 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 15:07:13.040 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 15:07:13.040 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-08 15:07:13.041 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-08 15:07:13.041 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-08 15:07:13.041 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-08 15:07:13.041 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-08 15:07:13.041 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 15:07:13.041 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 15:07:13.041 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-08 15:07:13.041 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-08 15:07:13.041 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 15:07:13.041 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-08 15:07:13.041 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 15:07:13.041 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 15:07:13.041 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 15:07:13.041 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 15:07:13.042 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 15:07:13.042 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-08 15:07:13.042 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 15:07:13.042 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 15:07:13.042 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 15:07:13.042 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-08 15:07:13.363 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-08 15:07:13.401 +08:00 [DBG] Compiling query expression: 
'DbSet<Meter>()
    .Include(m => m.MeterType)
    .Include(m => m.MeterReadings)
    .Where(meter => meter.SchoolId == __schoolId_0)
    .Count()'
2023-10-08 15:07:13.474 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Meter AS m
            WHERE m.SchoolId == @__schoolId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        Sustain.DbContexts.SustainContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-08 15:07:13.498 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 15:07:13.512 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (12ms).
2023-10-08 15:07:13.520 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:07:13.632 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:07:13.637 +08:00 [DBG] Executing DbCommand [Parameters=[@__schoolId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Meter] AS [m]
WHERE [m].[SchoolId] = @__schoolId_0
2023-10-08 15:07:13.667 +08:00 [INF] Executed DbCommand (31ms) [Parameters=[@__schoolId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Meter] AS [m]
WHERE [m].[SchoolId] = @__schoolId_0
2023-10-08 15:07:13.675 +08:00 [DBG] A data reader was disposed.
2023-10-08 15:07:13.677 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:07:13.679 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:07:13.681 +08:00 [DBG] Compiling query expression: 
'DbSet<Meter>()
    .Include(m => m.MeterType)
    .Include(m => m.MeterReadings)
    .Where(meter => meter.SchoolId == __schoolId_0)
    .OrderBy(m => m.MeterName)
    .Skip(__p_1)
    .Take(__p_2)'
2023-10-08 15:07:13.692 +08:00 [DBG] Including navigation: 'Meter.MeterType'.
2023-10-08 15:07:13.692 +08:00 [DBG] Including navigation: 'Meter.MeterReadings'.
2023-10-08 15:07:13.747 +08:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Meter>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Meter.MeterId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Meter.MeterDescription (string) MaxLength(255), 1], [Property: Meter.MeterName (string) MaxLength(255), 2], [Property: Meter.MeterTypeId (int?) FK Index, 3], [Property: Meter.SchoolId (int?) FK Index, 4], [Property: Meter.UtilityAccountNumber (string), 5] }
            1 -> Dictionary<IProperty, int> { [Property: MeterType.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: MeterType.CreatedAt (DateTime) Required, 7], [Property: MeterType.CreatedBy (string) MaxLength(50), 8], [Property: MeterType.LastModifiedAt (DateTime) Required, 9], [Property: MeterType.LastModifiedBy (string) MaxLength(50), 10], [Property: MeterType.TypeUnitOfMeasure (string) MaxLength(150), 11], [Property: MeterType.active (bool) Required, 12], [Property: MeterType.effFrom (DateTime) Required, 13], [Property: MeterType.effTo (DateTime) Required, 14], [Property: MeterType.typeCode (string), 15], [Property: MeterType.typeLongDescription (string) MaxLength(150), 16], [Property: MeterType.typeShortDescription (string) MaxLength(50), 17] }
            2 -> 0
            3 -> 6
            4 -> Dictionary<IProperty, int> { [Property: MeterReading.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 18], [Property: MeterReading.CreatedAt (DateTime) Required, 19], [Property: MeterReading.CreatedBy (string) MaxLength(50), 20], [Property: MeterReading.LastModifiedAt (DateTime) Required, 21], [Property: MeterReading.LastModifiedBy (string) MaxLength(50), 22], [Property: MeterReading.MeterId (int) Required FK Index, 23], [Property: MeterReading.ReadingDatetime (DateTime) Required, 24], [Property: MeterReading.ReadingValue (double) Required, 25], [Property: MeterReading.active (bool) Required, 26] }
            5 -> 18
        SELECT t.MeterId, t.MeterDescription, t.MeterName, t.MeterTypeId, t.SchoolId, t.UtilityAccountNumber, m0.Id, m0.CreatedAt, m0.CreatedBy, m0.LastModifiedAt, m0.LastModifiedBy, m0.TypeUnitOfMeasure, m0.active, m0.effFrom, m0.effTo, m0.typeCode, m0.typeLongDescription, m0.typeShortDescription, m1.Id, m1.CreatedAt, m1.CreatedBy, m1.LastModifiedAt, m1.LastModifiedBy, m1.MeterId, m1.ReadingDatetime, m1.ReadingValue, m1.active
        FROM 
        (
            SELECT m.MeterId, m.MeterDescription, m.MeterName, m.MeterTypeId, m.SchoolId, m.UtilityAccountNumber
            FROM Meter AS m
            WHERE m.SchoolId == @__schoolId_0
            ORDER BY m.MeterName ASC
            OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
        ) AS t
        LEFT JOIN MeterType AS m0 ON t.MeterTypeId == m0.Id
        LEFT JOIN MeterReading AS m1 ON t.MeterId == m1.MeterId
        ORDER BY t.MeterName ASC, t.MeterId ASC, m0.Id ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Meter>, 
    Sustain.DbContexts.SustainContext, 
    False, 
    False, 
    True
)'
2023-10-08 15:07:13.750 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 15:07:13.750 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 15:07:13.750 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:07:13.751 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:07:13.751 +08:00 [DBG] Executing DbCommand [Parameters=[@__schoolId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MeterId], [t].[MeterDescription], [t].[MeterName], [t].[MeterTypeId], [t].[SchoolId], [t].[UtilityAccountNumber], [m0].[Id], [m0].[CreatedAt], [m0].[CreatedBy], [m0].[LastModifiedAt], [m0].[LastModifiedBy], [m0].[TypeUnitOfMeasure], [m0].[active], [m0].[effFrom], [m0].[effTo], [m0].[typeCode], [m0].[typeLongDescription], [m0].[typeShortDescription], [m1].[Id], [m1].[CreatedAt], [m1].[CreatedBy], [m1].[LastModifiedAt], [m1].[LastModifiedBy], [m1].[MeterId], [m1].[ReadingDatetime], [m1].[ReadingValue], [m1].[active]
FROM (
    SELECT [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber]
    FROM [Meter] AS [m]
    WHERE [m].[SchoolId] = @__schoolId_0
    ORDER BY [m].[MeterName]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
LEFT JOIN [MeterType] AS [m0] ON [t].[MeterTypeId] = [m0].[Id]
LEFT JOIN [MeterReading] AS [m1] ON [t].[MeterId] = [m1].[MeterId]
ORDER BY [t].[MeterName], [t].[MeterId], [m0].[Id]
2023-10-08 15:07:13.787 +08:00 [INF] Executed DbCommand (36ms) [Parameters=[@__schoolId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MeterId], [t].[MeterDescription], [t].[MeterName], [t].[MeterTypeId], [t].[SchoolId], [t].[UtilityAccountNumber], [m0].[Id], [m0].[CreatedAt], [m0].[CreatedBy], [m0].[LastModifiedAt], [m0].[LastModifiedBy], [m0].[TypeUnitOfMeasure], [m0].[active], [m0].[effFrom], [m0].[effTo], [m0].[typeCode], [m0].[typeLongDescription], [m0].[typeShortDescription], [m1].[Id], [m1].[CreatedAt], [m1].[CreatedBy], [m1].[LastModifiedAt], [m1].[LastModifiedBy], [m1].[MeterId], [m1].[ReadingDatetime], [m1].[ReadingValue], [m1].[active]
FROM (
    SELECT [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber]
    FROM [Meter] AS [m]
    WHERE [m].[SchoolId] = @__schoolId_0
    ORDER BY [m].[MeterName]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
LEFT JOIN [MeterType] AS [m0] ON [t].[MeterTypeId] = [m0].[Id]
LEFT JOIN [MeterReading] AS [m1] ON [t].[MeterId] = [m1].[MeterId]
ORDER BY [t].[MeterName], [t].[MeterId], [m0].[Id]
2023-10-08 15:07:13.799 +08:00 [DBG] Context 'SustainContext' started tracking 'Meter' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 15:07:13.813 +08:00 [DBG] Context 'SustainContext' started tracking 'MeterType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 15:07:13.826 +08:00 [DBG] Context 'SustainContext' started tracking 'MeterReading' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 15:07:13.833 +08:00 [DBG] A data reader was disposed.
2023-10-08 15:07:13.833 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:07:13.833 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:07:13.843 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-08 15:07:13.844 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-10-08 15:07:13.844 +08:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-10-08 15:07:13.844 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-08 15:07:13.844 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-08 15:07:13.844 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-08 15:07:13.844 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.MeterDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-08 15:07:13.896 +08:00 [INF] Executed action Sustain.Controllers.MetersController.GetMetersForSchool (contactsapp) in 978.2292ms
2023-10-08 15:07:13.897 +08:00 [INF] Executed endpoint 'Sustain.Controllers.MetersController.GetMetersForSchool (contactsapp)'
2023-10-08 15:07:13.897 +08:00 [DBG] Connection id "0HMU7PKLF5JET" completed keep alive response.
2023-10-08 15:07:13.898 +08:00 [DBG] 'SustainContext' disposed.
2023-10-08 15:07:13.899 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/Meters?schoolid=5&pageNumber=1&pageSize=5 - - - 200 500 application/json;+charset=utf-8 1021.4897ms
2023-10-08 15:09:24.950 +08:00 [DBG] Connection id "0HMU7PKLF5JET" disconnecting.
2023-10-08 15:09:24.954 +08:00 [DBG] Connection id "0HMU7PKLF5JET" stopped.
2023-10-08 15:09:24.955 +08:00 [DBG] Connection id "0HMU7PKLF5JET" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-08 15:17:26.121 +08:00 [INF] Application is shutting down...
2023-10-08 15:17:26.123 +08:00 [DBG] Hosting stopping
2023-10-08 15:17:26.127 +08:00 [DBG] Hosting stopped
2023-10-08 15:17:31.174 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-08 15:17:31.224 +08:00 [DBG] Hosting starting
2023-10-08 15:17:31.293 +08:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 94E46C593C0BE06B61505D939614C7B944816EDD)
2023-10-08 15:17:31.302 +08:00 [INF] Now listening on: https://localhost:7195
2023-10-08 15:17:31.302 +08:00 [INF] Now listening on: http://localhost:5108
2023-10-08 15:17:31.302 +08:00 [DBG] Loaded hosting startup assembly contactsapp
2023-10-08 15:17:31.302 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-08 15:17:31.302 +08:00 [INF] Hosting environment: Development
2023-10-08 15:17:31.302 +08:00 [INF] Content root path: /Users/philipwebb/Development/dotnetangular/contactsapp/
2023-10-08 15:17:31.302 +08:00 [DBG] Hosting started
2023-10-08 15:17:55.166 +08:00 [INF] Application is shutting down...
2023-10-08 15:17:55.167 +08:00 [DBG] Hosting stopping
2023-10-08 15:17:55.174 +08:00 [DBG] Hosting stopped
2023-10-08 15:18:06.039 +08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-08 15:18:06.382 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-08 15:18:06.445 +08:00 [DBG] DetectChanges starting for 'SustainContext'.
2023-10-08 15:18:06.447 +08:00 [DBG] DetectChanges completed for 'SustainContext'.
2023-10-08 15:18:06.447 +08:00 [DBG] DetectChanges starting for 'SustainContext'.
2023-10-08 15:18:06.447 +08:00 [DBG] DetectChanges completed for 'SustainContext'.
2023-10-08 15:18:06.452 +08:00 [DBG] DetectChanges starting for 'SustainContext'.
2023-10-08 15:18:06.452 +08:00 [DBG] DetectChanges completed for 'SustainContext'.
2023-10-08 15:18:06.452 +08:00 [DBG] DetectChanges starting for 'SustainContext'.
2023-10-08 15:18:06.452 +08:00 [DBG] DetectChanges completed for 'SustainContext'.
2023-10-08 15:18:06.488 +08:00 [DBG] 'SustainContext' disposed.
2023-10-08 15:18:15.051 +08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-08 15:18:15.421 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-08 15:18:15.449 +08:00 [DBG] Migrating using database 'sustainable' on server 'localhost'.
2023-10-08 15:18:15.452 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:18:15.598 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:18:15.602 +08:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-08 15:18:15.605 +08:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2023-10-08 15:18:15.609 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-10-08 15:18:15.627 +08:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-10-08 15:18:15.629 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:18:15.630 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:18:15.633 +08:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-10-08 15:18:15.633 +08:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-10-08 15:18:15.633 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:18:15.634 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:18:15.634 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-10-08 15:18:15.645 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-10-08 15:18:15.645 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:18:15.645 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:18:15.646 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:18:15.646 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:18:15.646 +08:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-08 15:18:15.646 +08:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-08 15:18:15.646 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-10-08 15:18:15.651 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-10-08 15:18:15.651 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:18:15.651 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:18:15.651 +08:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-10-08 15:18:15.652 +08:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-10-08 15:18:15.652 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:18:15.652 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:18:15.652 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-10-08 15:18:15.655 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-10-08 15:18:15.656 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:18:15.656 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:18:15.667 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 15:18:15.667 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 15:18:15.667 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:18:15.667 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:18:15.668 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-10-08 15:18:15.670 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-10-08 15:18:15.671 +08:00 [DBG] A data reader was disposed.
2023-10-08 15:18:15.671 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:18:15.671 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:18:15.678 +08:00 [INF] Applying migration '20231008071806_metermig12'.
2023-10-08 15:18:15.697 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:18:15.698 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:18:15.698 +08:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-10-08 15:18:15.704 +08:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-10-08 15:18:15.704 +08:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-08 15:18:15.704 +08:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-08 15:18:15.705 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[Meter].[MeterId]', N'Id', N'COLUMN';
2023-10-08 15:18:15.723 +08:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[Meter].[MeterId]', N'Id', N'COLUMN';
2023-10-08 15:18:15.723 +08:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-08 15:18:15.723 +08:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-08 15:18:15.723 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Meter] ADD [CreatedAt] datetime2 NOT NULL DEFAULT '0001-01-01T00:00:00.0000000';
2023-10-08 15:18:15.743 +08:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Meter] ADD [CreatedAt] datetime2 NOT NULL DEFAULT '0001-01-01T00:00:00.0000000';
2023-10-08 15:18:15.744 +08:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-08 15:18:15.744 +08:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-08 15:18:15.744 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Meter] ADD [CreatedBy] nvarchar(50) NULL;
2023-10-08 15:18:15.747 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Meter] ADD [CreatedBy] nvarchar(50) NULL;
2023-10-08 15:18:15.747 +08:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-08 15:18:15.747 +08:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-08 15:18:15.747 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Meter] ADD [LastModifiedAt] datetime2 NOT NULL DEFAULT '0001-01-01T00:00:00.0000000';
2023-10-08 15:18:15.751 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Meter] ADD [LastModifiedAt] datetime2 NOT NULL DEFAULT '0001-01-01T00:00:00.0000000';
2023-10-08 15:18:15.751 +08:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-08 15:18:15.751 +08:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-08 15:18:15.751 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Meter] ADD [LastModifiedBy] nvarchar(50) NULL;
2023-10-08 15:18:15.753 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Meter] ADD [LastModifiedBy] nvarchar(50) NULL;
2023-10-08 15:18:15.753 +08:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-08 15:18:15.753 +08:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-08 15:18:15.753 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Meter] ADD [active] bit NOT NULL DEFAULT CAST(0 AS bit);
2023-10-08 15:18:15.756 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Meter] ADD [active] bit NOT NULL DEFAULT CAST(0 AS bit);
2023-10-08 15:18:15.756 +08:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-08 15:18:15.756 +08:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-08 15:18:15.756 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20231008071806_metermig12', N'6.0.8');
2023-10-08 15:18:15.758 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20231008071806_metermig12', N'6.0.8');
2023-10-08 15:18:15.759 +08:00 [DBG] Committing transaction.
2023-10-08 15:18:15.764 +08:00 [DBG] Committed transaction.
2023-10-08 15:18:15.764 +08:00 [DBG] Disposing transaction.
2023-10-08 15:18:15.764 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:18:15.764 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:18:15.765 +08:00 [DBG] 'SustainContext' disposed.
2023-10-08 15:18:23.248 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-08 15:18:23.294 +08:00 [DBG] Hosting starting
2023-10-08 15:18:23.358 +08:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 94E46C593C0BE06B61505D939614C7B944816EDD)
2023-10-08 15:18:23.367 +08:00 [INF] Now listening on: https://localhost:7195
2023-10-08 15:18:23.367 +08:00 [INF] Now listening on: http://localhost:5108
2023-10-08 15:18:23.367 +08:00 [DBG] Loaded hosting startup assembly contactsapp
2023-10-08 15:18:23.367 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-08 15:18:23.368 +08:00 [INF] Hosting environment: Development
2023-10-08 15:18:23.368 +08:00 [INF] Content root path: /Users/philipwebb/Development/dotnetangular/contactsapp/
2023-10-08 15:18:23.368 +08:00 [DBG] Hosting started
2023-10-08 15:18:34.406 +08:00 [DBG] Connection id "0HMU7PR47V33L" accepted.
2023-10-08 15:18:34.407 +08:00 [DBG] Connection id "0HMU7PR47V33L" started.
2023-10-08 15:18:34.472 +08:00 [DBG] Connection 0HMU7PR47V33L established using the following protocol: "Tls12"
2023-10-08 15:18:34.503 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/swagger/index.html - -
2023-10-08 15:18:34.505 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-10-08 15:18:34.522 +08:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-10-08 15:18:34.522 +08:00 [DBG] Request did not match any endpoints
2023-10-08 15:18:34.585 +08:00 [DBG] Connection id "0HMU7PR47V33L" completed keep alive response.
2023-10-08 15:18:34.587 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/swagger/index.html - - - 200 - text/html;charset=utf-8 86.4461ms
2023-10-08 15:18:34.697 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/swagger/v1/swagger.json - -
2023-10-08 15:18:34.697 +08:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-10-08 15:18:34.697 +08:00 [DBG] Request did not match any endpoints
2023-10-08 15:18:34.754 +08:00 [DBG] Connection id "0HMU7PR47V33L" completed keep alive response.
2023-10-08 15:18:34.755 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 58.0376ms
2023-10-08 15:18:51.683 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/Meters?schoolid=5&pageNumber=1&pageSize=5 - -
2023-10-08 15:18:51.691 +08:00 [DBG] 1 candidate(s) found for the request path '/api/Meters'
2023-10-08 15:18:51.697 +08:00 [DBG] Endpoint 'Sustain.Controllers.MetersController.GetMetersForSchool (contactsapp)' with route pattern 'api/Meters' is valid for the request path '/api/Meters'
2023-10-08 15:18:51.698 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.MetersController.GetMetersForSchool (contactsapp)'
2023-10-08 15:18:51.700 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-08 15:18:51.702 +08:00 [INF] Executing endpoint 'Sustain.Controllers.MetersController.GetMetersForSchool (contactsapp)'
2023-10-08 15:18:51.727 +08:00 [INF] Route matched with {action = "GetMetersForSchool", controller = "Meters"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.MeterDto]]] GetMetersForSchool(Int32, System.String, System.String, Int32, Int32) on controller Sustain.Controllers.MetersController (contactsapp).
2023-10-08 15:18:51.728 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-08 15:18:51.728 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-08 15:18:51.728 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-08 15:18:51.728 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-08 15:18:51.728 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-08 15:18:51.728 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.MetersController (contactsapp)
2023-10-08 15:18:51.780 +08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-08 15:18:51.847 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.MetersController (contactsapp)
2023-10-08 15:18:51.850 +08:00 [DBG] Attempting to bind parameter 'schoolid' of type 'System.Int32' ...
2023-10-08 15:18:51.850 +08:00 [DBG] Attempting to bind parameter 'schoolid' of type 'System.Int32' using the name 'schoolid' in request data ...
2023-10-08 15:18:51.850 +08:00 [DBG] Done attempting to bind parameter 'schoolid' of type 'System.Int32'.
2023-10-08 15:18:51.850 +08:00 [DBG] Done attempting to bind parameter 'schoolid' of type 'System.Int32'.
2023-10-08 15:18:51.850 +08:00 [DBG] Attempting to validate the bound parameter 'schoolid' of type 'System.Int32' ...
2023-10-08 15:18:51.851 +08:00 [DBG] Done attempting to validate the bound parameter 'schoolid' of type 'System.Int32'.
2023-10-08 15:18:51.851 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-08 15:18:51.851 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-08 15:18:51.851 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-08 15:18:51.852 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 15:18:51.852 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 15:18:51.852 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-08 15:18:51.852 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-08 15:18:51.852 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-08 15:18:51.852 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-08 15:18:51.852 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-08 15:18:51.852 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 15:18:51.852 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 15:18:51.852 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-08 15:18:51.852 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-08 15:18:51.852 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 15:18:51.852 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-08 15:18:51.852 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 15:18:51.853 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 15:18:51.853 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 15:18:51.853 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 15:18:51.853 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 15:18:51.853 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-08 15:18:51.853 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 15:18:51.853 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 15:18:51.853 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 15:18:51.853 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-08 15:18:52.183 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-08 15:18:52.220 +08:00 [DBG] Compiling query expression: 
'DbSet<Meter>()
    .Include(m => m.MeterType)
    .Include(m => m.MeterReadings)
    .Where(meter => meter.SchoolId == __schoolId_0)
    .Count()'
2023-10-08 15:18:52.294 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Meter AS m
            WHERE m.SchoolId == @__schoolId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        Sustain.DbContexts.SustainContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-08 15:18:52.317 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 15:18:52.332 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (12ms).
2023-10-08 15:18:52.340 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:18:52.455 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:18:52.461 +08:00 [DBG] Executing DbCommand [Parameters=[@__schoolId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Meter] AS [m]
WHERE [m].[SchoolId] = @__schoolId_0
2023-10-08 15:18:52.495 +08:00 [INF] Executed DbCommand (36ms) [Parameters=[@__schoolId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Meter] AS [m]
WHERE [m].[SchoolId] = @__schoolId_0
2023-10-08 15:18:52.503 +08:00 [DBG] A data reader was disposed.
2023-10-08 15:18:52.504 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:18:52.506 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:18:52.509 +08:00 [DBG] Compiling query expression: 
'DbSet<Meter>()
    .Include(m => m.MeterType)
    .Include(m => m.MeterReadings)
    .Where(meter => meter.SchoolId == __schoolId_0)
    .OrderBy(m => m.MeterName)
    .Skip(__p_1)
    .Take(__p_2)'
2023-10-08 15:18:52.518 +08:00 [DBG] Including navigation: 'Meter.MeterType'.
2023-10-08 15:18:52.519 +08:00 [DBG] Including navigation: 'Meter.MeterReadings'.
2023-10-08 15:18:52.573 +08:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Meter>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Meter.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Meter.CreatedAt (DateTime) Required, 1], [Property: Meter.CreatedBy (string) MaxLength(50), 2], [Property: Meter.LastModifiedAt (DateTime) Required, 3], [Property: Meter.LastModifiedBy (string) MaxLength(50), 4], [Property: Meter.MeterDescription (string) MaxLength(255), 5], [Property: Meter.MeterName (string) MaxLength(255), 6], [Property: Meter.MeterTypeId (int?) FK Index, 7], [Property: Meter.SchoolId (int?) FK Index, 8], [Property: Meter.UtilityAccountNumber (string), 9], [Property: Meter.active (bool) Required, 10] }
            1 -> Dictionary<IProperty, int> { [Property: MeterType.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: MeterType.CreatedAt (DateTime) Required, 12], [Property: MeterType.CreatedBy (string) MaxLength(50), 13], [Property: MeterType.LastModifiedAt (DateTime) Required, 14], [Property: MeterType.LastModifiedBy (string) MaxLength(50), 15], [Property: MeterType.TypeUnitOfMeasure (string) MaxLength(150), 16], [Property: MeterType.active (bool) Required, 17], [Property: MeterType.effFrom (DateTime) Required, 18], [Property: MeterType.effTo (DateTime) Required, 19], [Property: MeterType.typeCode (string), 20], [Property: MeterType.typeLongDescription (string) MaxLength(150), 21], [Property: MeterType.typeShortDescription (string) MaxLength(50), 22] }
            2 -> 0
            3 -> 11
            4 -> Dictionary<IProperty, int> { [Property: MeterReading.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 23], [Property: MeterReading.CreatedAt (DateTime) Required, 24], [Property: MeterReading.CreatedBy (string) MaxLength(50), 25], [Property: MeterReading.LastModifiedAt (DateTime) Required, 26], [Property: MeterReading.LastModifiedBy (string) MaxLength(50), 27], [Property: MeterReading.MeterId (int) Required FK Index, 28], [Property: MeterReading.ReadingDatetime (DateTime) Required, 29], [Property: MeterReading.ReadingValue (double) Required, 30], [Property: MeterReading.active (bool) Required, 31] }
            5 -> 23
        SELECT t.Id, t.CreatedAt, t.CreatedBy, t.LastModifiedAt, t.LastModifiedBy, t.MeterDescription, t.MeterName, t.MeterTypeId, t.SchoolId, t.UtilityAccountNumber, t.active, m0.Id, m0.CreatedAt, m0.CreatedBy, m0.LastModifiedAt, m0.LastModifiedBy, m0.TypeUnitOfMeasure, m0.active, m0.effFrom, m0.effTo, m0.typeCode, m0.typeLongDescription, m0.typeShortDescription, m1.Id, m1.CreatedAt, m1.CreatedBy, m1.LastModifiedAt, m1.LastModifiedBy, m1.MeterId, m1.ReadingDatetime, m1.ReadingValue, m1.active
        FROM 
        (
            SELECT m.Id, m.CreatedAt, m.CreatedBy, m.LastModifiedAt, m.LastModifiedBy, m.MeterDescription, m.MeterName, m.MeterTypeId, m.SchoolId, m.UtilityAccountNumber, m.active
            FROM Meter AS m
            WHERE m.SchoolId == @__schoolId_0
            ORDER BY m.MeterName ASC
            OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
        ) AS t
        LEFT JOIN MeterType AS m0 ON t.MeterTypeId == m0.Id
        LEFT JOIN MeterReading AS m1 ON t.Id == m1.MeterId
        ORDER BY t.MeterName ASC, t.Id ASC, m0.Id ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Meter>, 
    Sustain.DbContexts.SustainContext, 
    False, 
    False, 
    True
)'
2023-10-08 15:18:52.576 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 15:18:52.576 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 15:18:52.577 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:18:52.577 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:18:52.577 +08:00 [DBG] Executing DbCommand [Parameters=[@__schoolId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MeterDescription], [t].[MeterName], [t].[MeterTypeId], [t].[SchoolId], [t].[UtilityAccountNumber], [t].[active], [m0].[Id], [m0].[CreatedAt], [m0].[CreatedBy], [m0].[LastModifiedAt], [m0].[LastModifiedBy], [m0].[TypeUnitOfMeasure], [m0].[active], [m0].[effFrom], [m0].[effTo], [m0].[typeCode], [m0].[typeLongDescription], [m0].[typeShortDescription], [m1].[Id], [m1].[CreatedAt], [m1].[CreatedBy], [m1].[LastModifiedAt], [m1].[LastModifiedBy], [m1].[MeterId], [m1].[ReadingDatetime], [m1].[ReadingValue], [m1].[active]
FROM (
    SELECT [m].[Id], [m].[CreatedAt], [m].[CreatedBy], [m].[LastModifiedAt], [m].[LastModifiedBy], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [m].[active]
    FROM [Meter] AS [m]
    WHERE [m].[SchoolId] = @__schoolId_0
    ORDER BY [m].[MeterName]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
LEFT JOIN [MeterType] AS [m0] ON [t].[MeterTypeId] = [m0].[Id]
LEFT JOIN [MeterReading] AS [m1] ON [t].[Id] = [m1].[MeterId]
ORDER BY [t].[MeterName], [t].[Id], [m0].[Id]
2023-10-08 15:18:52.601 +08:00 [INF] Executed DbCommand (24ms) [Parameters=[@__schoolId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MeterDescription], [t].[MeterName], [t].[MeterTypeId], [t].[SchoolId], [t].[UtilityAccountNumber], [t].[active], [m0].[Id], [m0].[CreatedAt], [m0].[CreatedBy], [m0].[LastModifiedAt], [m0].[LastModifiedBy], [m0].[TypeUnitOfMeasure], [m0].[active], [m0].[effFrom], [m0].[effTo], [m0].[typeCode], [m0].[typeLongDescription], [m0].[typeShortDescription], [m1].[Id], [m1].[CreatedAt], [m1].[CreatedBy], [m1].[LastModifiedAt], [m1].[LastModifiedBy], [m1].[MeterId], [m1].[ReadingDatetime], [m1].[ReadingValue], [m1].[active]
FROM (
    SELECT [m].[Id], [m].[CreatedAt], [m].[CreatedBy], [m].[LastModifiedAt], [m].[LastModifiedBy], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [m].[active]
    FROM [Meter] AS [m]
    WHERE [m].[SchoolId] = @__schoolId_0
    ORDER BY [m].[MeterName]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
LEFT JOIN [MeterType] AS [m0] ON [t].[MeterTypeId] = [m0].[Id]
LEFT JOIN [MeterReading] AS [m1] ON [t].[Id] = [m1].[MeterId]
ORDER BY [t].[MeterName], [t].[Id], [m0].[Id]
2023-10-08 15:18:52.614 +08:00 [DBG] Context 'SustainContext' started tracking 'Meter' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 15:18:52.631 +08:00 [DBG] Context 'SustainContext' started tracking 'MeterType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 15:18:52.644 +08:00 [DBG] Context 'SustainContext' started tracking 'MeterReading' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 15:18:52.650 +08:00 [DBG] A data reader was disposed.
2023-10-08 15:18:52.650 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:18:52.650 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:18:52.661 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-08 15:18:52.661 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-10-08 15:18:52.662 +08:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-10-08 15:18:52.662 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-08 15:18:52.662 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-08 15:18:52.662 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-08 15:18:52.662 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.MeterDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-08 15:18:52.715 +08:00 [INF] Executed action Sustain.Controllers.MetersController.GetMetersForSchool (contactsapp) in 984.7498ms
2023-10-08 15:18:52.715 +08:00 [INF] Executed endpoint 'Sustain.Controllers.MetersController.GetMetersForSchool (contactsapp)'
2023-10-08 15:18:52.716 +08:00 [DBG] Connection id "0HMU7PR47V33L" completed keep alive response.
2023-10-08 15:18:52.716 +08:00 [DBG] 'SustainContext' disposed.
2023-10-08 15:18:52.717 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/Meters?schoolid=5&pageNumber=1&pageSize=5 - - - 200 500 application/json;+charset=utf-8 1033.7220ms
2023-10-08 15:20:28.237 +08:00 [INF] Application is shutting down...
2023-10-08 15:20:28.238 +08:00 [DBG] Hosting stopping
2023-10-08 15:20:28.251 +08:00 [DBG] Connection id "0HMU7PR47V33L" disconnecting.
2023-10-08 15:20:28.253 +08:00 [DBG] Connection id "0HMU7PR47V33L" stopped.
2023-10-08 15:20:28.254 +08:00 [DBG] Connection id "0HMU7PR47V33L" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-08 15:20:28.257 +08:00 [DBG] Hosting stopped
2023-10-08 15:20:31.724 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-08 15:20:31.769 +08:00 [DBG] Hosting starting
2023-10-08 15:20:31.864 +08:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 94E46C593C0BE06B61505D939614C7B944816EDD)
2023-10-08 15:20:31.874 +08:00 [INF] Now listening on: https://localhost:7195
2023-10-08 15:20:31.874 +08:00 [INF] Now listening on: http://localhost:5108
2023-10-08 15:20:31.874 +08:00 [DBG] Loaded hosting startup assembly contactsapp
2023-10-08 15:20:31.874 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-08 15:20:31.875 +08:00 [INF] Hosting environment: Development
2023-10-08 15:20:31.875 +08:00 [INF] Content root path: /Users/philipwebb/Development/dotnetangular/contactsapp/
2023-10-08 15:20:31.875 +08:00 [DBG] Hosting started
2023-10-08 15:20:36.139 +08:00 [DBG] Connection id "0HMU7PS8GSVOF" accepted.
2023-10-08 15:20:36.139 +08:00 [DBG] Connection id "0HMU7PS8GSVOF" started.
2023-10-08 15:20:36.210 +08:00 [DBG] Connection 0HMU7PS8GSVOF established using the following protocol: "Tls12"
2023-10-08 15:20:36.235 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/swagger/index.html - -
2023-10-08 15:20:36.237 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-10-08 15:20:36.250 +08:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-10-08 15:20:36.251 +08:00 [DBG] Request did not match any endpoints
2023-10-08 15:20:36.315 +08:00 [DBG] Connection id "0HMU7PS8GSVOF" completed keep alive response.
2023-10-08 15:20:36.315 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/swagger/index.html - - - 200 - text/html;charset=utf-8 82.8841ms
2023-10-08 15:20:36.444 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/swagger/v1/swagger.json - -
2023-10-08 15:20:36.445 +08:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-10-08 15:20:36.445 +08:00 [DBG] Request did not match any endpoints
2023-10-08 15:20:36.507 +08:00 [DBG] Connection id "0HMU7PS8GSVOF" completed keep alive response.
2023-10-08 15:20:36.508 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 63.5588ms
2023-10-08 15:20:49.162 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/Meters?schoolid=5&pageNumber=1&pageSize=5 - -
2023-10-08 15:20:49.169 +08:00 [DBG] 1 candidate(s) found for the request path '/api/Meters'
2023-10-08 15:20:49.174 +08:00 [DBG] Endpoint 'Sustain.Controllers.MetersController.GetMetersForSchool (contactsapp)' with route pattern 'api/Meters' is valid for the request path '/api/Meters'
2023-10-08 15:20:49.175 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.MetersController.GetMetersForSchool (contactsapp)'
2023-10-08 15:20:49.180 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-08 15:20:49.183 +08:00 [INF] Executing endpoint 'Sustain.Controllers.MetersController.GetMetersForSchool (contactsapp)'
2023-10-08 15:20:49.201 +08:00 [INF] Route matched with {action = "GetMetersForSchool", controller = "Meters"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.MeterDto]]] GetMetersForSchool(Int32, System.String, System.String, Int32, Int32) on controller Sustain.Controllers.MetersController (contactsapp).
2023-10-08 15:20:49.201 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-08 15:20:49.201 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-08 15:20:49.201 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-08 15:20:49.202 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-08 15:20:49.202 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-08 15:20:49.202 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.MetersController (contactsapp)
2023-10-08 15:20:49.248 +08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-08 15:20:49.313 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.MetersController (contactsapp)
2023-10-08 15:20:49.316 +08:00 [DBG] Attempting to bind parameter 'schoolid' of type 'System.Int32' ...
2023-10-08 15:20:49.316 +08:00 [DBG] Attempting to bind parameter 'schoolid' of type 'System.Int32' using the name 'schoolid' in request data ...
2023-10-08 15:20:49.317 +08:00 [DBG] Done attempting to bind parameter 'schoolid' of type 'System.Int32'.
2023-10-08 15:20:49.317 +08:00 [DBG] Done attempting to bind parameter 'schoolid' of type 'System.Int32'.
2023-10-08 15:20:49.317 +08:00 [DBG] Attempting to validate the bound parameter 'schoolid' of type 'System.Int32' ...
2023-10-08 15:20:49.317 +08:00 [DBG] Done attempting to validate the bound parameter 'schoolid' of type 'System.Int32'.
2023-10-08 15:20:49.317 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-08 15:20:49.317 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-08 15:20:49.318 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-08 15:20:49.318 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 15:20:49.318 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-08 15:20:49.318 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-08 15:20:49.318 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-08 15:20:49.318 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-08 15:20:49.318 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-08 15:20:49.318 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-08 15:20:49.318 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 15:20:49.318 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-08 15:20:49.318 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-08 15:20:49.318 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-08 15:20:49.318 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 15:20:49.318 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-08 15:20:49.318 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 15:20:49.318 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 15:20:49.318 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-08 15:20:49.319 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-08 15:20:49.319 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 15:20:49.319 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-08 15:20:49.319 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 15:20:49.319 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-08 15:20:49.319 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-08 15:20:49.319 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-08 15:20:49.637 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-08 15:20:49.671 +08:00 [DBG] Compiling query expression: 
'DbSet<Meter>()
    .Include(m => m.MeterType)
    .Include(m => m.MeterReadings)
    .Where(meter => meter.SchoolId == __schoolId_0)
    .Count()'
2023-10-08 15:20:49.747 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Meter AS m
            WHERE m.SchoolId == @__schoolId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        Sustain.DbContexts.SustainContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-08 15:20:49.770 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 15:20:49.782 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (10ms).
2023-10-08 15:20:49.790 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:20:49.906 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:20:49.912 +08:00 [DBG] Executing DbCommand [Parameters=[@__schoolId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Meter] AS [m]
WHERE [m].[SchoolId] = @__schoolId_0
2023-10-08 15:20:49.940 +08:00 [INF] Executed DbCommand (30ms) [Parameters=[@__schoolId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Meter] AS [m]
WHERE [m].[SchoolId] = @__schoolId_0
2023-10-08 15:20:49.949 +08:00 [DBG] A data reader was disposed.
2023-10-08 15:20:49.950 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:20:49.952 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:20:49.954 +08:00 [DBG] Compiling query expression: 
'DbSet<Meter>()
    .Include(m => m.MeterType)
    .Include(m => m.MeterReadings)
    .Where(meter => meter.SchoolId == __schoolId_0)
    .OrderBy(m => m.MeterName)
    .Skip(__p_1)
    .Take(__p_2)'
2023-10-08 15:20:49.963 +08:00 [DBG] Including navigation: 'Meter.MeterType'.
2023-10-08 15:20:49.963 +08:00 [DBG] Including navigation: 'Meter.MeterReadings'.
2023-10-08 15:20:50.016 +08:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Meter>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Meter.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Meter.CreatedAt (DateTime) Required, 1], [Property: Meter.CreatedBy (string) MaxLength(50), 2], [Property: Meter.LastModifiedAt (DateTime) Required, 3], [Property: Meter.LastModifiedBy (string) MaxLength(50), 4], [Property: Meter.MeterDescription (string) MaxLength(255), 5], [Property: Meter.MeterName (string) MaxLength(255), 6], [Property: Meter.MeterTypeId (int?) FK Index, 7], [Property: Meter.SchoolId (int?) FK Index, 8], [Property: Meter.UtilityAccountNumber (string), 9], [Property: Meter.active (bool) Required, 10] }
            1 -> Dictionary<IProperty, int> { [Property: MeterType.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: MeterType.CreatedAt (DateTime) Required, 12], [Property: MeterType.CreatedBy (string) MaxLength(50), 13], [Property: MeterType.LastModifiedAt (DateTime) Required, 14], [Property: MeterType.LastModifiedBy (string) MaxLength(50), 15], [Property: MeterType.TypeUnitOfMeasure (string) MaxLength(150), 16], [Property: MeterType.active (bool) Required, 17], [Property: MeterType.effFrom (DateTime) Required, 18], [Property: MeterType.effTo (DateTime) Required, 19], [Property: MeterType.typeCode (string), 20], [Property: MeterType.typeLongDescription (string) MaxLength(150), 21], [Property: MeterType.typeShortDescription (string) MaxLength(50), 22] }
            2 -> 0
            3 -> 11
            4 -> Dictionary<IProperty, int> { [Property: MeterReading.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 23], [Property: MeterReading.CreatedAt (DateTime) Required, 24], [Property: MeterReading.CreatedBy (string) MaxLength(50), 25], [Property: MeterReading.LastModifiedAt (DateTime) Required, 26], [Property: MeterReading.LastModifiedBy (string) MaxLength(50), 27], [Property: MeterReading.MeterId (int) Required FK Index, 28], [Property: MeterReading.ReadingDatetime (DateTime) Required, 29], [Property: MeterReading.ReadingValue (double) Required, 30], [Property: MeterReading.active (bool) Required, 31] }
            5 -> 23
        SELECT t.Id, t.CreatedAt, t.CreatedBy, t.LastModifiedAt, t.LastModifiedBy, t.MeterDescription, t.MeterName, t.MeterTypeId, t.SchoolId, t.UtilityAccountNumber, t.active, m0.Id, m0.CreatedAt, m0.CreatedBy, m0.LastModifiedAt, m0.LastModifiedBy, m0.TypeUnitOfMeasure, m0.active, m0.effFrom, m0.effTo, m0.typeCode, m0.typeLongDescription, m0.typeShortDescription, m1.Id, m1.CreatedAt, m1.CreatedBy, m1.LastModifiedAt, m1.LastModifiedBy, m1.MeterId, m1.ReadingDatetime, m1.ReadingValue, m1.active
        FROM 
        (
            SELECT m.Id, m.CreatedAt, m.CreatedBy, m.LastModifiedAt, m.LastModifiedBy, m.MeterDescription, m.MeterName, m.MeterTypeId, m.SchoolId, m.UtilityAccountNumber, m.active
            FROM Meter AS m
            WHERE m.SchoolId == @__schoolId_0
            ORDER BY m.MeterName ASC
            OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
        ) AS t
        LEFT JOIN MeterType AS m0 ON t.MeterTypeId == m0.Id
        LEFT JOIN MeterReading AS m1 ON t.Id == m1.MeterId
        ORDER BY t.MeterName ASC, t.Id ASC, m0.Id ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Meter>, 
    Sustain.DbContexts.SustainContext, 
    False, 
    False, 
    True
)'
2023-10-08 15:20:50.020 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-08 15:20:50.020 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-08 15:20:50.020 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:20:50.020 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:20:50.020 +08:00 [DBG] Executing DbCommand [Parameters=[@__schoolId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MeterDescription], [t].[MeterName], [t].[MeterTypeId], [t].[SchoolId], [t].[UtilityAccountNumber], [t].[active], [m0].[Id], [m0].[CreatedAt], [m0].[CreatedBy], [m0].[LastModifiedAt], [m0].[LastModifiedBy], [m0].[TypeUnitOfMeasure], [m0].[active], [m0].[effFrom], [m0].[effTo], [m0].[typeCode], [m0].[typeLongDescription], [m0].[typeShortDescription], [m1].[Id], [m1].[CreatedAt], [m1].[CreatedBy], [m1].[LastModifiedAt], [m1].[LastModifiedBy], [m1].[MeterId], [m1].[ReadingDatetime], [m1].[ReadingValue], [m1].[active]
FROM (
    SELECT [m].[Id], [m].[CreatedAt], [m].[CreatedBy], [m].[LastModifiedAt], [m].[LastModifiedBy], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [m].[active]
    FROM [Meter] AS [m]
    WHERE [m].[SchoolId] = @__schoolId_0
    ORDER BY [m].[MeterName]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
LEFT JOIN [MeterType] AS [m0] ON [t].[MeterTypeId] = [m0].[Id]
LEFT JOIN [MeterReading] AS [m1] ON [t].[Id] = [m1].[MeterId]
ORDER BY [t].[MeterName], [t].[Id], [m0].[Id]
2023-10-08 15:20:50.025 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__schoolId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MeterDescription], [t].[MeterName], [t].[MeterTypeId], [t].[SchoolId], [t].[UtilityAccountNumber], [t].[active], [m0].[Id], [m0].[CreatedAt], [m0].[CreatedBy], [m0].[LastModifiedAt], [m0].[LastModifiedBy], [m0].[TypeUnitOfMeasure], [m0].[active], [m0].[effFrom], [m0].[effTo], [m0].[typeCode], [m0].[typeLongDescription], [m0].[typeShortDescription], [m1].[Id], [m1].[CreatedAt], [m1].[CreatedBy], [m1].[LastModifiedAt], [m1].[LastModifiedBy], [m1].[MeterId], [m1].[ReadingDatetime], [m1].[ReadingValue], [m1].[active]
FROM (
    SELECT [m].[Id], [m].[CreatedAt], [m].[CreatedBy], [m].[LastModifiedAt], [m].[LastModifiedBy], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [m].[active]
    FROM [Meter] AS [m]
    WHERE [m].[SchoolId] = @__schoolId_0
    ORDER BY [m].[MeterName]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
LEFT JOIN [MeterType] AS [m0] ON [t].[MeterTypeId] = [m0].[Id]
LEFT JOIN [MeterReading] AS [m1] ON [t].[Id] = [m1].[MeterId]
ORDER BY [t].[MeterName], [t].[Id], [m0].[Id]
2023-10-08 15:20:50.036 +08:00 [DBG] Context 'SustainContext' started tracking 'Meter' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 15:20:50.053 +08:00 [DBG] Context 'SustainContext' started tracking 'MeterType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 15:20:50.066 +08:00 [DBG] Context 'SustainContext' started tracking 'MeterReading' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-08 15:20:50.072 +08:00 [DBG] A data reader was disposed.
2023-10-08 15:20:50.072 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:20:50.072 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-08 15:20:50.082 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-08 15:20:50.083 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-10-08 15:20:50.084 +08:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-10-08 15:20:50.084 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-08 15:20:50.084 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-08 15:20:50.084 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-08 15:20:50.084 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.MeterDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-08 15:20:50.132 +08:00 [INF] Executed action Sustain.Controllers.MetersController.GetMetersForSchool (contactsapp) in 928.1299ms
2023-10-08 15:20:50.132 +08:00 [INF] Executed endpoint 'Sustain.Controllers.MetersController.GetMetersForSchool (contactsapp)'
2023-10-08 15:20:50.132 +08:00 [DBG] Connection id "0HMU7PS8GSVOF" completed keep alive response.
2023-10-08 15:20:50.133 +08:00 [DBG] 'SustainContext' disposed.
2023-10-08 15:20:50.134 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/Meters?schoolid=5&pageNumber=1&pageSize=5 - - - 200 495 application/json;+charset=utf-8 972.0545ms
2023-10-08 15:23:00.931 +08:00 [DBG] Connection id "0HMU7PS8GSVOF" disconnecting.
2023-10-08 15:23:00.935 +08:00 [DBG] Connection id "0HMU7PS8GSVOF" stopped.
2023-10-08 15:23:00.936 +08:00 [DBG] Connection id "0HMU7PS8GSVOF" sending FIN because: "The Socket transport's send loop completed gracefully."
