2023-10-02 14:44:43.874 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-02 14:44:43.923 +08:00 [DBG] Hosting starting
2023-10-02 14:44:44.000 +08:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 94E46C593C0BE06B61505D939614C7B944816EDD)
2023-10-02 14:44:44.010 +08:00 [INF] Now listening on: https://localhost:7195
2023-10-02 14:44:44.010 +08:00 [INF] Now listening on: http://localhost:5108
2023-10-02 14:44:44.010 +08:00 [DBG] Loaded hosting startup assembly contactsapp
2023-10-02 14:44:44.010 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-02 14:44:44.010 +08:00 [INF] Hosting environment: Development
2023-10-02 14:44:44.010 +08:00 [INF] Content root path: /Users/philipwebb/Development/dotnetangular/contactsapp/
2023-10-02 14:44:44.010 +08:00 [DBG] Hosting started
2023-10-02 14:45:04.644 +08:00 [DBG] Connection id "0HMU32CE1NBC9" accepted.
2023-10-02 14:45:04.644 +08:00 [DBG] Connection id "0HMU32CE1NBC9" started.
2023-10-02 14:45:04.718 +08:00 [DBG] Connection 0HMU32CE1NBC9 established using the following protocol: "Tls12"
2023-10-02 14:45:04.736 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - -
2023-10-02 14:45:04.738 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-10-02 14:45:04.750 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-02 14:45:04.751 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-02 14:45:04.752 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:45:04.753 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-02 14:45:04.753 +08:00 [INF] CORS policy execution successful.
2023-10-02 14:45:04.769 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-02 14:45:04.770 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:45:04.783 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-02 14:45:04.783 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-02 14:45:04.783 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-02 14:45:04.783 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-02 14:45:04.783 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-02 14:45:04.783 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-02 14:45:04.783 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 14:45:04.844 +08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-02 14:45:04.918 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 14:45:04.921 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-02 14:45:04.922 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-02 14:45:04.922 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-02 14:45:04.922 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 14:45:04.922 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 14:45:04.922 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-02 14:45:04.923 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-02 14:45:04.923 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-02 14:45:04.923 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-02 14:45:04.924 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:45:04.924 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:45:04.924 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:45:04.924 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-02 14:45:04.924 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:45:04.924 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 14:45:04.924 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-02 14:45:04.924 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:45:04.924 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:45:04.924 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 14:45:04.925 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:45:04.925 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 14:45:04.925 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-02 14:45:04.925 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:45:04.925 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:45:04.925 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 14:45:04.925 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:45:05.255 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-02 14:45:05.290 +08:00 [DBG] Compiling query expression: 
'DbSet<School>()
    .Include(s => s.Meters)
    .Include(s => s.SchoolType)
    .Count()'
2023-10-02 14:45:05.353 +08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM School AS s), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        Sustain.DbContexts.SustainContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-02 14:45:05.371 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 14:45:05.387 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (14ms).
2023-10-02 14:45:05.389 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:05.552 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:05.556 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 14:45:05.582 +08:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 14:45:05.589 +08:00 [DBG] A data reader was disposed.
2023-10-02 14:45:05.591 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:05.593 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:05.596 +08:00 [DBG] Compiling query expression: 
'DbSet<School>()
    .Include(s => s.Meters)
    .Include(s => s.SchoolType)
    .OrderBy(s => s.SchoolName)
    .Skip(__p_0)
    .Take(__p_1)'
2023-10-02 14:45:05.604 +08:00 [DBG] Including navigation: 'School.Meters'.
2023-10-02 14:45:05.607 +08:00 [DBG] Including navigation: 'School.SchoolType'.
2023-10-02 14:45:05.669 +08:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<School>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: School.SchoolId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: School.SchoolLocation (string) MaxLength(100), 1], [Property: School.SchoolName (string) MaxLength(100), 2], [Property: School.SchoolTypeId (int?) FK Index, 3] }
            1 -> 0
            2 -> 4
            3 -> Dictionary<IProperty, int> { [Property: Meter.MeterId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Meter.MeterDescription (string) MaxLength(255), 6], [Property: Meter.MeterName (string) MaxLength(255), 7], [Property: Meter.MeterTypeId (int?) FK Index, 8], [Property: Meter.SchoolId (int?) FK Index, 9], [Property: Meter.UtilityAccountNumber (string), 10] }
            4 -> 5
            5 -> Dictionary<IProperty, int> { [Property: SchoolType.SchoolTypeId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: SchoolType.TypeLongDescription (string) MaxLength(50), 11], [Property: SchoolType.TypeShortDescription (string) Required MaxLength(255), 12] }
        SELECT t.SchoolId, t.SchoolLocation, t.SchoolName, t.SchoolTypeId, s0.SchoolTypeId, m.MeterId, m.MeterDescription, m.MeterName, m.MeterTypeId, m.SchoolId, m.UtilityAccountNumber, s0.TypeLongDescription, s0.TypeShortDescription
        FROM 
        (
            SELECT s.SchoolId, s.SchoolLocation, s.SchoolName, s.SchoolTypeId
            FROM School AS s
            ORDER BY s.SchoolName ASC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t
        LEFT JOIN SchoolType AS s0 ON t.SchoolTypeId == s0.SchoolTypeId
        LEFT JOIN Meter AS m ON t.SchoolId == m.SchoolId
        ORDER BY t.SchoolName ASC, t.SchoolId ASC, s0.SchoolTypeId ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, School>, 
    Sustain.DbContexts.SustainContext, 
    False, 
    False, 
    True
)'
2023-10-02 14:45:05.674 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 14:45:05.674 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 14:45:05.676 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:05.676 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:05.678 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 14:45:05.712 +08:00 [INF] Executed DbCommand (35ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 14:45:05.723 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:05.736 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:05.744 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:05.744 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:05.744 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:05.744 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:05.745 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:05.746 +08:00 [DBG] A data reader was disposed.
2023-10-02 14:45:05.746 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:05.746 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:05.759 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-02 14:45:05.760 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-02 14:45:05.760 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-02 14:45:05.760 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-02 14:45:05.818 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 1032.0147ms
2023-10-02 14:45:05.818 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:45:05.819 +08:00 [DBG] Connection id "0HMU32CE1NBC9" completed keep alive response.
2023-10-02 14:45:05.820 +08:00 [DBG] 'SustainContext' disposed.
2023-10-02 14:45:05.821 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - - - 200 1127 text/json;+charset=utf-8 1087.6885ms
2023-10-02 14:45:29.415 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - -
2023-10-02 14:45:29.417 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-02 14:45:29.417 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-02 14:45:29.418 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:45:29.418 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-02 14:45:29.418 +08:00 [INF] CORS policy execution successful.
2023-10-02 14:45:29.418 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-02 14:45:29.419 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:45:29.419 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-02 14:45:29.420 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-02 14:45:29.420 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-02 14:45:29.420 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-02 14:45:29.420 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-02 14:45:29.420 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-02 14:45:29.420 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 14:45:29.421 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 14:45:29.422 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-02 14:45:29.422 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-02 14:45:29.422 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-02 14:45:29.422 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 14:45:29.422 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 14:45:29.422 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-02 14:45:29.422 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-02 14:45:29.422 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-02 14:45:29.423 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-02 14:45:29.423 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:45:29.423 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:45:29.423 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:45:29.423 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-02 14:45:29.423 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:45:29.423 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 14:45:29.423 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-02 14:45:29.423 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:45:29.423 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:45:29.423 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 14:45:29.424 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:45:29.424 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 14:45:29.424 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-02 14:45:29.424 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:45:29.424 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:45:29.424 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 14:45:29.424 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:45:29.428 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-02 14:45:29.432 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 14:45:29.433 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 14:45:29.433 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:29.433 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:29.433 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 14:45:29.437 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 14:45:29.438 +08:00 [DBG] A data reader was disposed.
2023-10-02 14:45:29.438 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:29.438 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:29.439 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 14:45:29.439 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 14:45:29.439 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:29.440 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:29.440 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 14:45:29.444 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 14:45:29.445 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:29.445 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:29.445 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:29.446 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:29.446 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:29.447 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:29.447 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:29.447 +08:00 [DBG] A data reader was disposed.
2023-10-02 14:45:29.447 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:29.448 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:29.449 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-02 14:45:29.449 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-02 14:45:29.449 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-02 14:45:29.449 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-02 14:45:29.450 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 29.8676ms
2023-10-02 14:45:29.450 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:45:29.450 +08:00 [DBG] Connection id "0HMU32CE1NBC9" completed keep alive response.
2023-10-02 14:45:29.451 +08:00 [DBG] 'SustainContext' disposed.
2023-10-02 14:45:29.451 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - - - 200 1127 text/json;+charset=utf-8 35.5468ms
2023-10-02 14:45:30.475 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - -
2023-10-02 14:45:30.475 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-02 14:45:30.475 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-02 14:45:30.475 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:45:30.476 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-02 14:45:30.476 +08:00 [INF] CORS policy execution successful.
2023-10-02 14:45:30.476 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-02 14:45:30.476 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:45:30.476 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-02 14:45:30.477 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-02 14:45:30.477 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-02 14:45:30.477 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-02 14:45:30.477 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-02 14:45:30.477 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-02 14:45:30.477 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 14:45:30.479 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 14:45:30.479 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-02 14:45:30.479 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-02 14:45:30.479 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-02 14:45:30.479 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 14:45:30.479 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 14:45:30.479 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-02 14:45:30.479 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-02 14:45:30.479 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-02 14:45:30.480 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-02 14:45:30.480 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:45:30.480 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:45:30.480 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:45:30.480 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-02 14:45:30.480 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:45:30.480 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 14:45:30.480 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-02 14:45:30.480 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:45:30.481 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:45:30.481 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 14:45:30.481 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:45:30.481 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 14:45:30.481 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-02 14:45:30.481 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:45:30.481 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:45:30.481 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 14:45:30.481 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:45:30.507 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-02 14:45:30.508 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 14:45:30.508 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 14:45:30.508 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:30.508 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:30.508 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 14:45:30.511 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 14:45:30.511 +08:00 [DBG] A data reader was disposed.
2023-10-02 14:45:30.511 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:30.511 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:30.511 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 14:45:30.511 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 14:45:30.511 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:30.511 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:30.511 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 14:45:30.513 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 14:45:30.513 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:30.514 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:30.514 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:30.514 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:30.514 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:30.514 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:30.514 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:30.514 +08:00 [DBG] A data reader was disposed.
2023-10-02 14:45:30.514 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:30.514 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:30.514 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-02 14:45:30.514 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-02 14:45:30.514 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-02 14:45:30.514 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-02 14:45:30.514 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 37.4771ms
2023-10-02 14:45:30.515 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:45:30.515 +08:00 [DBG] Connection id "0HMU32CE1NBC9" completed keep alive response.
2023-10-02 14:45:30.515 +08:00 [DBG] 'SustainContext' disposed.
2023-10-02 14:45:30.515 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - - - 200 1127 text/json;+charset=utf-8 39.6677ms
2023-10-02 14:45:31.175 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - -
2023-10-02 14:45:31.176 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-02 14:45:31.176 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-02 14:45:31.176 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:45:31.176 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-02 14:45:31.176 +08:00 [INF] CORS policy execution successful.
2023-10-02 14:45:31.176 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-02 14:45:31.176 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:45:31.176 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-02 14:45:31.177 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-02 14:45:31.177 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-02 14:45:31.177 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-02 14:45:31.177 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-02 14:45:31.177 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-02 14:45:31.177 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 14:45:31.177 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 14:45:31.178 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-02 14:45:31.178 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-02 14:45:31.178 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-02 14:45:31.178 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 14:45:31.178 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 14:45:31.178 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-02 14:45:31.178 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-02 14:45:31.178 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-02 14:45:31.178 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-02 14:45:31.178 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:45:31.178 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:45:31.179 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:45:31.179 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-02 14:45:31.179 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:45:31.179 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 14:45:31.179 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-02 14:45:31.179 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:45:31.179 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:45:31.179 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 14:45:31.180 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:45:31.180 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 14:45:31.180 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-02 14:45:31.180 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:45:31.180 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:45:31.180 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 14:45:31.180 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:45:31.181 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-02 14:45:31.182 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 14:45:31.182 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 14:45:31.182 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:31.183 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:31.183 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 14:45:31.186 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 14:45:31.186 +08:00 [DBG] A data reader was disposed.
2023-10-02 14:45:31.186 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:31.187 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:31.187 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 14:45:31.187 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 14:45:31.187 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:31.188 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:31.188 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 14:45:31.190 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 14:45:31.190 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:31.190 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:31.191 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:31.191 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:31.191 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:31.191 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:31.191 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:31.191 +08:00 [DBG] A data reader was disposed.
2023-10-02 14:45:31.191 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:31.191 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:31.192 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-02 14:45:31.192 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-02 14:45:31.192 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-02 14:45:31.192 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-02 14:45:31.193 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 15.8236ms
2023-10-02 14:45:31.196 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:45:31.196 +08:00 [DBG] Connection id "0HMU32CE1NBC9" completed keep alive response.
2023-10-02 14:45:31.196 +08:00 [DBG] 'SustainContext' disposed.
2023-10-02 14:45:31.196 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - - - 200 1127 text/json;+charset=utf-8 20.5877ms
2023-10-02 14:45:31.560 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - -
2023-10-02 14:45:31.560 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-02 14:45:31.561 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-02 14:45:31.561 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:45:31.561 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-02 14:45:31.561 +08:00 [INF] CORS policy execution successful.
2023-10-02 14:45:31.561 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-02 14:45:31.561 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:45:31.561 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-02 14:45:31.562 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-02 14:45:31.562 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-02 14:45:31.562 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-02 14:45:31.562 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-02 14:45:31.562 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-02 14:45:31.562 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 14:45:31.563 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 14:45:31.563 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-02 14:45:31.563 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-02 14:45:31.563 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-02 14:45:31.563 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 14:45:31.563 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 14:45:31.564 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-02 14:45:31.564 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-02 14:45:31.564 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-02 14:45:31.564 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-02 14:45:31.564 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:45:31.564 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:45:31.564 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:45:31.564 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-02 14:45:31.564 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:45:31.564 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 14:45:31.565 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-02 14:45:31.565 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:45:31.565 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:45:31.565 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 14:45:31.565 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:45:31.565 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 14:45:31.565 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-02 14:45:31.566 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:45:31.566 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:45:31.566 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 14:45:31.568 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:45:31.569 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-02 14:45:31.570 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 14:45:31.570 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 14:45:31.570 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:31.570 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:31.571 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 14:45:31.575 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 14:45:31.575 +08:00 [DBG] A data reader was disposed.
2023-10-02 14:45:31.575 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:31.575 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:31.576 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 14:45:31.576 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 14:45:31.576 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:31.576 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:31.576 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 14:45:31.581 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 14:45:31.582 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:31.582 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:31.583 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:31.583 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:31.583 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:31.583 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:31.584 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:31.584 +08:00 [DBG] A data reader was disposed.
2023-10-02 14:45:31.584 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:31.584 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:31.585 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-02 14:45:31.585 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-02 14:45:31.585 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-02 14:45:31.585 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-02 14:45:31.585 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 23.2195ms
2023-10-02 14:45:31.586 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:45:31.586 +08:00 [DBG] Connection id "0HMU32CE1NBC9" completed keep alive response.
2023-10-02 14:45:31.586 +08:00 [DBG] 'SustainContext' disposed.
2023-10-02 14:45:31.586 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - - - 200 1127 text/json;+charset=utf-8 25.8841ms
2023-10-02 14:45:31.776 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - -
2023-10-02 14:45:31.777 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-02 14:45:31.777 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-02 14:45:31.777 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:45:31.777 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-02 14:45:31.777 +08:00 [INF] CORS policy execution successful.
2023-10-02 14:45:31.777 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-02 14:45:31.777 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:45:31.777 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-02 14:45:31.778 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-02 14:45:31.778 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-02 14:45:31.778 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-02 14:45:31.778 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-02 14:45:31.778 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-02 14:45:31.778 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 14:45:31.779 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 14:45:31.779 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-02 14:45:31.779 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-02 14:45:31.779 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-02 14:45:31.779 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 14:45:31.779 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 14:45:31.779 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-02 14:45:31.780 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-02 14:45:31.780 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-02 14:45:31.780 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-02 14:45:31.780 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:45:31.780 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:45:31.780 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:45:31.780 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-02 14:45:31.780 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:45:31.780 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 14:45:31.781 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-02 14:45:31.781 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:45:31.781 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:45:31.781 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 14:45:31.781 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:45:31.781 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 14:45:31.781 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-02 14:45:31.781 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:45:31.782 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:45:31.782 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 14:45:31.782 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:45:31.784 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-02 14:45:31.785 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 14:45:31.785 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 14:45:31.786 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:31.786 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:31.787 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 14:45:31.790 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 14:45:31.791 +08:00 [DBG] A data reader was disposed.
2023-10-02 14:45:31.791 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:31.791 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:31.792 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 14:45:31.792 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 14:45:31.792 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:31.792 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:31.792 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 14:45:31.797 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 14:45:31.798 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:31.798 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:31.798 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:31.798 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:31.798 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:31.798 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:31.799 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:31.799 +08:00 [DBG] A data reader was disposed.
2023-10-02 14:45:31.799 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:31.799 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:31.800 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-02 14:45:31.800 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-02 14:45:31.800 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-02 14:45:31.800 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-02 14:45:31.800 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 22.1853ms
2023-10-02 14:45:31.800 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:45:31.801 +08:00 [DBG] Connection id "0HMU32CE1NBC9" completed keep alive response.
2023-10-02 14:45:31.801 +08:00 [DBG] 'SustainContext' disposed.
2023-10-02 14:45:31.801 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - - - 200 1127 text/json;+charset=utf-8 24.5311ms
2023-10-02 14:45:32.042 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - -
2023-10-02 14:45:32.042 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-02 14:45:32.042 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-02 14:45:32.042 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:45:32.043 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-02 14:45:32.043 +08:00 [INF] CORS policy execution successful.
2023-10-02 14:45:32.043 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-02 14:45:32.043 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:45:32.043 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-02 14:45:32.043 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-02 14:45:32.043 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-02 14:45:32.043 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-02 14:45:32.044 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-02 14:45:32.044 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-02 14:45:32.044 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 14:45:32.044 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 14:45:32.044 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-02 14:45:32.045 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-02 14:45:32.045 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-02 14:45:32.045 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 14:45:32.045 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 14:45:32.045 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-02 14:45:32.045 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-02 14:45:32.045 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-02 14:45:32.045 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-02 14:45:32.045 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:45:32.046 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:45:32.046 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:45:32.046 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-02 14:45:32.046 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:45:32.046 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 14:45:32.047 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-02 14:45:32.047 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:45:32.047 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:45:32.048 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 14:45:32.048 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:45:32.048 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 14:45:32.049 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-02 14:45:32.049 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:45:32.050 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:45:32.051 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 14:45:32.051 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:45:32.053 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-02 14:45:32.054 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 14:45:32.054 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 14:45:32.054 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:32.055 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:32.055 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 14:45:32.058 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 14:45:32.059 +08:00 [DBG] A data reader was disposed.
2023-10-02 14:45:32.059 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:32.059 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:32.060 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 14:45:32.060 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 14:45:32.061 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:32.061 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:32.061 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 14:45:32.065 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 14:45:32.066 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:32.066 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:32.066 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:32.067 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:32.067 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:32.068 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:32.068 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:32.068 +08:00 [DBG] A data reader was disposed.
2023-10-02 14:45:32.069 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:32.069 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:32.069 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-02 14:45:32.070 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-02 14:45:32.070 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-02 14:45:32.070 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-02 14:45:32.071 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 26.9696ms
2023-10-02 14:45:32.071 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:45:32.071 +08:00 [DBG] Connection id "0HMU32CE1NBC9" completed keep alive response.
2023-10-02 14:45:32.071 +08:00 [DBG] 'SustainContext' disposed.
2023-10-02 14:45:32.074 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - - - 200 1127 text/json;+charset=utf-8 31.7500ms
2023-10-02 14:45:32.259 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - -
2023-10-02 14:45:32.259 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-02 14:45:32.259 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-02 14:45:32.259 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:45:32.259 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-02 14:45:32.259 +08:00 [INF] CORS policy execution successful.
2023-10-02 14:45:32.259 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-02 14:45:32.260 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:45:32.260 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-02 14:45:32.260 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-02 14:45:32.260 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-02 14:45:32.260 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-02 14:45:32.260 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-02 14:45:32.260 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-02 14:45:32.260 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 14:45:32.261 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 14:45:32.261 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-02 14:45:32.261 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-02 14:45:32.261 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-02 14:45:32.261 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 14:45:32.261 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 14:45:32.261 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-02 14:45:32.261 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-02 14:45:32.262 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-02 14:45:32.262 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-02 14:45:32.262 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:45:32.262 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:45:32.262 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:45:32.262 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-02 14:45:32.262 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:45:32.262 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 14:45:32.262 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-02 14:45:32.262 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:45:32.262 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:45:32.263 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 14:45:32.263 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:45:32.263 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 14:45:32.263 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-02 14:45:32.263 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:45:32.263 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:45:32.263 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 14:45:32.263 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:45:32.265 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-02 14:45:32.266 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 14:45:32.266 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 14:45:32.266 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:32.267 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:32.267 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 14:45:32.271 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 14:45:32.271 +08:00 [DBG] A data reader was disposed.
2023-10-02 14:45:32.271 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:32.271 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:32.272 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 14:45:32.272 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 14:45:32.272 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:32.272 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:32.273 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 14:45:32.276 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 14:45:32.277 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:32.277 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:32.277 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:32.277 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:32.277 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:32.278 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:32.278 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:32.278 +08:00 [DBG] A data reader was disposed.
2023-10-02 14:45:32.278 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:32.278 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:32.279 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-02 14:45:32.279 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-02 14:45:32.279 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-02 14:45:32.279 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-02 14:45:32.279 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 19.0906ms
2023-10-02 14:45:32.280 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:45:32.280 +08:00 [DBG] Connection id "0HMU32CE1NBC9" completed keep alive response.
2023-10-02 14:45:32.280 +08:00 [DBG] 'SustainContext' disposed.
2023-10-02 14:45:32.280 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - - - 200 1127 text/json;+charset=utf-8 21.2173ms
2023-10-02 14:45:32.492 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - -
2023-10-02 14:45:32.492 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-02 14:45:32.492 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-02 14:45:32.492 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:45:32.493 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-02 14:45:32.493 +08:00 [INF] CORS policy execution successful.
2023-10-02 14:45:32.493 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-02 14:45:32.493 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:45:32.493 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-02 14:45:32.493 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-02 14:45:32.493 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-02 14:45:32.493 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-02 14:45:32.493 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-02 14:45:32.493 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-02 14:45:32.494 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 14:45:32.494 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 14:45:32.494 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-02 14:45:32.494 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-02 14:45:32.494 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-02 14:45:32.494 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 14:45:32.494 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 14:45:32.494 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-02 14:45:32.495 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-02 14:45:32.495 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-02 14:45:32.495 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-02 14:45:32.495 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:45:32.495 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:45:32.495 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:45:32.495 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-02 14:45:32.495 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:45:32.495 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 14:45:32.495 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-02 14:45:32.496 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:45:32.496 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:45:32.496 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 14:45:32.496 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:45:32.496 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 14:45:32.496 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-02 14:45:32.496 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:45:32.496 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:45:32.496 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 14:45:32.496 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:45:32.498 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-02 14:45:32.498 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 14:45:32.499 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 14:45:32.499 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:32.500 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:32.501 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 14:45:32.505 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 14:45:32.505 +08:00 [DBG] A data reader was disposed.
2023-10-02 14:45:32.505 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:32.505 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:32.506 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 14:45:32.506 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 14:45:32.506 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:32.506 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:32.506 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 14:45:32.510 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 14:45:32.512 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:32.512 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:32.512 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:32.512 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:32.512 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:32.512 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:32.512 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:32.512 +08:00 [DBG] A data reader was disposed.
2023-10-02 14:45:32.512 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:32.513 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:32.513 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-02 14:45:32.513 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-02 14:45:32.513 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-02 14:45:32.513 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-02 14:45:32.514 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 20.1848ms
2023-10-02 14:45:32.514 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:45:32.514 +08:00 [DBG] Connection id "0HMU32CE1NBC9" completed keep alive response.
2023-10-02 14:45:32.514 +08:00 [DBG] 'SustainContext' disposed.
2023-10-02 14:45:32.514 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - - - 200 1127 text/json;+charset=utf-8 22.1819ms
2023-10-02 14:45:32.742 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - -
2023-10-02 14:45:32.742 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-02 14:45:32.742 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-02 14:45:32.743 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:45:32.743 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-02 14:45:32.743 +08:00 [INF] CORS policy execution successful.
2023-10-02 14:45:32.743 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-02 14:45:32.743 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:45:32.743 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-02 14:45:32.743 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-02 14:45:32.744 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-02 14:45:32.744 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-02 14:45:32.744 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-02 14:45:32.744 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-02 14:45:32.744 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 14:45:32.745 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 14:45:32.745 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-02 14:45:32.745 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-02 14:45:32.745 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-02 14:45:32.745 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 14:45:32.745 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 14:45:32.745 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-02 14:45:32.746 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-02 14:45:32.746 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-02 14:45:32.746 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-02 14:45:32.746 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:45:32.746 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:45:32.746 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:45:32.746 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-02 14:45:32.746 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:45:32.747 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 14:45:32.747 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-02 14:45:32.748 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:45:32.748 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:45:32.748 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 14:45:32.748 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:45:32.748 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 14:45:32.748 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-02 14:45:32.748 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:45:32.749 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:45:32.749 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 14:45:32.749 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:45:32.750 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-02 14:45:32.750 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 14:45:32.750 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 14:45:32.750 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:32.750 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:32.751 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 14:45:32.754 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 14:45:32.754 +08:00 [DBG] A data reader was disposed.
2023-10-02 14:45:32.754 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:32.754 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:32.755 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 14:45:32.755 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 14:45:32.755 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:32.755 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:32.755 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 14:45:32.758 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 14:45:32.759 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:32.759 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:32.759 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:32.759 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:32.760 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:32.760 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:32.760 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:32.760 +08:00 [DBG] A data reader was disposed.
2023-10-02 14:45:32.760 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:32.760 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:32.760 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-02 14:45:32.760 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-02 14:45:32.761 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-02 14:45:32.761 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-02 14:45:32.761 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 16.8937ms
2023-10-02 14:45:32.761 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:45:32.761 +08:00 [DBG] Connection id "0HMU32CE1NBC9" completed keep alive response.
2023-10-02 14:45:32.761 +08:00 [DBG] 'SustainContext' disposed.
2023-10-02 14:45:32.762 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - - - 200 1127 text/json;+charset=utf-8 19.5060ms
2023-10-02 14:45:32.958 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - -
2023-10-02 14:45:32.958 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-02 14:45:32.959 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-02 14:45:32.959 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:45:32.959 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-02 14:45:32.959 +08:00 [INF] CORS policy execution successful.
2023-10-02 14:45:32.959 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-02 14:45:32.959 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:45:32.959 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-02 14:45:32.959 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-02 14:45:32.959 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-02 14:45:32.960 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-02 14:45:32.960 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-02 14:45:32.960 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-02 14:45:32.960 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 14:45:32.960 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 14:45:32.960 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-02 14:45:32.960 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-02 14:45:32.961 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-02 14:45:32.961 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 14:45:32.961 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 14:45:32.961 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-02 14:45:32.961 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-02 14:45:32.961 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-02 14:45:32.961 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-02 14:45:32.961 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:45:32.961 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:45:32.961 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:45:32.961 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-02 14:45:32.961 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:45:32.962 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 14:45:32.962 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-02 14:45:32.962 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:45:32.962 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:45:32.962 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 14:45:32.962 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:45:32.962 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 14:45:32.962 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-02 14:45:32.962 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:45:32.962 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:45:32.963 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 14:45:32.963 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:45:32.964 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-02 14:45:32.964 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 14:45:32.964 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 14:45:32.965 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:32.967 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:32.968 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 14:45:32.971 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 14:45:32.972 +08:00 [DBG] A data reader was disposed.
2023-10-02 14:45:32.972 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:32.972 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:32.972 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 14:45:32.973 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 14:45:32.973 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:32.973 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:32.973 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 14:45:32.977 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 14:45:32.978 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:32.979 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:32.979 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:32.979 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:32.979 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:32.979 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:32.979 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:32.980 +08:00 [DBG] A data reader was disposed.
2023-10-02 14:45:32.980 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:32.980 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:32.980 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-02 14:45:32.980 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-02 14:45:32.980 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-02 14:45:32.981 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-02 14:45:32.981 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 21.1437ms
2023-10-02 14:45:32.981 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:45:32.981 +08:00 [DBG] Connection id "0HMU32CE1NBC9" completed keep alive response.
2023-10-02 14:45:32.981 +08:00 [DBG] 'SustainContext' disposed.
2023-10-02 14:45:32.981 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - - - 200 1127 text/json;+charset=utf-8 23.1988ms
2023-10-02 14:45:33.309 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - -
2023-10-02 14:45:33.309 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-02 14:45:33.309 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-02 14:45:33.309 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:45:33.309 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-02 14:45:33.309 +08:00 [INF] CORS policy execution successful.
2023-10-02 14:45:33.309 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-02 14:45:33.309 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:45:33.310 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-02 14:45:33.310 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-02 14:45:33.310 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-02 14:45:33.310 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-02 14:45:33.310 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-02 14:45:33.310 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-02 14:45:33.310 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 14:45:33.311 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 14:45:33.311 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-02 14:45:33.311 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-02 14:45:33.311 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-02 14:45:33.311 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 14:45:33.311 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 14:45:33.311 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-02 14:45:33.311 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-02 14:45:33.311 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-02 14:45:33.311 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-02 14:45:33.312 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:45:33.312 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:45:33.312 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:45:33.312 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-02 14:45:33.312 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:45:33.312 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 14:45:33.312 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-02 14:45:33.312 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:45:33.312 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:45:33.312 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 14:45:33.312 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:45:33.312 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 14:45:33.313 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-02 14:45:33.313 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:45:33.313 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:45:33.313 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 14:45:33.313 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:45:33.314 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-02 14:45:33.314 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 14:45:33.314 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 14:45:33.315 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:33.318 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:33.319 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 14:45:33.322 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 14:45:33.323 +08:00 [DBG] A data reader was disposed.
2023-10-02 14:45:33.323 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:33.323 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:33.323 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 14:45:33.324 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 14:45:33.324 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:33.324 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:33.324 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 14:45:33.328 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 14:45:33.329 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:33.329 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:33.329 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:33.330 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:33.330 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:33.330 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:33.330 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:45:33.330 +08:00 [DBG] A data reader was disposed.
2023-10-02 14:45:33.330 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:33.330 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:45:33.331 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-02 14:45:33.331 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-02 14:45:33.331 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-02 14:45:33.331 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-02 14:45:33.331 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 21.2514ms
2023-10-02 14:45:33.332 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:45:33.332 +08:00 [DBG] Connection id "0HMU32CE1NBC9" completed keep alive response.
2023-10-02 14:45:33.332 +08:00 [DBG] 'SustainContext' disposed.
2023-10-02 14:45:33.332 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - - - 200 1127 text/json;+charset=utf-8 23.2808ms
2023-10-02 14:47:44.118 +08:00 [DBG] Connection id "0HMU32CE1NBC9" disconnecting.
2023-10-02 14:47:44.122 +08:00 [DBG] Connection id "0HMU32CE1NBC9" stopped.
2023-10-02 14:47:44.124 +08:00 [DBG] Connection id "0HMU32CE1NBC9" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-02 14:48:06.094 +08:00 [DBG] Connection id "0HMU32CE1NBCA" accepted.
2023-10-02 14:48:06.094 +08:00 [DBG] Connection id "0HMU32CE1NBCA" started.
2023-10-02 14:48:06.115 +08:00 [DBG] Connection 0HMU32CE1NBCA established using the following protocol: "Tls12"
2023-10-02 14:48:06.116 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - -
2023-10-02 14:48:06.116 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-02 14:48:06.116 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-02 14:48:06.116 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:48:06.116 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-02 14:48:06.116 +08:00 [INF] CORS policy execution successful.
2023-10-02 14:48:06.116 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-02 14:48:06.116 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:48:06.116 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-02 14:48:06.116 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-02 14:48:06.116 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-02 14:48:06.116 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-02 14:48:06.117 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-02 14:48:06.117 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-02 14:48:06.117 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 14:48:06.117 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 14:48:06.117 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-02 14:48:06.117 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-02 14:48:06.117 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-02 14:48:06.117 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 14:48:06.117 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 14:48:06.117 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-02 14:48:06.117 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-02 14:48:06.117 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-02 14:48:06.117 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-02 14:48:06.117 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:48:06.117 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:48:06.117 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:48:06.117 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-02 14:48:06.117 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:48:06.117 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 14:48:06.118 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-02 14:48:06.118 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:48:06.118 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:48:06.118 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 14:48:06.118 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:48:06.118 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 14:48:06.118 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-02 14:48:06.118 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:48:06.118 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:48:06.118 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 14:48:06.118 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:48:06.118 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-02 14:48:06.119 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 14:48:06.119 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 14:48:06.119 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:48:06.119 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:48:06.119 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 14:48:06.123 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 14:48:06.124 +08:00 [DBG] A data reader was disposed.
2023-10-02 14:48:06.124 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:48:06.124 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:48:06.124 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 14:48:06.124 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 14:48:06.124 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:48:06.124 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:48:06.125 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 14:48:06.128 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 14:48:06.129 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:48:06.129 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:48:06.129 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:48:06.129 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:48:06.129 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:48:06.129 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:48:06.129 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:48:06.129 +08:00 [DBG] A data reader was disposed.
2023-10-02 14:48:06.129 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:48:06.129 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:48:06.130 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-02 14:48:06.130 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-02 14:48:06.130 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-02 14:48:06.130 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-02 14:48:06.130 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 13.4122ms
2023-10-02 14:48:06.130 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:48:06.130 +08:00 [DBG] Connection id "0HMU32CE1NBCA" completed keep alive response.
2023-10-02 14:48:06.130 +08:00 [DBG] 'SustainContext' disposed.
2023-10-02 14:48:06.130 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - - - 200 1127 text/json;+charset=utf-8 14.5571ms
2023-10-02 14:48:10.791 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - -
2023-10-02 14:48:10.791 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-02 14:48:10.791 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-02 14:48:10.791 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:48:10.791 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-02 14:48:10.792 +08:00 [INF] CORS policy execution successful.
2023-10-02 14:48:10.792 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-02 14:48:10.792 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:48:10.792 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-02 14:48:10.792 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-02 14:48:10.792 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-02 14:48:10.792 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-02 14:48:10.793 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-02 14:48:10.793 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-02 14:48:10.793 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 14:48:10.793 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 14:48:10.793 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-02 14:48:10.793 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-02 14:48:10.794 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-02 14:48:10.794 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 14:48:10.794 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 14:48:10.794 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-02 14:48:10.794 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-02 14:48:10.794 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-02 14:48:10.794 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-02 14:48:10.794 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:48:10.794 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:48:10.794 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:48:10.795 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-02 14:48:10.795 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:48:10.795 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 14:48:10.795 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-02 14:48:10.795 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:48:10.795 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:48:10.795 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 14:48:10.795 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:48:10.795 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 14:48:10.795 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-02 14:48:10.795 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:48:10.796 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:48:10.797 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 14:48:10.797 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:48:10.798 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-02 14:48:10.799 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 14:48:10.799 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 14:48:10.799 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:48:10.800 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:48:10.800 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 14:48:10.804 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 14:48:10.805 +08:00 [DBG] A data reader was disposed.
2023-10-02 14:48:10.805 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:48:10.805 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:48:10.805 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 14:48:10.806 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 14:48:10.806 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:48:10.806 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:48:10.806 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 14:48:10.810 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 14:48:10.811 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:48:10.811 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:48:10.811 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:48:10.811 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:48:10.811 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:48:10.811 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:48:10.811 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:48:10.812 +08:00 [DBG] A data reader was disposed.
2023-10-02 14:48:10.812 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:48:10.812 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:48:10.812 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-02 14:48:10.812 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-02 14:48:10.812 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-02 14:48:10.812 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-02 14:48:10.813 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 19.99ms
2023-10-02 14:48:10.813 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:48:10.813 +08:00 [DBG] Connection id "0HMU32CE1NBCA" completed keep alive response.
2023-10-02 14:48:10.813 +08:00 [DBG] 'SustainContext' disposed.
2023-10-02 14:48:10.813 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - - - 200 1127 text/json;+charset=utf-8 22.4286ms
2023-10-02 14:48:13.990 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - -
2023-10-02 14:48:13.991 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-02 14:48:13.991 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-02 14:48:13.991 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:48:13.991 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-02 14:48:13.991 +08:00 [INF] CORS policy execution successful.
2023-10-02 14:48:13.992 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-02 14:48:13.992 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:48:13.992 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-02 14:48:13.992 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-02 14:48:13.992 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-02 14:48:13.992 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-02 14:48:13.992 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-02 14:48:13.993 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-02 14:48:13.993 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 14:48:13.993 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 14:48:13.993 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-02 14:48:13.994 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-02 14:48:13.994 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-02 14:48:13.994 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 14:48:13.994 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 14:48:13.994 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-02 14:48:13.994 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-02 14:48:13.994 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-02 14:48:13.994 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-02 14:48:13.994 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:48:13.994 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:48:13.994 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:48:13.995 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-02 14:48:13.995 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:48:13.995 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 14:48:13.995 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-02 14:48:13.995 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:48:13.995 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:48:13.995 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 14:48:13.995 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:48:13.995 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 14:48:13.995 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-02 14:48:13.995 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:48:13.996 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:48:13.997 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 14:48:13.997 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:48:13.998 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-02 14:48:13.999 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 14:48:13.999 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 14:48:13.999 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:48:13.999 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:48:13.999 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 14:48:14.003 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 14:48:14.004 +08:00 [DBG] A data reader was disposed.
2023-10-02 14:48:14.004 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:48:14.004 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:48:14.005 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 14:48:14.005 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 14:48:14.005 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:48:14.005 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:48:14.005 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 14:48:14.007 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 14:48:14.007 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:48:14.007 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:48:14.008 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:48:14.008 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:48:14.008 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:48:14.009 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:48:14.009 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:48:14.010 +08:00 [DBG] A data reader was disposed.
2023-10-02 14:48:14.010 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:48:14.010 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:48:14.010 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-02 14:48:14.011 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-02 14:48:14.012 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-02 14:48:14.012 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-02 14:48:14.012 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 19.5828ms
2023-10-02 14:48:14.013 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:48:14.013 +08:00 [DBG] Connection id "0HMU32CE1NBCA" completed keep alive response.
2023-10-02 14:48:14.015 +08:00 [DBG] 'SustainContext' disposed.
2023-10-02 14:48:14.015 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - - - 200 1127 text/json;+charset=utf-8 25.2167ms
2023-10-02 14:50:08.541 +08:00 [DBG] Connection id "0HMU32CE1NBCB" accepted.
2023-10-02 14:50:08.541 +08:00 [DBG] Connection id "0HMU32CE1NBCB" started.
2023-10-02 14:50:08.564 +08:00 [DBG] Connection 0HMU32CE1NBCB established using the following protocol: "Tls12"
2023-10-02 14:50:08.565 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/swagger/v1/swagger.json - -
2023-10-02 14:50:08.565 +08:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-10-02 14:50:08.565 +08:00 [DBG] Request did not match any endpoints
2023-10-02 14:50:08.631 +08:00 [DBG] Connection id "0HMU32CE1NBCB" completed keep alive response.
2023-10-02 14:50:08.631 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 66.6791ms
2023-10-02 14:50:10.678 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/swagger/index.html - -
2023-10-02 14:50:10.679 +08:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-10-02 14:50:10.679 +08:00 [DBG] Request did not match any endpoints
2023-10-02 14:50:10.713 +08:00 [DBG] Connection id "0HMU32CE1NBCB" completed keep alive response.
2023-10-02 14:50:10.713 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/swagger/index.html - - - 200 - text/html;charset=utf-8 34.9329ms
2023-10-02 14:50:10.790 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/swagger/v1/swagger.json - -
2023-10-02 14:50:10.790 +08:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-10-02 14:50:10.791 +08:00 [DBG] Request did not match any endpoints
2023-10-02 14:50:10.799 +08:00 [DBG] Connection id "0HMU32CE1NBCB" completed keep alive response.
2023-10-02 14:50:10.799 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 8.6277ms
2023-10-02 14:50:24.267 +08:00 [DBG] Connection id "0HMU32CE1NBCA" disconnecting.
2023-10-02 14:50:24.269 +08:00 [DBG] Connection id "0HMU32CE1NBCA" stopped.
2023-10-02 14:50:24.269 +08:00 [DBG] Connection id "0HMU32CE1NBCA" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-02 14:50:24.662 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=10 - -
2023-10-02 14:50:24.662 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-02 14:50:24.662 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-02 14:50:24.663 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:50:24.664 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-02 14:50:24.664 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:50:24.664 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-02 14:50:24.664 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-02 14:50:24.664 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-02 14:50:24.664 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-02 14:50:24.664 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-02 14:50:24.665 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-02 14:50:24.665 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 14:50:24.665 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 14:50:24.665 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-02 14:50:24.665 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-02 14:50:24.665 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-02 14:50:24.666 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 14:50:24.666 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 14:50:24.666 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-02 14:50:24.666 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-02 14:50:24.666 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-02 14:50:24.666 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-02 14:50:24.666 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:50:24.666 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:50:24.666 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:50:24.666 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-02 14:50:24.666 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:50:24.667 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 14:50:24.667 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-02 14:50:24.667 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:50:24.667 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:50:24.667 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 14:50:24.667 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:50:24.667 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 14:50:24.667 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-02 14:50:24.667 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:50:24.668 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:50:24.668 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 14:50:24.668 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:50:24.669 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-02 14:50:24.669 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 14:50:24.670 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 14:50:24.670 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:50:24.670 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:50:24.670 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 14:50:24.675 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 14:50:24.675 +08:00 [DBG] A data reader was disposed.
2023-10-02 14:50:24.676 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:50:24.676 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:50:24.677 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 14:50:24.677 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 14:50:24.677 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:50:24.677 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:50:24.677 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 14:50:24.682 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 14:50:24.682 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:50:24.682 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:50:24.682 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:50:24.683 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:50:24.683 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:50:24.683 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:50:24.683 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:50:24.683 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:50:24.683 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:50:24.684 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:50:24.684 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:50:24.688 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:50:24.694 +08:00 [DBG] Context 'SustainContext' started tracking 'Meter' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:50:24.705 +08:00 [DBG] A data reader was disposed.
2023-10-02 14:50:24.705 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:50:24.705 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:50:24.705 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-02 14:50:24.705 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-10-02 14:50:24.705 +08:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-10-02 14:50:24.705 +08:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-02 14:50:24.705 +08:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-02 14:50:24.706 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-02 14:50:24.706 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-02 14:50:24.710 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 45.4676ms
2023-10-02 14:50:24.710 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:50:24.710 +08:00 [DBG] Connection id "0HMU32CE1NBCB" completed keep alive response.
2023-10-02 14:50:24.711 +08:00 [DBG] 'SustainContext' disposed.
2023-10-02 14:50:24.711 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=10 - - - 200 2373 application/json;+charset=utf-8 48.9459ms
2023-10-02 14:52:23.043 +08:00 [DBG] Connection id "0HMU32CE1NBCC" accepted.
2023-10-02 14:52:23.044 +08:00 [DBG] Connection id "0HMU32CE1NBCC" started.
2023-10-02 14:52:23.066 +08:00 [DBG] Connection 0HMU32CE1NBCC established using the following protocol: "Tls12"
2023-10-02 14:52:23.067 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - -
2023-10-02 14:52:23.067 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-02 14:52:23.067 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-02 14:52:23.067 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:52:23.067 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-02 14:52:23.067 +08:00 [INF] CORS policy execution successful.
2023-10-02 14:52:23.067 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-02 14:52:23.067 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:52:23.067 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-02 14:52:23.068 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-02 14:52:23.068 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-02 14:52:23.068 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-02 14:52:23.068 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-02 14:52:23.068 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-02 14:52:23.068 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 14:52:23.068 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 14:52:23.068 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-02 14:52:23.068 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-02 14:52:23.068 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-02 14:52:23.068 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 14:52:23.068 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 14:52:23.068 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-02 14:52:23.068 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-02 14:52:23.068 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-02 14:52:23.068 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-02 14:52:23.069 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:52:23.069 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:52:23.069 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:52:23.069 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-02 14:52:23.069 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:52:23.069 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 14:52:23.069 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-02 14:52:23.069 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:52:23.069 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:52:23.069 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 14:52:23.069 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:52:23.069 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 14:52:23.069 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-02 14:52:23.069 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:52:23.069 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:52:23.069 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 14:52:23.069 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:52:23.070 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-02 14:52:23.070 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 14:52:23.071 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 14:52:23.071 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:52:23.071 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:52:23.071 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 14:52:23.075 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 14:52:23.075 +08:00 [DBG] A data reader was disposed.
2023-10-02 14:52:23.075 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:52:23.075 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:52:23.076 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 14:52:23.076 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 14:52:23.076 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:52:23.076 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:52:23.076 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 14:52:23.080 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 14:52:23.081 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:52:23.081 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:52:23.081 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:52:23.081 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:52:23.081 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:52:23.081 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:52:23.081 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:52:23.082 +08:00 [DBG] A data reader was disposed.
2023-10-02 14:52:23.082 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:52:23.082 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:52:23.082 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-02 14:52:23.082 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-02 14:52:23.082 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-02 14:52:23.082 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-02 14:52:23.083 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 14.9023ms
2023-10-02 14:52:23.083 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:52:23.083 +08:00 [DBG] Connection id "0HMU32CE1NBCC" completed keep alive response.
2023-10-02 14:52:23.083 +08:00 [DBG] 'SustainContext' disposed.
2023-10-02 14:52:23.083 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - - - 200 1127 text/json;+charset=utf-8 16.3305ms
2023-10-02 14:52:31.657 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=6 - -
2023-10-02 14:52:31.657 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-02 14:52:31.657 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-02 14:52:31.657 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:52:31.657 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-02 14:52:31.657 +08:00 [INF] CORS policy execution successful.
2023-10-02 14:52:31.657 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-02 14:52:31.657 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:52:31.658 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-02 14:52:31.660 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-02 14:52:31.660 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-02 14:52:31.660 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-02 14:52:31.660 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-02 14:52:31.660 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-02 14:52:31.661 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 14:52:31.661 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 14:52:31.661 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-02 14:52:31.661 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-02 14:52:31.661 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-02 14:52:31.662 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 14:52:31.662 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 14:52:31.662 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-02 14:52:31.662 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-02 14:52:31.662 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-02 14:52:31.662 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-02 14:52:31.662 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:52:31.663 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:52:31.663 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:52:31.663 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-02 14:52:31.664 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:52:31.664 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 14:52:31.664 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-02 14:52:31.664 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:52:31.664 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:52:31.665 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 14:52:31.665 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:52:31.665 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 14:52:31.665 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-02 14:52:31.665 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:52:31.665 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:52:31.665 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 14:52:31.665 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:52:31.666 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-02 14:52:31.666 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 14:52:31.667 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 14:52:31.667 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:52:31.667 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:52:31.667 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 14:52:31.671 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 14:52:31.671 +08:00 [DBG] A data reader was disposed.
2023-10-02 14:52:31.671 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:52:31.672 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:52:31.672 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 14:52:31.672 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 14:52:31.672 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:52:31.672 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:52:31.673 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 14:52:31.680 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 14:52:31.681 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:52:31.681 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:52:31.681 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:52:31.681 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:52:31.681 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:52:31.682 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:52:31.682 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:52:31.682 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:52:31.682 +08:00 [DBG] A data reader was disposed.
2023-10-02 14:52:31.683 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:52:31.683 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:52:31.683 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-02 14:52:31.684 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-02 14:52:31.684 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-02 14:52:31.684 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-02 14:52:31.686 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 25.2627ms
2023-10-02 14:52:31.686 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:52:31.691 +08:00 [DBG] Connection id "0HMU32CE1NBCC" completed keep alive response.
2023-10-02 14:52:31.696 +08:00 [DBG] 'SustainContext' disposed.
2023-10-02 14:52:31.696 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=6 - - - 200 1351 text/json;+charset=utf-8 39.6474ms
2023-10-02 14:52:34.356 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=7 - -
2023-10-02 14:52:34.356 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-02 14:52:34.356 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-02 14:52:34.356 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:52:34.356 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-02 14:52:34.356 +08:00 [INF] CORS policy execution successful.
2023-10-02 14:52:34.357 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-02 14:52:34.357 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:52:34.357 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-02 14:52:34.357 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-02 14:52:34.357 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-02 14:52:34.357 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-02 14:52:34.357 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-02 14:52:34.357 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-02 14:52:34.357 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 14:52:34.358 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 14:52:34.358 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-02 14:52:34.358 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-02 14:52:34.358 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-02 14:52:34.358 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 14:52:34.358 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 14:52:34.358 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-02 14:52:34.359 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-02 14:52:34.359 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-02 14:52:34.359 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-02 14:52:34.359 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:52:34.359 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:52:34.359 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:52:34.359 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-02 14:52:34.359 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:52:34.359 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 14:52:34.359 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-02 14:52:34.360 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:52:34.360 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:52:34.360 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 14:52:34.360 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:52:34.360 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 14:52:34.360 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-02 14:52:34.360 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:52:34.360 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:52:34.360 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 14:52:34.360 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:52:34.361 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-02 14:52:34.362 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 14:52:34.362 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 14:52:34.362 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:52:34.362 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:52:34.363 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 14:52:34.366 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 14:52:34.366 +08:00 [DBG] A data reader was disposed.
2023-10-02 14:52:34.366 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:52:34.366 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:52:34.367 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 14:52:34.367 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 14:52:34.367 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:52:34.367 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:52:34.367 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 14:52:34.371 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 14:52:34.372 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:52:34.372 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:52:34.372 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:52:34.372 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:52:34.373 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:52:34.373 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:52:34.373 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:52:34.373 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:52:34.374 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:52:34.375 +08:00 [DBG] A data reader was disposed.
2023-10-02 14:52:34.375 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:52:34.375 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:52:34.376 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-02 14:52:34.376 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-02 14:52:34.376 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-02 14:52:34.376 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-02 14:52:34.377 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 19.5953ms
2023-10-02 14:52:34.377 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:52:34.377 +08:00 [DBG] Connection id "0HMU32CE1NBCC" completed keep alive response.
2023-10-02 14:52:34.377 +08:00 [DBG] 'SustainContext' disposed.
2023-10-02 14:52:34.378 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=7 - - - 200 1558 text/json;+charset=utf-8 22.1695ms
2023-10-02 14:52:35.391 +08:00 [DBG] Connection id "0HMU32CE1NBCB" disconnecting.
2023-10-02 14:52:35.391 +08:00 [DBG] Connection id "0HMU32CE1NBCB" stopped.
2023-10-02 14:52:35.392 +08:00 [DBG] Connection id "0HMU32CE1NBCB" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-02 14:52:41.005 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=6 - -
2023-10-02 14:52:41.005 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-02 14:52:41.006 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-02 14:52:41.006 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:52:41.006 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-02 14:52:41.006 +08:00 [INF] CORS policy execution successful.
2023-10-02 14:52:41.006 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-02 14:52:41.006 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:52:41.006 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-02 14:52:41.006 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-02 14:52:41.006 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-02 14:52:41.006 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-02 14:52:41.007 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-02 14:52:41.007 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-02 14:52:41.007 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 14:52:41.007 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 14:52:41.007 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-02 14:52:41.007 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-02 14:52:41.007 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-02 14:52:41.008 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 14:52:41.008 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 14:52:41.008 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-02 14:52:41.008 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-02 14:52:41.008 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-02 14:52:41.008 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-02 14:52:41.008 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:52:41.008 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:52:41.008 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:52:41.009 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-02 14:52:41.009 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:52:41.009 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 14:52:41.009 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-02 14:52:41.009 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:52:41.009 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:52:41.009 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 14:52:41.009 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:52:41.009 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 14:52:41.010 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-02 14:52:41.010 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:52:41.010 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:52:41.010 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 14:52:41.011 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:52:41.011 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-02 14:52:41.012 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 14:52:41.012 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 14:52:41.012 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:52:41.012 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:52:41.012 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 14:52:41.016 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 14:52:41.016 +08:00 [DBG] A data reader was disposed.
2023-10-02 14:52:41.016 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:52:41.016 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:52:41.017 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 14:52:41.017 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 14:52:41.018 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:52:41.018 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:52:41.018 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 14:52:41.022 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 14:52:41.023 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:52:41.023 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:52:41.023 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:52:41.024 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:52:41.024 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:52:41.025 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:52:41.025 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:52:41.025 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:52:41.026 +08:00 [DBG] A data reader was disposed.
2023-10-02 14:52:41.026 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:52:41.026 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:52:41.026 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-02 14:52:41.026 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-02 14:52:41.026 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-02 14:52:41.027 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-02 14:52:41.027 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 20.2298ms
2023-10-02 14:52:41.027 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:52:41.027 +08:00 [DBG] Connection id "0HMU32CE1NBCC" completed keep alive response.
2023-10-02 14:52:41.027 +08:00 [DBG] 'SustainContext' disposed.
2023-10-02 14:52:41.027 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=6 - - - 200 1351 text/json;+charset=utf-8 22.1356ms
2023-10-02 14:53:25.949 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - -
2023-10-02 14:53:25.949 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-02 14:53:25.949 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-02 14:53:25.949 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:53:25.949 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-02 14:53:25.949 +08:00 [INF] CORS policy execution successful.
2023-10-02 14:53:25.949 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-02 14:53:25.950 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:53:25.950 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-02 14:53:25.950 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-02 14:53:25.950 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-02 14:53:25.950 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-02 14:53:25.950 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-02 14:53:25.950 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-02 14:53:25.950 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 14:53:25.950 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 14:53:25.950 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-02 14:53:25.950 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-02 14:53:25.950 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-02 14:53:25.950 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 14:53:25.950 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 14:53:25.950 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-02 14:53:25.950 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-02 14:53:25.950 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-02 14:53:25.950 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-02 14:53:25.950 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:53:25.950 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:53:25.950 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:53:25.951 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-02 14:53:25.951 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:53:25.951 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 14:53:25.951 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-02 14:53:25.951 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:53:25.951 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:53:25.951 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 14:53:25.951 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:53:25.951 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 14:53:25.951 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-02 14:53:25.951 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:53:25.951 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:53:25.951 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 14:53:25.951 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:53:25.952 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-02 14:53:25.952 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 14:53:25.952 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 14:53:25.952 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:53:25.952 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:53:25.952 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 14:53:25.955 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 14:53:25.955 +08:00 [DBG] A data reader was disposed.
2023-10-02 14:53:25.955 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:53:25.955 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:53:25.956 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 14:53:25.956 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 14:53:25.956 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:53:25.956 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:53:25.956 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 14:53:25.959 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 14:53:25.960 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:53:25.960 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:53:25.960 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:53:25.960 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:53:25.960 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:53:25.960 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:53:25.960 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:53:25.960 +08:00 [DBG] A data reader was disposed.
2023-10-02 14:53:25.960 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:53:25.960 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:53:25.960 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-02 14:53:25.960 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-02 14:53:25.961 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-02 14:53:25.961 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-02 14:53:25.961 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 10.975ms
2023-10-02 14:53:25.961 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:53:25.961 +08:00 [DBG] Connection id "0HMU32CE1NBCC" completed keep alive response.
2023-10-02 14:53:25.961 +08:00 [DBG] 'SustainContext' disposed.
2023-10-02 14:53:25.961 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - - - 200 1127 text/json;+charset=utf-8 12.1646ms
2023-10-02 14:55:36.565 +08:00 [DBG] Connection id "0HMU32CE1NBCC" disconnecting.
2023-10-02 14:55:36.566 +08:00 [DBG] Connection id "0HMU32CE1NBCC" stopped.
2023-10-02 14:55:36.566 +08:00 [DBG] Connection id "0HMU32CE1NBCC" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-02 14:55:51.734 +08:00 [DBG] Connection id "0HMU32CE1NBCD" accepted.
2023-10-02 14:55:51.734 +08:00 [DBG] Connection id "0HMU32CE1NBCD" started.
2023-10-02 14:55:51.756 +08:00 [DBG] Connection 0HMU32CE1NBCD established using the following protocol: "Tls12"
2023-10-02 14:55:51.756 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - -
2023-10-02 14:55:51.757 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-02 14:55:51.757 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-02 14:55:51.757 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:55:51.757 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-02 14:55:51.757 +08:00 [INF] CORS policy execution successful.
2023-10-02 14:55:51.757 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-02 14:55:51.757 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:55:51.757 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-02 14:55:51.757 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-02 14:55:51.757 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-02 14:55:51.757 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-02 14:55:51.757 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-02 14:55:51.757 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-02 14:55:51.757 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 14:55:51.757 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 14:55:51.757 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-02 14:55:51.757 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-02 14:55:51.757 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-02 14:55:51.757 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 14:55:51.758 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 14:55:51.758 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-02 14:55:51.758 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-02 14:55:51.758 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-02 14:55:51.758 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-02 14:55:51.758 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:55:51.758 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:55:51.758 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:55:51.758 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-02 14:55:51.758 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-02 14:55:51.758 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 14:55:51.758 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-02 14:55:51.758 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:55:51.758 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:55:51.758 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 14:55:51.758 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 14:55:51.758 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 14:55:51.758 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-02 14:55:51.758 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:55:51.758 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:55:51.758 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 14:55:51.758 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-02 14:55:51.759 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-02 14:55:51.759 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 14:55:51.759 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 14:55:51.759 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:55:51.759 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:55:51.759 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 14:55:51.762 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 14:55:51.762 +08:00 [DBG] A data reader was disposed.
2023-10-02 14:55:51.762 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:55:51.762 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:55:51.763 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 14:55:51.763 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 14:55:51.763 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:55:51.763 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:55:51.763 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 14:55:51.766 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 14:55:51.767 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:55:51.767 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:55:51.767 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:55:51.767 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:55:51.767 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:55:51.767 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:55:51.768 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 14:55:51.768 +08:00 [DBG] A data reader was disposed.
2023-10-02 14:55:51.768 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:55:51.769 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 14:55:51.769 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-02 14:55:51.769 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-02 14:55:51.769 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-02 14:55:51.769 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-02 14:55:51.770 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 12.3878ms
2023-10-02 14:55:51.770 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 14:55:51.770 +08:00 [DBG] Connection id "0HMU32CE1NBCD" completed keep alive response.
2023-10-02 14:55:51.770 +08:00 [DBG] 'SustainContext' disposed.
2023-10-02 14:55:51.770 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - - - 200 1127 text/json;+charset=utf-8 13.2973ms
2023-10-02 14:57:48.426 +08:00 [DBG] Connection id "0HMU32CE1NBCD" received FIN.
2023-10-02 14:57:48.447 +08:00 [DBG] Connection id "0HMU32CE1NBCD" disconnecting.
2023-10-02 14:57:48.447 +08:00 [DBG] Connection id "0HMU32CE1NBCD" stopped.
2023-10-02 14:57:48.447 +08:00 [DBG] Connection id "0HMU32CE1NBCD" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-02 15:02:27.845 +08:00 [DBG] Connection id "0HMU32CE1NBCE" accepted.
2023-10-02 15:02:27.845 +08:00 [DBG] Connection id "0HMU32CE1NBCE" started.
2023-10-02 15:02:27.870 +08:00 [DBG] Connection 0HMU32CE1NBCE established using the following protocol: "Tls12"
2023-10-02 15:02:27.872 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=4 - -
2023-10-02 15:02:27.872 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-02 15:02:27.873 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-02 15:02:27.873 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 15:02:27.873 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-02 15:02:27.873 +08:00 [INF] CORS policy execution successful.
2023-10-02 15:02:27.874 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-02 15:02:27.874 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 15:02:27.875 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-02 15:02:27.876 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-02 15:02:27.876 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-02 15:02:27.876 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-02 15:02:27.877 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-02 15:02:27.877 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-02 15:02:27.877 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 15:02:27.878 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 15:02:27.878 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-02 15:02:27.879 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-02 15:02:27.879 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-02 15:02:27.879 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 15:02:27.879 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 15:02:27.879 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-02 15:02:27.879 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-02 15:02:27.879 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-02 15:02:27.879 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-02 15:02:27.879 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:02:27.879 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:02:27.879 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:02:27.880 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-02 15:02:27.880 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:02:27.880 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 15:02:27.880 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-02 15:02:27.880 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 15:02:27.881 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 15:02:27.881 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 15:02:27.881 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 15:02:27.881 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 15:02:27.881 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-02 15:02:27.882 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 15:02:27.882 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 15:02:27.882 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 15:02:27.882 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-02 15:02:27.884 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-02 15:02:27.885 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 15:02:27.885 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 15:02:27.885 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:27.919 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:27.919 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 15:02:27.921 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 15:02:27.921 +08:00 [DBG] A data reader was disposed.
2023-10-02 15:02:27.922 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:27.922 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:27.922 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 15:02:27.922 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 15:02:27.922 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:27.922 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:27.922 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 15:02:27.926 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 15:02:27.926 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:27.926 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:27.926 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:27.926 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:27.927 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:27.927 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:27.927 +08:00 [DBG] A data reader was disposed.
2023-10-02 15:02:27.927 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:27.927 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:27.927 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-02 15:02:27.928 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-02 15:02:27.928 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-02 15:02:27.928 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-02 15:02:27.928 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 51.0232ms
2023-10-02 15:02:27.928 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 15:02:27.928 +08:00 [DBG] Connection id "0HMU32CE1NBCE" completed keep alive response.
2023-10-02 15:02:27.928 +08:00 [DBG] 'SustainContext' disposed.
2023-10-02 15:02:27.928 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=4 - - - 200 915 text/json;+charset=utf-8 56.6448ms
2023-10-02 15:02:30.577 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - -
2023-10-02 15:02:30.577 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-02 15:02:30.577 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-02 15:02:30.578 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 15:02:30.578 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-02 15:02:30.578 +08:00 [INF] CORS policy execution successful.
2023-10-02 15:02:30.578 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-02 15:02:30.578 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 15:02:30.578 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-02 15:02:30.578 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-02 15:02:30.578 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-02 15:02:30.578 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-02 15:02:30.579 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-02 15:02:30.579 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-02 15:02:30.579 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 15:02:30.579 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 15:02:30.579 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-02 15:02:30.579 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-02 15:02:30.579 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-02 15:02:30.580 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 15:02:30.580 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 15:02:30.580 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-02 15:02:30.580 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-02 15:02:30.580 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-02 15:02:30.580 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-02 15:02:30.580 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:02:30.580 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:02:30.580 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:02:30.580 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-02 15:02:30.580 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:02:30.580 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 15:02:30.581 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-02 15:02:30.581 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 15:02:30.581 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 15:02:30.581 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 15:02:30.581 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 15:02:30.581 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 15:02:30.581 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-02 15:02:30.581 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 15:02:30.581 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 15:02:30.581 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 15:02:30.581 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-02 15:02:30.582 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-02 15:02:30.582 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 15:02:30.583 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 15:02:30.583 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:30.584 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:30.584 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 15:02:30.591 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 15:02:30.591 +08:00 [DBG] A data reader was disposed.
2023-10-02 15:02:30.591 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:30.591 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:30.592 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 15:02:30.592 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 15:02:30.592 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:30.592 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:30.592 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 15:02:30.596 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 15:02:30.597 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:30.597 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:30.597 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:30.597 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:30.598 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:30.598 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:30.598 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:30.598 +08:00 [DBG] A data reader was disposed.
2023-10-02 15:02:30.598 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:30.598 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:30.598 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-02 15:02:30.599 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-02 15:02:30.599 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-02 15:02:30.599 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-02 15:02:30.599 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 20.458ms
2023-10-02 15:02:30.599 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 15:02:30.599 +08:00 [DBG] Connection id "0HMU32CE1NBCE" completed keep alive response.
2023-10-02 15:02:30.600 +08:00 [DBG] 'SustainContext' disposed.
2023-10-02 15:02:30.600 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - - - 200 1127 text/json;+charset=utf-8 22.6082ms
2023-10-02 15:02:31.278 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=6 - -
2023-10-02 15:02:31.278 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-02 15:02:31.278 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-02 15:02:31.278 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 15:02:31.278 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-02 15:02:31.278 +08:00 [INF] CORS policy execution successful.
2023-10-02 15:02:31.278 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-02 15:02:31.278 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 15:02:31.279 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-02 15:02:31.279 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-02 15:02:31.279 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-02 15:02:31.279 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-02 15:02:31.279 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-02 15:02:31.279 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-02 15:02:31.279 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 15:02:31.279 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 15:02:31.280 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-02 15:02:31.280 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-02 15:02:31.280 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-02 15:02:31.280 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 15:02:31.280 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 15:02:31.280 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-02 15:02:31.280 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-02 15:02:31.280 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-02 15:02:31.280 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-02 15:02:31.280 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:02:31.281 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:02:31.281 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:02:31.281 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-02 15:02:31.281 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:02:31.281 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 15:02:31.281 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-02 15:02:31.281 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 15:02:31.281 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 15:02:31.281 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 15:02:31.281 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 15:02:31.281 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 15:02:31.282 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-02 15:02:31.282 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 15:02:31.282 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 15:02:31.282 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 15:02:31.282 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-02 15:02:31.283 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-02 15:02:31.283 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 15:02:31.283 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 15:02:31.283 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:31.284 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:31.284 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 15:02:31.289 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 15:02:31.290 +08:00 [DBG] A data reader was disposed.
2023-10-02 15:02:31.290 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:31.290 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:31.291 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 15:02:31.291 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 15:02:31.292 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:31.292 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:31.292 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 15:02:31.296 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 15:02:31.297 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:31.297 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:31.297 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:31.297 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:31.297 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:31.297 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:31.297 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:31.298 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:31.298 +08:00 [DBG] A data reader was disposed.
2023-10-02 15:02:31.298 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:31.298 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:31.298 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-02 15:02:31.298 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-02 15:02:31.298 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-02 15:02:31.299 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-02 15:02:31.299 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 19.7312ms
2023-10-02 15:02:31.299 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 15:02:31.299 +08:00 [DBG] Connection id "0HMU32CE1NBCE" completed keep alive response.
2023-10-02 15:02:31.299 +08:00 [DBG] 'SustainContext' disposed.
2023-10-02 15:02:31.301 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=6 - - - 200 1351 text/json;+charset=utf-8 23.4031ms
2023-10-02 15:02:32.108 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=7 - -
2023-10-02 15:02:32.108 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-02 15:02:32.108 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-02 15:02:32.108 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 15:02:32.108 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-02 15:02:32.108 +08:00 [INF] CORS policy execution successful.
2023-10-02 15:02:32.108 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-02 15:02:32.108 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 15:02:32.108 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-02 15:02:32.109 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-02 15:02:32.109 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-02 15:02:32.109 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-02 15:02:32.109 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-02 15:02:32.109 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-02 15:02:32.109 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 15:02:32.109 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 15:02:32.110 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-02 15:02:32.110 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-02 15:02:32.110 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-02 15:02:32.110 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 15:02:32.110 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 15:02:32.111 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-02 15:02:32.111 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-02 15:02:32.111 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-02 15:02:32.111 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-02 15:02:32.111 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:02:32.112 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:02:32.112 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:02:32.112 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-02 15:02:32.112 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:02:32.112 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 15:02:32.112 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-02 15:02:32.113 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 15:02:32.113 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 15:02:32.113 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 15:02:32.114 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 15:02:32.114 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 15:02:32.114 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-02 15:02:32.115 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 15:02:32.115 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 15:02:32.116 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 15:02:32.116 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-02 15:02:32.117 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-02 15:02:32.117 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 15:02:32.117 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 15:02:32.118 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:32.118 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:32.119 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 15:02:32.122 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 15:02:32.122 +08:00 [DBG] A data reader was disposed.
2023-10-02 15:02:32.122 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:32.123 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:32.123 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 15:02:32.123 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 15:02:32.123 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:32.123 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:32.124 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 15:02:32.127 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 15:02:32.127 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:32.127 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:32.128 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:32.128 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:32.128 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:32.128 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:32.128 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:32.128 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:32.128 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:32.128 +08:00 [DBG] A data reader was disposed.
2023-10-02 15:02:32.129 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:32.129 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:32.129 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-02 15:02:32.129 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-02 15:02:32.129 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-02 15:02:32.129 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-02 15:02:32.130 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 20.8556ms
2023-10-02 15:02:32.130 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 15:02:32.130 +08:00 [DBG] Connection id "0HMU32CE1NBCE" completed keep alive response.
2023-10-02 15:02:32.130 +08:00 [DBG] 'SustainContext' disposed.
2023-10-02 15:02:32.130 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=7 - - - 200 1558 text/json;+charset=utf-8 22.8620ms
2023-10-02 15:02:33.422 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=6 - -
2023-10-02 15:02:33.422 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-02 15:02:33.422 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-02 15:02:33.422 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 15:02:33.422 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-02 15:02:33.422 +08:00 [INF] CORS policy execution successful.
2023-10-02 15:02:33.422 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-02 15:02:33.422 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 15:02:33.422 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-02 15:02:33.423 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-02 15:02:33.423 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-02 15:02:33.423 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-02 15:02:33.423 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-02 15:02:33.423 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-02 15:02:33.423 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 15:02:33.423 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 15:02:33.423 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-02 15:02:33.424 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-02 15:02:33.424 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-02 15:02:33.424 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 15:02:33.424 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 15:02:33.424 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-02 15:02:33.424 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-02 15:02:33.424 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-02 15:02:33.424 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-02 15:02:33.424 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:02:33.424 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:02:33.424 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:02:33.425 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-02 15:02:33.425 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:02:33.425 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 15:02:33.425 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-02 15:02:33.425 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 15:02:33.425 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 15:02:33.425 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 15:02:33.425 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 15:02:33.425 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 15:02:33.425 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-02 15:02:33.425 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 15:02:33.425 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 15:02:33.426 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 15:02:33.426 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-02 15:02:33.426 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-02 15:02:33.427 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 15:02:33.427 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 15:02:33.427 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:33.427 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:33.428 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 15:02:33.431 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 15:02:33.432 +08:00 [DBG] A data reader was disposed.
2023-10-02 15:02:33.432 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:33.432 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:33.433 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 15:02:33.433 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 15:02:33.433 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:33.433 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:33.433 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 15:02:33.437 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 15:02:33.437 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:33.437 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:33.438 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:33.438 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:33.438 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:33.438 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:33.438 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:33.439 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:33.439 +08:00 [DBG] A data reader was disposed.
2023-10-02 15:02:33.439 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:33.439 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:33.439 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-02 15:02:33.440 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-02 15:02:33.440 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-02 15:02:33.440 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-02 15:02:33.440 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 17.2002ms
2023-10-02 15:02:33.440 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 15:02:33.441 +08:00 [DBG] Connection id "0HMU32CE1NBCE" completed keep alive response.
2023-10-02 15:02:33.441 +08:00 [DBG] 'SustainContext' disposed.
2023-10-02 15:02:33.441 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=6 - - - 200 1351 text/json;+charset=utf-8 19.2358ms
2023-10-02 15:02:33.937 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - -
2023-10-02 15:02:33.937 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-02 15:02:33.937 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-02 15:02:33.937 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 15:02:33.937 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-02 15:02:33.938 +08:00 [INF] CORS policy execution successful.
2023-10-02 15:02:33.938 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-02 15:02:33.938 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 15:02:33.938 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-02 15:02:33.938 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-02 15:02:33.938 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-02 15:02:33.938 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-02 15:02:33.938 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-02 15:02:33.938 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-02 15:02:33.938 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 15:02:33.939 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 15:02:33.939 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-02 15:02:33.939 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-02 15:02:33.939 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-02 15:02:33.939 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 15:02:33.939 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 15:02:33.939 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-02 15:02:33.939 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-02 15:02:33.939 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-02 15:02:33.939 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-02 15:02:33.939 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:02:33.939 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:02:33.940 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:02:33.940 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-02 15:02:33.940 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:02:33.940 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 15:02:33.940 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-02 15:02:33.940 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 15:02:33.940 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 15:02:33.940 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 15:02:33.940 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 15:02:33.940 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 15:02:33.940 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-02 15:02:33.940 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 15:02:33.940 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 15:02:33.940 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 15:02:33.940 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-02 15:02:33.941 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-02 15:02:33.941 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 15:02:33.941 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 15:02:33.941 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:33.941 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:33.942 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 15:02:33.944 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 15:02:33.945 +08:00 [DBG] A data reader was disposed.
2023-10-02 15:02:33.945 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:33.945 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:33.945 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 15:02:33.945 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 15:02:33.945 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:33.945 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:33.945 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 15:02:33.949 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 15:02:33.949 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:33.949 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:33.949 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:33.949 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:33.949 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:33.949 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:33.949 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:33.949 +08:00 [DBG] A data reader was disposed.
2023-10-02 15:02:33.949 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:33.950 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:33.950 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-02 15:02:33.950 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-02 15:02:33.950 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-02 15:02:33.950 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-02 15:02:33.950 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 11.8337ms
2023-10-02 15:02:33.950 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 15:02:33.950 +08:00 [DBG] Connection id "0HMU32CE1NBCE" completed keep alive response.
2023-10-02 15:02:33.950 +08:00 [DBG] 'SustainContext' disposed.
2023-10-02 15:02:33.950 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - - - 200 1127 text/json;+charset=utf-8 13.3578ms
2023-10-02 15:02:34.255 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=4 - -
2023-10-02 15:02:34.255 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-02 15:02:34.255 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-02 15:02:34.255 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 15:02:34.255 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-02 15:02:34.255 +08:00 [INF] CORS policy execution successful.
2023-10-02 15:02:34.255 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-02 15:02:34.255 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 15:02:34.256 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-02 15:02:34.256 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-02 15:02:34.256 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-02 15:02:34.256 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-02 15:02:34.256 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-02 15:02:34.256 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-02 15:02:34.256 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 15:02:34.257 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 15:02:34.257 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-02 15:02:34.257 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-02 15:02:34.257 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-02 15:02:34.257 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 15:02:34.257 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 15:02:34.257 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-02 15:02:34.257 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-02 15:02:34.257 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-02 15:02:34.257 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-02 15:02:34.257 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:02:34.258 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:02:34.258 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:02:34.258 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-02 15:02:34.258 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:02:34.258 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 15:02:34.258 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-02 15:02:34.258 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 15:02:34.258 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 15:02:34.258 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 15:02:34.259 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 15:02:34.259 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 15:02:34.259 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-02 15:02:34.259 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 15:02:34.259 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 15:02:34.260 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 15:02:34.260 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-02 15:02:34.261 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-02 15:02:34.262 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 15:02:34.263 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 15:02:34.263 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:34.263 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:34.263 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 15:02:34.267 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 15:02:34.268 +08:00 [DBG] A data reader was disposed.
2023-10-02 15:02:34.268 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:34.268 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:34.269 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 15:02:34.269 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 15:02:34.269 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:34.270 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:34.270 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 15:02:34.275 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 15:02:34.276 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:34.276 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:34.276 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:34.276 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:34.276 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:34.276 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:34.277 +08:00 [DBG] A data reader was disposed.
2023-10-02 15:02:34.277 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:34.277 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:34.277 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-02 15:02:34.277 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-02 15:02:34.277 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-02 15:02:34.278 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-02 15:02:34.278 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 21.7483ms
2023-10-02 15:02:34.278 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 15:02:34.278 +08:00 [DBG] Connection id "0HMU32CE1NBCE" completed keep alive response.
2023-10-02 15:02:34.278 +08:00 [DBG] 'SustainContext' disposed.
2023-10-02 15:02:34.278 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=4 - - - 200 915 text/json;+charset=utf-8 23.7642ms
2023-10-02 15:02:37.107 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - -
2023-10-02 15:02:37.108 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-02 15:02:37.108 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-02 15:02:37.108 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 15:02:37.108 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-02 15:02:37.108 +08:00 [INF] CORS policy execution successful.
2023-10-02 15:02:37.108 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-02 15:02:37.108 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 15:02:37.108 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-02 15:02:37.108 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-02 15:02:37.109 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-02 15:02:37.109 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-02 15:02:37.109 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-02 15:02:37.109 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-02 15:02:37.109 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 15:02:37.109 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 15:02:37.109 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-02 15:02:37.109 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-02 15:02:37.109 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-02 15:02:37.110 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 15:02:37.110 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 15:02:37.110 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-02 15:02:37.110 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-02 15:02:37.110 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-02 15:02:37.110 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-02 15:02:37.110 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:02:37.110 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:02:37.110 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:02:37.110 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-02 15:02:37.110 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:02:37.110 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 15:02:37.111 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-02 15:02:37.111 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 15:02:37.111 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 15:02:37.111 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 15:02:37.111 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 15:02:37.111 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 15:02:37.111 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-02 15:02:37.111 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 15:02:37.111 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 15:02:37.111 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 15:02:37.111 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-02 15:02:37.112 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-02 15:02:37.112 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 15:02:37.112 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 15:02:37.112 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:37.113 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:37.113 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 15:02:37.117 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 15:02:37.117 +08:00 [DBG] A data reader was disposed.
2023-10-02 15:02:37.117 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:37.117 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:37.118 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 15:02:37.118 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 15:02:37.118 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:37.118 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:37.118 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 15:02:37.122 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 15:02:37.122 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:37.123 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:37.123 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:37.123 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:37.123 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:37.123 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:37.123 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:37.124 +08:00 [DBG] A data reader was disposed.
2023-10-02 15:02:37.124 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:37.124 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:37.124 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-02 15:02:37.125 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-02 15:02:37.125 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-02 15:02:37.125 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-02 15:02:37.126 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 16.6541ms
2023-10-02 15:02:37.126 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 15:02:37.126 +08:00 [DBG] Connection id "0HMU32CE1NBCE" completed keep alive response.
2023-10-02 15:02:37.126 +08:00 [DBG] 'SustainContext' disposed.
2023-10-02 15:02:37.126 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - - - 200 1127 text/json;+charset=utf-8 18.6330ms
2023-10-02 15:02:37.708 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=6 - -
2023-10-02 15:02:37.708 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-02 15:02:37.708 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-02 15:02:37.708 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 15:02:37.708 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-02 15:02:37.708 +08:00 [INF] CORS policy execution successful.
2023-10-02 15:02:37.708 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-02 15:02:37.708 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 15:02:37.709 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-02 15:02:37.709 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-02 15:02:37.709 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-02 15:02:37.709 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-02 15:02:37.709 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-02 15:02:37.709 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-02 15:02:37.709 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 15:02:37.710 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 15:02:37.710 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-02 15:02:37.710 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-02 15:02:37.710 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-02 15:02:37.710 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 15:02:37.710 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 15:02:37.710 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-02 15:02:37.710 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-02 15:02:37.710 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-02 15:02:37.710 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-02 15:02:37.710 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:02:37.711 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:02:37.711 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:02:37.711 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-02 15:02:37.711 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:02:37.711 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 15:02:37.711 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-02 15:02:37.711 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 15:02:37.711 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 15:02:37.711 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 15:02:37.711 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 15:02:37.711 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 15:02:37.711 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-02 15:02:37.712 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 15:02:37.712 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 15:02:37.712 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 15:02:37.712 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-02 15:02:37.712 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-02 15:02:37.713 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 15:02:37.713 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 15:02:37.713 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:37.714 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:37.714 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 15:02:37.717 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 15:02:37.717 +08:00 [DBG] A data reader was disposed.
2023-10-02 15:02:37.717 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:37.717 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:37.718 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 15:02:37.718 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 15:02:37.718 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:37.718 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:37.718 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 15:02:37.724 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 15:02:37.724 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:37.724 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:37.725 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:37.725 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:37.725 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:37.725 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:37.725 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:37.726 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:02:37.726 +08:00 [DBG] A data reader was disposed.
2023-10-02 15:02:37.726 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:37.726 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:02:37.726 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-02 15:02:37.727 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-02 15:02:37.727 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-02 15:02:37.727 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-02 15:02:37.727 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 17.9837ms
2023-10-02 15:02:37.727 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 15:02:37.728 +08:00 [DBG] Connection id "0HMU32CE1NBCE" completed keep alive response.
2023-10-02 15:02:37.728 +08:00 [DBG] 'SustainContext' disposed.
2023-10-02 15:02:37.728 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=6 - - - 200 1351 text/json;+charset=utf-8 20.0214ms
2023-10-02 15:03:16.389 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - -
2023-10-02 15:03:16.390 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-02 15:03:16.390 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-02 15:03:16.390 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 15:03:16.390 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-02 15:03:16.390 +08:00 [INF] CORS policy execution successful.
2023-10-02 15:03:16.390 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-02 15:03:16.390 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 15:03:16.391 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-02 15:03:16.391 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-02 15:03:16.391 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-02 15:03:16.391 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-02 15:03:16.391 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-02 15:03:16.391 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-02 15:03:16.391 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 15:03:16.392 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 15:03:16.392 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-02 15:03:16.392 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-02 15:03:16.392 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-02 15:03:16.392 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 15:03:16.392 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 15:03:16.392 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-02 15:03:16.393 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-02 15:03:16.393 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-02 15:03:16.393 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-02 15:03:16.393 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:03:16.393 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:03:16.393 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:03:16.393 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-02 15:03:16.393 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:03:16.395 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 15:03:16.395 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-02 15:03:16.396 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 15:03:16.396 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 15:03:16.396 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 15:03:16.396 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 15:03:16.396 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 15:03:16.396 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-02 15:03:16.397 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 15:03:16.397 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 15:03:16.397 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 15:03:16.397 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-02 15:03:16.398 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-02 15:03:16.398 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 15:03:16.398 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 15:03:16.398 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:03:16.399 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:03:16.399 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 15:03:16.403 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 15:03:16.404 +08:00 [DBG] A data reader was disposed.
2023-10-02 15:03:16.404 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:03:16.404 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:03:16.405 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 15:03:16.405 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 15:03:16.405 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:03:16.405 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:03:16.405 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 15:03:16.409 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 15:03:16.410 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:03:16.410 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:03:16.410 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:03:16.410 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:03:16.411 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:03:16.411 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:03:16.411 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:03:16.411 +08:00 [DBG] A data reader was disposed.
2023-10-02 15:03:16.411 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:03:16.411 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:03:16.412 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-02 15:03:16.412 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-02 15:03:16.412 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-02 15:03:16.412 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-02 15:03:16.413 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 21.3731ms
2023-10-02 15:03:16.413 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 15:03:16.413 +08:00 [DBG] Connection id "0HMU32CE1NBCE" completed keep alive response.
2023-10-02 15:03:16.413 +08:00 [DBG] 'SustainContext' disposed.
2023-10-02 15:03:16.413 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - - - 200 1127 text/json;+charset=utf-8 24.4808ms
2023-10-02 15:03:17.358 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=4 - -
2023-10-02 15:03:17.358 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-02 15:03:17.358 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-02 15:03:17.358 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 15:03:17.358 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-02 15:03:17.358 +08:00 [INF] CORS policy execution successful.
2023-10-02 15:03:17.358 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-02 15:03:17.358 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 15:03:17.358 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-02 15:03:17.359 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-02 15:03:17.359 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-02 15:03:17.359 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-02 15:03:17.359 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-02 15:03:17.359 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-02 15:03:17.359 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 15:03:17.359 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 15:03:17.360 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-02 15:03:17.360 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-02 15:03:17.360 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-02 15:03:17.360 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 15:03:17.360 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 15:03:17.360 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-02 15:03:17.360 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-02 15:03:17.361 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-02 15:03:17.361 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-02 15:03:17.361 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:03:17.361 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:03:17.361 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:03:17.361 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-02 15:03:17.361 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:03:17.361 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 15:03:17.361 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-02 15:03:17.362 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 15:03:17.362 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 15:03:17.362 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 15:03:17.362 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 15:03:17.362 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 15:03:17.362 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-02 15:03:17.362 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 15:03:17.363 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 15:03:17.363 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 15:03:17.363 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-02 15:03:17.364 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-02 15:03:17.365 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 15:03:17.365 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 15:03:17.365 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:03:17.365 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:03:17.365 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 15:03:17.368 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 15:03:17.369 +08:00 [DBG] A data reader was disposed.
2023-10-02 15:03:17.369 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:03:17.369 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:03:17.370 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 15:03:17.370 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 15:03:17.370 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:03:17.370 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:03:17.371 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 15:03:17.376 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 15:03:17.377 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:03:17.377 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:03:17.378 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:03:17.378 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:03:17.378 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:03:17.378 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:03:17.378 +08:00 [DBG] A data reader was disposed.
2023-10-02 15:03:17.379 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:03:17.379 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:03:17.379 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-02 15:03:17.379 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-02 15:03:17.379 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-02 15:03:17.380 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-02 15:03:17.380 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 21.0477ms
2023-10-02 15:03:17.380 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 15:03:17.380 +08:00 [DBG] Connection id "0HMU32CE1NBCE" completed keep alive response.
2023-10-02 15:03:17.380 +08:00 [DBG] 'SustainContext' disposed.
2023-10-02 15:03:17.381 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=4 - - - 200 915 text/json;+charset=utf-8 23.0687ms
2023-10-02 15:05:27.530 +08:00 [DBG] Connection id "0HMU32CE1NBCE" disconnecting.
2023-10-02 15:05:27.532 +08:00 [DBG] Connection id "0HMU32CE1NBCE" stopped.
2023-10-02 15:05:27.532 +08:00 [DBG] Connection id "0HMU32CE1NBCE" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-02 15:20:12.326 +08:00 [DBG] Connection id "0HMU32CE1NBCF" accepted.
2023-10-02 15:20:12.326 +08:00 [DBG] Connection id "0HMU32CE1NBCF" started.
2023-10-02 15:20:12.348 +08:00 [DBG] Connection 0HMU32CE1NBCF established using the following protocol: "Tls12"
2023-10-02 15:20:12.349 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - -
2023-10-02 15:20:12.349 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-02 15:20:12.349 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-02 15:20:12.349 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 15:20:12.349 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-02 15:20:12.349 +08:00 [INF] CORS policy execution successful.
2023-10-02 15:20:12.349 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-02 15:20:12.349 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 15:20:12.349 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-02 15:20:12.350 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-02 15:20:12.350 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-02 15:20:12.350 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-02 15:20:12.350 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-02 15:20:12.350 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-02 15:20:12.350 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 15:20:12.350 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 15:20:12.350 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-02 15:20:12.350 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-02 15:20:12.350 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-02 15:20:12.350 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 15:20:12.350 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 15:20:12.350 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-02 15:20:12.350 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-02 15:20:12.350 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-02 15:20:12.350 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-02 15:20:12.350 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:20:12.350 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:20:12.350 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:20:12.350 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-02 15:20:12.351 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:20:12.351 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 15:20:12.351 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-02 15:20:12.351 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 15:20:12.351 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 15:20:12.351 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 15:20:12.351 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 15:20:12.351 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 15:20:12.351 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-02 15:20:12.351 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 15:20:12.351 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 15:20:12.351 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 15:20:12.351 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-02 15:20:12.351 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-02 15:20:12.351 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 15:20:12.351 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 15:20:12.351 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:20:12.366 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:20:12.366 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 15:20:12.367 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 15:20:12.367 +08:00 [DBG] A data reader was disposed.
2023-10-02 15:20:12.368 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:20:12.368 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:20:12.368 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 15:20:12.368 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 15:20:12.368 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:20:12.368 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:20:12.368 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 15:20:12.370 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 15:20:12.370 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:20:12.370 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:20:12.370 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:20:12.370 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:20:12.370 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:20:12.370 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:20:12.370 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:20:12.370 +08:00 [DBG] A data reader was disposed.
2023-10-02 15:20:12.370 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:20:12.370 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:20:12.371 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-02 15:20:12.371 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-02 15:20:12.371 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-02 15:20:12.371 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-02 15:20:12.371 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 21.4575ms
2023-10-02 15:20:12.371 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 15:20:12.371 +08:00 [DBG] Connection id "0HMU32CE1NBCF" completed keep alive response.
2023-10-02 15:20:12.371 +08:00 [DBG] 'SustainContext' disposed.
2023-10-02 15:20:12.372 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - - - 200 1127 text/json;+charset=utf-8 22.6752ms
2023-10-02 15:20:36.877 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=2&pageSize=5 - -
2023-10-02 15:20:36.878 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-02 15:20:36.878 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-02 15:20:36.878 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 15:20:36.878 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-02 15:20:36.878 +08:00 [INF] CORS policy execution successful.
2023-10-02 15:20:36.879 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-02 15:20:36.879 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 15:20:36.879 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-02 15:20:36.879 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-02 15:20:36.879 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-02 15:20:36.879 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-02 15:20:36.879 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-02 15:20:36.880 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-02 15:20:36.880 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 15:20:36.880 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 15:20:36.880 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-02 15:20:36.880 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-02 15:20:36.880 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-02 15:20:36.880 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 15:20:36.880 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 15:20:36.881 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-02 15:20:36.881 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-02 15:20:36.881 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-02 15:20:36.881 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-02 15:20:36.881 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:20:36.881 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:20:36.881 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:20:36.881 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-02 15:20:36.881 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:20:36.881 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 15:20:36.881 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-02 15:20:36.882 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 15:20:36.882 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 15:20:36.882 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 15:20:36.882 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 15:20:36.882 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 15:20:36.883 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-02 15:20:36.883 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 15:20:36.883 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 15:20:36.884 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 15:20:36.884 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-02 15:20:36.884 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-02 15:20:36.885 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 15:20:36.885 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 15:20:36.885 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:20:36.885 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:20:36.885 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 15:20:36.890 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 15:20:36.890 +08:00 [DBG] A data reader was disposed.
2023-10-02 15:20:36.890 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:20:36.891 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:20:36.892 +08:00 [DBG] Compiling query expression: 
'DbSet<School>()
    .Include(s => s.Meters)
    .Include(s => s.SchoolType)
    .OrderBy(s => s.SchoolName)
    .Skip(__p_0)
    .Take(__p_0)'
2023-10-02 15:20:36.895 +08:00 [DBG] Including navigation: 'School.Meters'.
2023-10-02 15:20:36.896 +08:00 [DBG] Including navigation: 'School.SchoolType'.
2023-10-02 15:20:36.918 +08:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<School>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: School.SchoolId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: School.SchoolLocation (string) MaxLength(100), 1], [Property: School.SchoolName (string) MaxLength(100), 2], [Property: School.SchoolTypeId (int?) FK Index, 3] }
            1 -> 0
            2 -> 4
            3 -> Dictionary<IProperty, int> { [Property: Meter.MeterId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Meter.MeterDescription (string) MaxLength(255), 6], [Property: Meter.MeterName (string) MaxLength(255), 7], [Property: Meter.MeterTypeId (int?) FK Index, 8], [Property: Meter.SchoolId (int?) FK Index, 9], [Property: Meter.UtilityAccountNumber (string), 10] }
            4 -> 5
            5 -> Dictionary<IProperty, int> { [Property: SchoolType.SchoolTypeId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: SchoolType.TypeLongDescription (string) MaxLength(50), 11], [Property: SchoolType.TypeShortDescription (string) Required MaxLength(255), 12] }
        SELECT t.SchoolId, t.SchoolLocation, t.SchoolName, t.SchoolTypeId, s0.SchoolTypeId, m.MeterId, m.MeterDescription, m.MeterName, m.MeterTypeId, m.SchoolId, m.UtilityAccountNumber, s0.TypeLongDescription, s0.TypeShortDescription
        FROM 
        (
            SELECT s.SchoolId, s.SchoolLocation, s.SchoolName, s.SchoolTypeId
            FROM School AS s
            ORDER BY s.SchoolName ASC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
        ) AS t
        LEFT JOIN SchoolType AS s0 ON t.SchoolTypeId == s0.SchoolTypeId
        LEFT JOIN Meter AS m ON t.SchoolId == m.SchoolId
        ORDER BY t.SchoolName ASC, t.SchoolId ASC, s0.SchoolTypeId ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, School>, 
    Sustain.DbContexts.SustainContext, 
    False, 
    False, 
    True
)'
2023-10-02 15:20:36.918 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 15:20:36.918 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 15:20:36.918 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:20:36.919 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:20:36.919 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 15:20:36.952 +08:00 [INF] Executed DbCommand (34ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 15:20:36.953 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:20:36.953 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:20:36.953 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:20:36.953 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:20:36.953 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:20:36.953 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:20:36.953 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:20:36.954 +08:00 [DBG] Context 'SustainContext' started tracking 'Meter' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:20:36.954 +08:00 [DBG] A data reader was disposed.
2023-10-02 15:20:36.954 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:20:36.954 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:20:36.954 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-02 15:20:36.954 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-02 15:20:36.954 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-02 15:20:36.954 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-02 15:20:36.955 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 75.0301ms
2023-10-02 15:20:36.955 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 15:20:36.955 +08:00 [DBG] Connection id "0HMU32CE1NBCF" completed keep alive response.
2023-10-02 15:20:36.955 +08:00 [DBG] 'SustainContext' disposed.
2023-10-02 15:20:36.955 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=2&pageSize=5 - - - 200 1247 text/json;+charset=utf-8 77.7182ms
2023-10-02 15:20:39.095 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - -
2023-10-02 15:20:39.095 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-02 15:20:39.095 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-02 15:20:39.096 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 15:20:39.096 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-02 15:20:39.096 +08:00 [INF] CORS policy execution successful.
2023-10-02 15:20:39.096 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-02 15:20:39.096 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 15:20:39.096 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-02 15:20:39.096 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-02 15:20:39.096 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-02 15:20:39.096 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-02 15:20:39.096 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-02 15:20:39.097 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-02 15:20:39.097 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 15:20:39.097 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 15:20:39.097 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-02 15:20:39.097 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-02 15:20:39.097 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-02 15:20:39.097 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 15:20:39.098 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 15:20:39.098 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-02 15:20:39.098 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-02 15:20:39.098 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-02 15:20:39.098 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-02 15:20:39.098 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:20:39.098 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:20:39.098 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:20:39.098 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-02 15:20:39.098 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:20:39.098 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 15:20:39.098 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-02 15:20:39.099 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 15:20:39.099 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 15:20:39.099 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 15:20:39.099 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 15:20:39.099 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 15:20:39.099 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-02 15:20:39.099 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 15:20:39.099 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 15:20:39.099 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 15:20:39.099 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-02 15:20:39.100 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-02 15:20:39.101 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 15:20:39.101 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 15:20:39.101 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:20:39.102 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:20:39.102 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 15:20:39.107 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 15:20:39.107 +08:00 [DBG] A data reader was disposed.
2023-10-02 15:20:39.107 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:20:39.107 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:20:39.108 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 15:20:39.108 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 15:20:39.108 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:20:39.109 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:20:39.109 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 15:20:39.115 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 15:20:39.115 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:20:39.115 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:20:39.115 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:20:39.116 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:20:39.116 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:20:39.116 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:20:39.116 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:20:39.116 +08:00 [DBG] A data reader was disposed.
2023-10-02 15:20:39.116 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:20:39.116 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:20:39.117 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-02 15:20:39.117 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-02 15:20:39.117 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-02 15:20:39.117 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-02 15:20:39.117 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 20.739ms
2023-10-02 15:20:39.118 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 15:20:39.118 +08:00 [DBG] Connection id "0HMU32CE1NBCF" completed keep alive response.
2023-10-02 15:20:39.118 +08:00 [DBG] 'SustainContext' disposed.
2023-10-02 15:20:39.118 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=5 - - - 200 1127 text/json;+charset=utf-8 22.8954ms
2023-10-02 15:20:40.843 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=6 - -
2023-10-02 15:20:40.843 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-02 15:20:40.843 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-02 15:20:40.844 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 15:20:40.844 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-02 15:20:40.844 +08:00 [INF] CORS policy execution successful.
2023-10-02 15:20:40.844 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-02 15:20:40.844 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 15:20:40.844 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-02 15:20:40.844 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-02 15:20:40.844 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-02 15:20:40.844 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-02 15:20:40.844 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-02 15:20:40.845 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-02 15:20:40.845 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 15:20:40.845 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 15:20:40.845 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-02 15:20:40.845 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-02 15:20:40.846 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-02 15:20:40.846 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 15:20:40.846 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 15:20:40.846 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-02 15:20:40.846 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-02 15:20:40.846 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-02 15:20:40.846 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-02 15:20:40.846 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:20:40.846 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:20:40.846 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:20:40.846 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-02 15:20:40.846 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:20:40.847 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 15:20:40.847 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-02 15:20:40.847 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 15:20:40.847 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 15:20:40.847 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 15:20:40.847 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 15:20:40.847 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 15:20:40.847 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-02 15:20:40.847 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 15:20:40.847 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 15:20:40.847 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 15:20:40.848 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-02 15:20:40.848 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-02 15:20:40.849 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 15:20:40.849 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 15:20:40.849 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:20:40.849 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:20:40.849 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 15:20:40.853 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 15:20:40.854 +08:00 [DBG] A data reader was disposed.
2023-10-02 15:20:40.854 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:20:40.854 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:20:40.855 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 15:20:40.855 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 15:20:40.855 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:20:40.855 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:20:40.856 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 15:20:40.862 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 15:20:40.863 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:20:40.863 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:20:40.863 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:20:40.864 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:20:40.864 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:20:40.864 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:20:40.864 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:20:40.864 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:20:40.864 +08:00 [DBG] A data reader was disposed.
2023-10-02 15:20:40.865 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:20:40.865 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:20:40.865 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-02 15:20:40.865 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-02 15:20:40.865 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-02 15:20:40.866 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-02 15:20:40.866 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 21.4354ms
2023-10-02 15:20:40.866 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 15:20:40.866 +08:00 [DBG] Connection id "0HMU32CE1NBCF" completed keep alive response.
2023-10-02 15:20:40.866 +08:00 [DBG] 'SustainContext' disposed.
2023-10-02 15:20:40.867 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=6 - - - 200 1351 text/json;+charset=utf-8 23.5345ms
2023-10-02 15:20:41.560 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=7 - -
2023-10-02 15:20:41.560 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-02 15:20:41.560 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-02 15:20:41.560 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 15:20:41.560 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-02 15:20:41.561 +08:00 [INF] CORS policy execution successful.
2023-10-02 15:20:41.561 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-02 15:20:41.561 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 15:20:41.561 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-02 15:20:41.561 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-02 15:20:41.561 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-02 15:20:41.561 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-02 15:20:41.561 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-02 15:20:41.561 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-02 15:20:41.562 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 15:20:41.562 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 15:20:41.562 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-02 15:20:41.562 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-02 15:20:41.562 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-02 15:20:41.563 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 15:20:41.563 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 15:20:41.563 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-02 15:20:41.563 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-02 15:20:41.563 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-02 15:20:41.563 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-02 15:20:41.563 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:20:41.563 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:20:41.563 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:20:41.563 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-02 15:20:41.563 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:20:41.564 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 15:20:41.564 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-02 15:20:41.564 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 15:20:41.564 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 15:20:41.564 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 15:20:41.564 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 15:20:41.564 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 15:20:41.564 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-02 15:20:41.564 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 15:20:41.564 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 15:20:41.564 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 15:20:41.565 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-02 15:20:41.565 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-02 15:20:41.566 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 15:20:41.566 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 15:20:41.566 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:20:41.566 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:20:41.568 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 15:20:41.572 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 15:20:41.573 +08:00 [DBG] A data reader was disposed.
2023-10-02 15:20:41.573 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:20:41.573 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:20:41.574 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 15:20:41.574 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 15:20:41.574 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:20:41.574 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:20:41.574 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 15:20:41.580 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 15:20:41.581 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:20:41.581 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:20:41.581 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:20:41.581 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:20:41.581 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:20:41.581 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:20:41.582 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:20:41.582 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:20:41.582 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:20:41.582 +08:00 [DBG] A data reader was disposed.
2023-10-02 15:20:41.582 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:20:41.582 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:20:41.582 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-02 15:20:41.583 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-02 15:20:41.583 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-02 15:20:41.583 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-02 15:20:41.583 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 21.4996ms
2023-10-02 15:20:41.583 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 15:20:41.583 +08:00 [DBG] Connection id "0HMU32CE1NBCF" completed keep alive response.
2023-10-02 15:20:41.583 +08:00 [DBG] 'SustainContext' disposed.
2023-10-02 15:20:41.584 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=1&pageSize=7 - - - 200 1558 text/json;+charset=utf-8 23.6625ms
2023-10-02 15:20:42.743 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=2&pageSize=7 - -
2023-10-02 15:20:42.743 +08:00 [DBG] 1 candidate(s) found for the request path '/api/School'
2023-10-02 15:20:42.743 +08:00 [DBG] Endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)' with route pattern 'api/School' is valid for the request path '/api/School'
2023-10-02 15:20:42.743 +08:00 [DBG] Request matched endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 15:20:42.744 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-10-02 15:20:42.744 +08:00 [INF] CORS policy execution successful.
2023-10-02 15:20:42.744 +08:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-10-02 15:20:42.744 +08:00 [INF] Executing endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 15:20:42.744 +08:00 [INF] Route matched with {action = "GetSchools", controller = "School"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Sustain.Models.SchoolDto]]] GetSchools(System.String, System.String, Int32, Int32) on controller Sustain.Controllers.SchoolController (contactsapp).
2023-10-02 15:20:42.744 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-02 15:20:42.744 +08:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-02 15:20:42.744 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-02 15:20:42.744 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-02 15:20:42.745 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-02 15:20:42.745 +08:00 [DBG] Executing controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 15:20:42.745 +08:00 [DBG] Executed controller factory for controller Sustain.Controllers.SchoolController (contactsapp)
2023-10-02 15:20:42.745 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-10-02 15:20:42.745 +08:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-10-02 15:20:42.746 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-10-02 15:20:42.746 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 15:20:42.746 +08:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-10-02 15:20:42.746 +08:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-10-02 15:20:42.746 +08:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-10-02 15:20:42.746 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-10-02 15:20:42.746 +08:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-10-02 15:20:42.746 +08:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:20:42.746 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:20:42.746 +08:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:20:42.747 +08:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-10-02 15:20:42.747 +08:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-10-02 15:20:42.747 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 15:20:42.747 +08:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-10-02 15:20:42.747 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 15:20:42.747 +08:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 15:20:42.747 +08:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-10-02 15:20:42.747 +08:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-10-02 15:20:42.747 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 15:20:42.748 +08:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-10-02 15:20:42.748 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 15:20:42.748 +08:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-10-02 15:20:42.749 +08:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-10-02 15:20:42.749 +08:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-10-02 15:20:42.749 +08:00 [INF] Entity Framework Core 6.0.8 initialized 'SustainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-10-02 15:20:42.750 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 15:20:42.750 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 15:20:42.750 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:20:42.750 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:20:42.750 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 15:20:42.756 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [School] AS [s]
2023-10-02 15:20:42.756 +08:00 [DBG] A data reader was disposed.
2023-10-02 15:20:42.756 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:20:42.756 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:20:42.757 +08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-02 15:20:42.757 +08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-02 15:20:42.758 +08:00 [DBG] Opening connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:20:42.758 +08:00 [DBG] Opened connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:20:42.758 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 15:20:42.763 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SchoolId], [t].[SchoolLocation], [t].[SchoolName], [t].[SchoolTypeId], [s0].[SchoolTypeId], [m].[MeterId], [m].[MeterDescription], [m].[MeterName], [m].[MeterTypeId], [m].[SchoolId], [m].[UtilityAccountNumber], [s0].[TypeLongDescription], [s0].[TypeShortDescription]
FROM (
    SELECT [s].[SchoolId], [s].[SchoolLocation], [s].[SchoolName], [s].[SchoolTypeId]
    FROM [School] AS [s]
    ORDER BY [s].[SchoolName]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t]
LEFT JOIN [SchoolType] AS [s0] ON [t].[SchoolTypeId] = [s0].[SchoolTypeId]
LEFT JOIN [Meter] AS [m] ON [t].[SchoolId] = [m].[SchoolId]
ORDER BY [t].[SchoolName], [t].[SchoolId], [s0].[SchoolTypeId]
2023-10-02 15:20:42.764 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:20:42.764 +08:00 [DBG] Context 'SustainContext' started tracking 'SchoolType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:20:42.764 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:20:42.764 +08:00 [DBG] Context 'SustainContext' started tracking 'School' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:20:42.764 +08:00 [DBG] Context 'SustainContext' started tracking 'Meter' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-02 15:20:42.765 +08:00 [DBG] A data reader was disposed.
2023-10-02 15:20:42.765 +08:00 [DBG] Closing connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:20:42.765 +08:00 [DBG] Closed connection to database 'sustainable' on server 'localhost'.
2023-10-02 15:20:42.765 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-02 15:20:42.765 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2023-10-02 15:20:42.765 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2023-10-02 15:20:42.765 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Sustain.Models.SchoolDto, contactsapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-02 15:20:42.766 +08:00 [INF] Executed action Sustain.Controllers.SchoolController.GetSchools (contactsapp) in 21.1517ms
2023-10-02 15:20:42.766 +08:00 [INF] Executed endpoint 'Sustain.Controllers.SchoolController.GetSchools (contactsapp)'
2023-10-02 15:20:42.766 +08:00 [DBG] Connection id "0HMU32CE1NBCF" completed keep alive response.
2023-10-02 15:20:42.766 +08:00 [DBG] 'SustainContext' disposed.
2023-10-02 15:20:42.766 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:7195/api/School?pageNumber=2&pageSize=7 - - - 200 816 text/json;+charset=utf-8 23.2573ms
2023-10-02 15:22:53.519 +08:00 [DBG] Connection id "0HMU32CE1NBCF" disconnecting.
2023-10-02 15:22:53.519 +08:00 [DBG] Connection id "0HMU32CE1NBCF" stopped.
2023-10-02 15:22:53.520 +08:00 [DBG] Connection id "0HMU32CE1NBCF" sending FIN because: "The Socket transport's send loop completed gracefully."
